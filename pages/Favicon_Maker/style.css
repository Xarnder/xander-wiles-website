/* --- Foundational Styles --- */
:root {
    --bg-primary: #0a0a0b;
    --bg-secondary: #111115;
    --glass-bg: rgba(26, 26, 32, 0.7);
    --glass-border: rgba(255, 255, 255, 0.12);
    --text-primary: #ffffff;
    --text-secondary: #a1a1aa;
    --text-muted: #71717a;
    --accent-purple: #8b5cf6;
    --accent-cyan: #06b6d4;
    --gradient-primary: linear-gradient(135deg, #8b5cf6 0%, #06b6d4 100%);
    --radius-xl: 20px;
    --radius-lg: 16px;
    --radius-md: 12px;
}

/* --- Global & Body Styles --- */
* { margin: 0; padding: 0; box-sizing: border-box; }
body { 
    font-family: 'Inter', sans-serif; 
    background: var(--bg-primary); 
    color: var(--text-primary); 
    padding: 1rem;
    position: relative;
    overflow-x: hidden;
    min-height: 100vh;
}

/* --- Background Decorations --- */
.background-overlay, .floating-shapes { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
.background-overlay { background: radial-gradient(circle at 25% 25%, rgba(139, 92, 246, 0.1) 0%, transparent 50%), radial-gradient(circle at 75% 75%, rgba(6, 182, 212, 0.1) 0%, transparent 50%); }
.shape { position: absolute; border-radius: 50%; filter: blur(100px); opacity: 0.2; }
.shape-1 { width: 300px; height: 300px; background: var(--accent-purple); top: 10%; left: 10%; }
.shape-2 { width: 400px; height: 400px; background: var(--accent-cyan); top: 50%; right: 5%; }

/* --- Main Layout & Card Styles --- */
.app-container { width: 100%; max-width: 960px; margin: 1.5rem auto; display: flex; flex-direction: column; gap: 1.5rem; }
.glass-card { background: var(--glass-bg); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid var(--glass-border); border-radius: var(--radius-xl); padding: 2rem; }
.glass-card h2 { margin-bottom: 0.5rem; }
.glass-card .description { color: var(--text-secondary); margin-bottom: 1.5rem; max-width: 70ch; }

/* --- Header --- */
.site-header { width: 100%; max-width: 1200px; margin: 0 auto; padding: 1rem 2rem; }
.site-header .logo { font-size: 1.5rem; font-weight: 700; color: var(--text-primary); text-decoration: none; background: var(--gradient-primary); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; }

/* --- Helper Classes --- */
.hidden { display: none !important; }

/* --- Upload Area --- */
#upload-label { display: flex; flex-direction: column; align-items: center; justify-content: center; background: var(--bg-secondary); border: 2px dashed var(--glass-border); border-radius: var(--radius-lg); padding: 2rem; text-align: center; font-weight: 600; color: var(--text-secondary); cursor: pointer; transition: all 0.3s ease; min-height: 200px; }
#upload-label:hover, #upload-label.dragover { background: var(--accent-purple); border-color: transparent; color: var(--text-primary); }
#upload-label.uploaded { border-style: solid; border-color: var(--accent-cyan); cursor: default; }
#upload-label.uploaded:hover { background: var(--bg-secondary); border-color: var(--accent-cyan); }
#upload-prompt strong { display: block; color: var(--text-primary); font-size: 1.1rem; margin-bottom: 0.5rem; }
#image-preview { max-width: 120px; max-height: 120px; border-radius: var(--radius-md); object-fit: contain; }

/* --- SVG Customization Section --- */
.svg-editor-layout { display: grid; grid-template-rows: auto 1fr auto; gap: 1.5rem; }
.preview-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; flex-wrap: wrap; gap: 0.5rem;}
.preview-header h3 { font-size: 1.1rem; color: var(--text-primary); margin: 0; }
.preview-bg-controls { display: flex; align-items: center; gap: 0.5rem; }
.preview-bg-controls span { font-size: 0.8rem; color: var(--text-muted); }
.color-swatch { width: 20px; height: 20px; border-radius: 50%; cursor: pointer; border: 2px solid var(--glass-border); transition: all 0.2s; }
.color-swatch:hover { border-color: var(--text-secondary); transform: scale(1.1); }
.color-swatch.active { border-color: var(--accent-cyan); }
.color-swatch[data-color="transparent"] { background-image: linear-gradient(45deg, #444 25%, transparent 25%), linear-gradient(-45deg, #444 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #444 75%), linear-gradient(-45deg, transparent 75%, #444 75%); background-size: 10px 10px; background-position: 0 0, 0 5px, 5px -5px, -5px 0px; }

.preview-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
.preview-box h4 { text-align: center; margin-bottom: 0.75rem; font-weight: 600; color: var(--text-secondary); }
.svg-preview-wrapper { background-color: transparent; border-radius: var(--radius-lg); padding: 1rem; border: 1px solid var(--glass-border); height: 250px; display: flex; align-items: center; justify-content: center; transition: background-color 0.2s; }
.svg-preview-wrapper[data-bg="transparent"] { background-image: linear-gradient(45deg, var(--bg-secondary) 25%, transparent 25%), linear-gradient(-45deg, var(--bg-secondary) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--bg-secondary) 75%), linear-gradient(-45deg, transparent 75%, var(--bg-secondary) 75%); background-size: 20px 20px; background-position: 0 0, 0 10px, 10px -10px, -10px 0px; }
.svg-preview-wrapper svg { width: 100%; height: 100%; object-fit: contain; }

.controls-grid { display: flex; flex-direction: column; gap: 1.5rem; margin-top: 1rem; }
.control-group { display: grid; grid-template-columns: 100px 1fr 40px; align-items: center; gap: 1rem; }
.control-group label { font-weight: 600; color: var(--text-secondary); }
.control-group span { font-family: 'SF Mono', monospace; color: var(--text-primary); background: var(--bg-secondary); padding: 0.25rem 0.5rem; border-radius: 6px; text-align: center; }

/* --- Custom Range Sliders --- */
input[type="range"] { -webkit-appearance: none; appearance: none; width: 100%; height: 4px; background: var(--bg-secondary); border-radius: 5px; outline: none; cursor: pointer; }
input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 20px; height: 20px; border-radius: 50%; background: var(--gradient-primary); border: 3px solid white; transition: transform 0.2s; }
input[type="range"]::-moz-range-thumb { width: 20px; height: 20px; border-radius: 50%; background: var(--gradient-primary); border: 3px solid white; }
input[type="range"]::-webkit-slider-thumb:hover { transform: scale(1.1); }

/* --- Generate & Results Area --- */
.controls { text-align: center; }
button { background: var(--gradient-primary); color: var(--text-primary); border: none; border-radius: var(--radius-md); padding: 0.8rem 1.5rem; font-weight: 600; font-size: 1rem; cursor: pointer; transition: transform 0.2s ease, box-shadow 0.2s ease; display: inline-flex; align-items: center; gap: 0.5rem; }
button:hover { transform: scale(1.05); box-shadow: 0 0 20px rgba(139, 92, 246, 0.4); }
button:disabled { background: var(--bg-secondary); color: var(--text-muted); cursor: not-allowed; transform: none; box-shadow: none; }
.results-content { display: grid; grid-template-columns: 2fr 1fr; gap: 1.5rem; align-items: start; }
.result-box h3 { margin-bottom: 0.75rem; color: var(--text-primary); }
.code-block-wrapper { position: relative; }
.code-block-wrapper pre { background: var(--bg-secondary); border: 1px solid var(--glass-border); border-radius: var(--radius-md); padding: 1rem; overflow-x: auto; }
.code-block-wrapper code { font-family: 'SF Mono', 'Fira Code', monospace; font-size: 0.85rem; color: var(--text-secondary); white-space: pre-wrap; word-break: break-all; }
.copy-btn { position: absolute; top: 0.5rem; right: 0.5rem; background: var(--glass-bg); border: 1px solid var(--glass-border); color: var(--text-secondary); padding: 0.4rem; border-radius: 6px; line-height: 0; }
.download-btn { width: 100%; justify-content: center; }

/* --- Responsive Design --- */
@media (max-width: 768px) {
    .preview-grid { grid-template-columns: 1fr; gap: 1rem; }
    .svg-preview-wrapper { height: 200px; }
    .control-group { grid-template-columns: 80px 1fr 40px; gap: 0.75rem; }
    .results-content { grid-template-columns: 1fr; gap: 2rem;}
}