(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Qk(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var vv={exports:{}},Ld={};var z_;function $k(){if(z_)return Ld;z_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Ld.Fragment=e,Ld.jsx=t,Ld.jsxs=t,Ld}var B_;function Xk(){return B_||(B_=1,vv.exports=$k()),vv.exports}var ye=Xk(),bv={exports:{}},Kt={};var U_;function Zk(){if(U_)return Kt;U_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),T=Symbol.iterator;function C(se){return se===null||typeof se!="object"?null:(se=T&&se[T]||se["@@iterator"],typeof se=="function"?se:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,I={};function N(se,H,A){this.props=se,this.context=H,this.refs=I,this.updater=A||L}N.prototype.isReactComponent={},N.prototype.setState=function(se,H){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,H,"setState")},N.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function P(){}P.prototype=N.prototype;function W(se,H,A){this.props=se,this.context=H,this.refs=I,this.updater=A||L}var re=W.prototype=new P;re.constructor=W,R(re,N.prototype),re.isPureReactComponent=!0;var te=Array.isArray;function ne(){}var B={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function q(se,H,A){var ge=A.ref;return{$$typeof:n,type:se,key:H,ref:ge!==void 0?ge:null,props:A}}function ae(se,H){return q(se.type,H,se.props)}function $(se){return typeof se=="object"&&se!==null&&se.$$typeof===n}function F(se){var H={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(A){return H[A]})}var Z=/\/+/g;function U(se,H){return typeof se=="object"&&se!==null&&se.key!=null?F(""+se.key):H.toString(36)}function ee(se){switch(se.status){case"fulfilled":return se.value;case"rejected":throw se.reason;default:switch(typeof se.status=="string"?se.then(ne,ne):(se.status="pending",se.then(function(H){se.status==="pending"&&(se.status="fulfilled",se.value=H)},function(H){se.status==="pending"&&(se.status="rejected",se.reason=H)})),se.status){case"fulfilled":return se.value;case"rejected":throw se.reason}}throw se}function fe(se,H,A,ge,Ue){var $e=typeof se;($e==="undefined"||$e==="boolean")&&(se=null);var gt=!1;if(se===null)gt=!0;else switch($e){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(se.$$typeof){case n:case e:gt=!0;break;case _:return gt=se._init,fe(gt(se._payload),H,A,ge,Ue)}}if(gt)return Ue=Ue(se),gt=ge===""?"."+U(se,0):ge,te(Ue)?(A="",gt!=null&&(A=gt.replace(Z,"$&/")+"/"),fe(Ue,H,A,"",function(At){return At})):Ue!=null&&($(Ue)&&(Ue=ae(Ue,A+(Ue.key==null||se&&se.key===Ue.key?"":(""+Ue.key).replace(Z,"$&/")+"/")+gt)),H.push(Ue)),1;gt=0;var ht=ge===""?".":ge+":";if(te(se))for(var dt=0;dt<se.length;dt++)ge=se[dt],$e=ht+U(ge,dt),gt+=fe(ge,H,A,$e,Ue);else if(dt=C(se),typeof dt=="function")for(se=dt.call(se),dt=0;!(ge=se.next()).done;)ge=ge.value,$e=ht+U(ge,dt++),gt+=fe(ge,H,A,$e,Ue);else if($e==="object"){if(typeof se.then=="function")return fe(ee(se),H,A,ge,Ue);throw H=String(se),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return gt}function he(se,H,A){if(se==null)return se;var ge=[],Ue=0;return fe(se,ge,"","",function($e){return H.call(A,$e,Ue++)}),ge}function Pe(se){if(se._status===-1){var H=se._result;H=H(),H.then(function(A){(se._status===0||se._status===-1)&&(se._status=1,se._result=A)},function(A){(se._status===0||se._status===-1)&&(se._status=2,se._result=A)}),se._status===-1&&(se._status=0,se._result=H)}if(se._status===1)return se._result.default;throw se._result}var Fe=typeof reportError=="function"?reportError:function(se){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof se=="object"&&se!==null&&typeof se.message=="string"?String(se.message):String(se),error:se});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",se);return}console.error(se)},le={map:he,forEach:function(se,H,A){he(se,function(){H.apply(this,arguments)},A)},count:function(se){var H=0;return he(se,function(){H++}),H},toArray:function(se){return he(se,function(H){return H})||[]},only:function(se){if(!$(se))throw Error("React.Children.only expected to receive a single React element child.");return se}};return Kt.Activity=x,Kt.Children=le,Kt.Component=N,Kt.Fragment=t,Kt.Profiler=o,Kt.PureComponent=W,Kt.StrictMode=r,Kt.Suspense=g,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Kt.__COMPILER_RUNTIME={__proto__:null,c:function(se){return B.H.useMemoCache(se)}},Kt.cache=function(se){return function(){return se.apply(null,arguments)}},Kt.cacheSignal=function(){return null},Kt.cloneElement=function(se,H,A){if(se==null)throw Error("The argument must be a React element, but you passed "+se+".");var ge=R({},se.props),Ue=se.key;if(H!=null)for($e in H.key!==void 0&&(Ue=""+H.key),H)!Q.call(H,$e)||$e==="key"||$e==="__self"||$e==="__source"||$e==="ref"&&H.ref===void 0||(ge[$e]=H[$e]);var $e=arguments.length-2;if($e===1)ge.children=A;else if(1<$e){for(var gt=Array($e),ht=0;ht<$e;ht++)gt[ht]=arguments[ht+2];ge.children=gt}return q(se.type,Ue,ge)},Kt.createContext=function(se){return se={$$typeof:f,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null},se.Provider=se,se.Consumer={$$typeof:u,_context:se},se},Kt.createElement=function(se,H,A){var ge,Ue={},$e=null;if(H!=null)for(ge in H.key!==void 0&&($e=""+H.key),H)Q.call(H,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Ue[ge]=H[ge]);var gt=arguments.length-2;if(gt===1)Ue.children=A;else if(1<gt){for(var ht=Array(gt),dt=0;dt<gt;dt++)ht[dt]=arguments[dt+2];Ue.children=ht}if(se&&se.defaultProps)for(ge in gt=se.defaultProps,gt)Ue[ge]===void 0&&(Ue[ge]=gt[ge]);return q(se,$e,Ue)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(se){return{$$typeof:m,render:se}},Kt.isValidElement=$,Kt.lazy=function(se){return{$$typeof:_,_payload:{_status:-1,_result:se},_init:Pe}},Kt.memo=function(se,H){return{$$typeof:v,type:se,compare:H===void 0?null:H}},Kt.startTransition=function(se){var H=B.T,A={};B.T=A;try{var ge=se(),Ue=B.S;Ue!==null&&Ue(A,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(ne,Fe)}catch($e){Fe($e)}finally{H!==null&&A.types!==null&&(H.types=A.types),B.T=H}},Kt.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Kt.use=function(se){return B.H.use(se)},Kt.useActionState=function(se,H,A){return B.H.useActionState(se,H,A)},Kt.useCallback=function(se,H){return B.H.useCallback(se,H)},Kt.useContext=function(se){return B.H.useContext(se)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(se,H){return B.H.useDeferredValue(se,H)},Kt.useEffect=function(se,H){return B.H.useEffect(se,H)},Kt.useEffectEvent=function(se){return B.H.useEffectEvent(se)},Kt.useId=function(){return B.H.useId()},Kt.useImperativeHandle=function(se,H,A){return B.H.useImperativeHandle(se,H,A)},Kt.useInsertionEffect=function(se,H){return B.H.useInsertionEffect(se,H)},Kt.useLayoutEffect=function(se,H){return B.H.useLayoutEffect(se,H)},Kt.useMemo=function(se,H){return B.H.useMemo(se,H)},Kt.useOptimistic=function(se,H){return B.H.useOptimistic(se,H)},Kt.useReducer=function(se,H,A){return B.H.useReducer(se,H,A)},Kt.useRef=function(se){return B.H.useRef(se)},Kt.useState=function(se){return B.H.useState(se)},Kt.useSyncExternalStore=function(se,H,A){return B.H.useSyncExternalStore(se,H,A)},Kt.useTransition=function(){return B.H.useTransition()},Kt.version="19.2.4",Kt}var V_;function Y0(){return V_||(V_=1,bv.exports=Zk()),bv.exports}var Ae=Y0();const rg=Bc(Ae);var _v={exports:{}},Pd={},wv={exports:{}},xv={};var j_;function Jk(){return j_||(j_=1,(function(n){function e(fe,he){var Pe=fe.length;fe.push(he);e:for(;0<Pe;){var Fe=Pe-1>>>1,le=fe[Fe];if(0<o(le,he))fe[Fe]=he,fe[Pe]=le,Pe=Fe;else break e}}function t(fe){return fe.length===0?null:fe[0]}function r(fe){if(fe.length===0)return null;var he=fe[0],Pe=fe.pop();if(Pe!==he){fe[0]=Pe;e:for(var Fe=0,le=fe.length,se=le>>>1;Fe<se;){var H=2*(Fe+1)-1,A=fe[H],ge=H+1,Ue=fe[ge];if(0>o(A,Pe))ge<le&&0>o(Ue,A)?(fe[Fe]=Ue,fe[ge]=Pe,Fe=ge):(fe[Fe]=A,fe[H]=Pe,Fe=H);else if(ge<le&&0>o(Ue,Pe))fe[Fe]=Ue,fe[ge]=Pe,Fe=ge;else break e}}return he}function o(fe,he){var Pe=fe.sortIndex-he.sortIndex;return Pe!==0?Pe:fe.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();n.unstable_now=function(){return f.now()-m}}var g=[],v=[],_=1,x=null,T=3,C=!1,L=!1,R=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function re(fe){for(var he=t(v);he!==null;){if(he.callback===null)r(v);else if(he.startTime<=fe)r(v),he.sortIndex=he.expirationTime,e(g,he);else break;he=t(v)}}function te(fe){if(R=!1,re(fe),!L)if(t(g)!==null)L=!0,ne||(ne=!0,F());else{var he=t(v);he!==null&&ee(te,he.startTime-fe)}}var ne=!1,B=-1,Q=5,q=-1;function ae(){return I?!0:!(n.unstable_now()-q<Q)}function $(){if(I=!1,ne){var fe=n.unstable_now();q=fe;var he=!0;try{e:{L=!1,R&&(R=!1,P(B),B=-1),C=!0;var Pe=T;try{t:{for(re(fe),x=t(g);x!==null&&!(x.expirationTime>fe&&ae());){var Fe=x.callback;if(typeof Fe=="function"){x.callback=null,T=x.priorityLevel;var le=Fe(x.expirationTime<=fe);if(fe=n.unstable_now(),typeof le=="function"){x.callback=le,re(fe),he=!0;break t}x===t(g)&&r(g),re(fe)}else r(g);x=t(g)}if(x!==null)he=!0;else{var se=t(v);se!==null&&ee(te,se.startTime-fe),he=!1}}break e}finally{x=null,T=Pe,C=!1}he=void 0}}finally{he?F():ne=!1}}}var F;if(typeof W=="function")F=function(){W($)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,U=Z.port2;Z.port1.onmessage=$,F=function(){U.postMessage(null)}}else F=function(){N($,0)};function ee(fe,he){B=N(function(){fe(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(fe){fe.callback=null},n.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<fe?Math.floor(1e3/fe):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(fe){switch(T){case 1:case 2:case 3:var he=3;break;default:he=T}var Pe=T;T=he;try{return fe()}finally{T=Pe}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(fe,he){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var Pe=T;T=fe;try{return he()}finally{T=Pe}},n.unstable_scheduleCallback=function(fe,he,Pe){var Fe=n.unstable_now();switch(typeof Pe=="object"&&Pe!==null?(Pe=Pe.delay,Pe=typeof Pe=="number"&&0<Pe?Fe+Pe:Fe):Pe=Fe,fe){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Pe+le,fe={id:_++,callback:he,priorityLevel:fe,startTime:Pe,expirationTime:le,sortIndex:-1},Pe>Fe?(fe.sortIndex=Pe,e(v,fe),t(g)===null&&fe===t(v)&&(R?(P(B),B=-1):R=!0,ee(te,Pe-Fe))):(fe.sortIndex=le,e(g,fe),L||C||(L=!0,ne||(ne=!0,F()))),fe},n.unstable_shouldYield=ae,n.unstable_wrapCallback=function(fe){var he=T;return function(){var Pe=T;T=he;try{return fe.apply(this,arguments)}finally{T=Pe}}}})(xv)),xv}var H_;function e2(){return H_||(H_=1,wv.exports=Jk()),wv.exports}var Ev={exports:{}},ki={};var q_;function t2(){if(q_)return ki;q_=1;var n=Y0();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)v+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,v,_){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:v,implementation:_}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ki.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ki.createPortal=function(g,v){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(g,v,null,_)},ki.flushSync=function(g){var v=f.T,_=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=v,r.p=_,r.d.f()}},ki.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(g,v))},ki.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},ki.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var _=v.as,x=m(_,v.crossOrigin),T=typeof v.integrity=="string"?v.integrity:void 0,C=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;_==="style"?r.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:x,integrity:T,fetchPriority:C}):_==="script"&&r.d.X(g,{crossOrigin:x,integrity:T,fetchPriority:C,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ki.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var _=m(v.as,v.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(g)},ki.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var _=v.as,x=m(_,v.crossOrigin);r.d.L(g,_,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ki.preloadModule=function(g,v){if(typeof g=="string")if(v){var _=m(v.as,v.crossOrigin);r.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(g)},ki.requestFormReset=function(g){r.d.r(g)},ki.unstable_batchedUpdates=function(g,v){return g(v)},ki.useFormState=function(g,v,_){return f.H.useFormState(g,v,_)},ki.useFormStatus=function(){return f.H.useHostTransitionStatus()},ki.version="19.2.4",ki}var W_;function eS(){if(W_)return Ev.exports;W_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ev.exports=t2(),Ev.exports}var G_;function n2(){if(G_)return Pd;G_=1;var n=e2(),e=Y0(),t=eS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function f(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function g(i){if(u(i)!==i)throw Error(r(188))}function v(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var c=i,p=s;;){var w=c.return;if(w===null)break;var S=w.alternate;if(S===null){if(p=w.return,p!==null){c=p;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===c)return g(w),i;if(S===p)return g(w),s;S=S.sibling}throw Error(r(188))}if(c.return!==p.return)c=w,p=S;else{for(var V=!1,oe=w.child;oe;){if(oe===c){V=!0,c=w,p=S;break}if(oe===p){V=!0,p=w,c=S;break}oe=oe.sibling}if(!V){for(oe=S.child;oe;){if(oe===c){V=!0,c=S,p=w;break}if(oe===p){V=!0,p=S,c=w;break}oe=oe.sibling}if(!V)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:s}function _(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=_(i),s!==null)return s;i=i.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),W=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var Z=Symbol.for("react.client.reference");function U(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case N:return"Profiler";case I:return"StrictMode";case te:return"Suspense";case ne:return"SuspenseList";case q:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case L:return"Portal";case W:return i.displayName||"Context";case P:return(i._context.displayName||"Context")+".Consumer";case re:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return s=i.displayName||null,s!==null?s:U(i.type)||"Memo";case Q:s=i._payload,i=i._init;try{return U(i(s))}catch{}}return null}var ee=Array.isArray,fe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pe={pending:!1,data:null,method:null,action:null},Fe=[],le=-1;function se(i){return{current:i}}function H(i){0>le||(i.current=Fe[le],Fe[le]=null,le--)}function A(i,s){le++,Fe[le]=i.current,i.current=s}var ge=se(null),Ue=se(null),$e=se(null),gt=se(null);function ht(i,s){switch(A($e,s),A(Ue,i),A(ge,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?o_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=o_(s),i=l_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}H(ge),A(ge,i)}function dt(){H(ge),H(Ue),H($e)}function At(i){i.memoizedState!==null&&A(gt,i);var s=ge.current,c=l_(s,i.type);s!==c&&(A(Ue,i),A(ge,c))}function _t(i){Ue.current===i&&(H(ge),H(Ue)),gt.current===i&&(H(gt),Id._currentValue=Pe)}var Pt,Ht;function K(i){if(Pt===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);Pt=s&&s[1]||"",Ht=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pt+i+Ht}var ze=!1;function He(i,s){if(!i||ze)return"";ze=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(Qe){var Ge=Qe}Reflect.construct(i,[],rt)}else{try{rt.call()}catch(Qe){Ge=Qe}i.call(rt.prototype)}}else{try{throw Error()}catch(Qe){Ge=Qe}(rt=i())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(Qe){if(Qe&&Ge&&typeof Qe.stack=="string")return[Qe.stack,Ge.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),V=S[0],oe=S[1];if(V&&oe){var Ce=V.split(`
`),We=oe.split(`
`);for(w=p=0;p<Ce.length&&!Ce[p].includes("DetermineComponentFrameRoot");)p++;for(;w<We.length&&!We[w].includes("DetermineComponentFrameRoot");)w++;if(p===Ce.length||w===We.length)for(p=Ce.length-1,w=We.length-1;1<=p&&0<=w&&Ce[p]!==We[w];)w--;for(;1<=p&&0<=w;p--,w--)if(Ce[p]!==We[w]){if(p!==1||w!==1)do if(p--,w--,0>w||Ce[p]!==We[w]){var Ze=`
`+Ce[p].replace(" at new "," at ");return i.displayName&&Ze.includes("<anonymous>")&&(Ze=Ze.replace("<anonymous>",i.displayName)),Ze}while(1<=p&&0<=w);break}}}finally{ze=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?K(c):""}function be(i,s){switch(i.tag){case 26:case 27:case 5:return K(i.type);case 16:return K("Lazy");case 13:return i.child!==s&&s!==null?K("Suspense Fallback"):K("Suspense");case 19:return K("SuspenseList");case 0:case 15:return He(i.type,!1);case 11:return He(i.type.render,!1);case 1:return He(i.type,!0);case 31:return K("Activity");default:return""}}function pe(i){try{var s="",c=null;do s+=be(i,c),c=i,i=i.return;while(i);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var ke=Object.prototype.hasOwnProperty,Me=n.unstable_scheduleCallback,Xe=n.unstable_cancelCallback,Ve=n.unstable_shouldYield,lt=n.unstable_requestPaint,Ee=n.unstable_now,we=n.unstable_getCurrentPriorityLevel,ie=n.unstable_ImmediatePriority,j=n.unstable_UserBlockingPriority,G=n.unstable_NormalPriority,ve=n.unstable_LowPriority,D=n.unstable_IdlePriority,Y=n.log,ce=n.unstable_setDisableYieldValue,me=null,Se=null;function Ie(i){if(typeof Y=="function"&&ce(i),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(me,i)}catch{}}var xe=Math.clz32?Math.clz32:De,Te=Math.log,Oe=Math.LN2;function De(i){return i>>>=0,i===0?32:31-(Te(i)/Oe|0)|0}var ut=256,vt=262144,ft=4194304;function at(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function kt(i,s,c){var p=i.pendingLanes;if(p===0)return 0;var w=0,S=i.suspendedLanes,V=i.pingedLanes;i=i.warmLanes;var oe=p&134217727;return oe!==0?(p=oe&~S,p!==0?w=at(p):(V&=oe,V!==0?w=at(V):c||(c=oe&~i,c!==0&&(w=at(c))))):(oe=p&~S,oe!==0?w=at(oe):V!==0?w=at(V):c||(c=p&~i,c!==0&&(w=at(c)))),w===0?0:s!==0&&s!==w&&(s&S)===0&&(S=w&-w,c=s&-s,S>=c||S===32&&(c&4194048)!==0)?s:w}function Rt(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function zt(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nt(){var i=ft;return ft<<=1,(ft&62914560)===0&&(ft=4194304),i}function Xt(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function on(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function $n(i,s,c,p,w,S){var V=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var oe=i.entanglements,Ce=i.expirationTimes,We=i.hiddenUpdates;for(c=V&~c;0<c;){var Ze=31-xe(c),rt=1<<Ze;oe[Ze]=0,Ce[Ze]=-1;var Ge=We[Ze];if(Ge!==null)for(We[Ze]=null,Ze=0;Ze<Ge.length;Ze++){var Qe=Ge[Ze];Qe!==null&&(Qe.lane&=-536870913)}c&=~rt}p!==0&&Jn(i,p,0),S!==0&&w===0&&i.tag!==0&&(i.suspendedLanes|=S&~(V&~s))}function Jn(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var p=31-xe(s);i.entangledLanes|=s,i.entanglements[p]=i.entanglements[p]|1073741824|c&261930}function or(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var p=31-xe(c),w=1<<p;w&s|i[p]&s&&(i[p]|=s),c&=~w}}function Na(i,s){var c=s&-s;return c=(c&42)!==0?1:Gi(c),(c&(i.suspendedLanes|s))!==0?0:c}function Gi(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Yi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function js(){var i=he.p;return i!==0?i:(i=window.event,i===void 0?32:I_(i.type))}function ti(i,s){var c=he.p;try{return he.p=i,s()}finally{he.p=c}}var ni=Math.random().toString(36).slice(2),er="__reactFiber$"+ni,tn="__reactProps$"+ni,_r="__reactContainer$"+ni,Qr="__reactEvents$"+ni,ri="__reactListeners$"+ni,jr="__reactHandles$"+ni,Oa="__reactResources$"+ni,Mi="__reactMarker$"+ni;function fa(i){delete i[er],delete i[tn],delete i[Qr],delete i[ri],delete i[jr]}function ii(i){var s=i[er];if(s)return s;for(var c=i.parentNode;c;){if(s=c[_r]||c[er]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=m_(i);i!==null;){if(c=i[er])return c;i=m_(i)}return s}i=c,c=i.parentNode}return null}function Hr(i){if(i=i[er]||i[_r]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Li(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function $r(i){var s=i[Oa];return s||(s=i[Oa]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function tr(i){i[Mi]=!0}var bl=new Set,Un={};function xt(i,s){Xr(i,s),Xr(i+"Capture",s)}function Xr(i,s){for(Un[i]=s,i=0;i<s.length;i++)bl.add(s[i])}var Co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gi={},ln={};function Ma(i){return ke.call(ln,i)?!0:ke.call(gi,i)?!1:Co.test(i)?ln[i]=!0:(gi[i]=!0,!1)}function La(i,s,c){if(Ma(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function ai(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function et(i,s,c,p){if(p===null)i.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+p)}}function St(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Pa(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ao(i,s,c){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var w=p.get,S=p.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return w.call(this)},set:function(V){c=""+V,S.call(this,V)}}),Object.defineProperty(i,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(V){c=""+V},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function pn(i){if(!i._valueTracker){var s=Pa(i)?"checked":"value";i._valueTracker=Ao(i,s,""+i[s])}}function Fa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return i&&(p=Pa(i)?i.checked?"true":"false":i.value),i=p,i!==c?(s.setValue(i),!0):!1}function ha(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Mt=/[\n"\\]/g;function yi(i){return i.replace(Mt,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ko(i,s,c,p,w,S,V,oe){i.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?i.type=V:i.removeAttribute("type"),s!=null?V==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+St(s)):i.value!==""+St(s)&&(i.value=""+St(s)):V!=="submit"&&V!=="reset"||i.removeAttribute("value"),s!=null?vi(i,V,St(s)):c!=null?vi(i,V,St(c)):p!=null&&i.removeAttribute("value"),w==null&&S!=null&&(i.defaultChecked=!!S),w!=null&&(i.checked=w&&typeof w!="function"&&typeof w!="symbol"),oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?i.name=""+St(oe):i.removeAttribute("name")}function Do(i,s,c,p,w,S,V,oe){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),s!=null||c!=null){if(!(S!=="submit"&&S!=="reset"||s!=null)){pn(i);return}c=c!=null?""+St(c):"",s=s!=null?""+St(s):c,oe||s===i.value||(i.value=s),i.defaultValue=s}p=p??w,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=oe?i.checked:!!p,i.defaultChecked=!!p,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(i.name=V),pn(i)}function vi(i,s,c){s==="number"&&ha(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function us(i,s,c,p){if(i=i.options,s){s={};for(var w=0;w<c.length;w++)s["$"+c[w]]=!0;for(c=0;c<i.length;c++)w=s.hasOwnProperty("$"+i[c].value),i[c].selected!==w&&(i[c].selected=w),w&&p&&(i[c].defaultSelected=!0)}else{for(c=""+St(c),s=null,w=0;w<i.length;w++){if(i[w].value===c){i[w].selected=!0,p&&(i[w].defaultSelected=!0);return}s!==null||i[w].disabled||(s=i[w])}s!==null&&(s.selected=!0)}}function Hu(i,s,c){if(s!=null&&(s=""+St(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+St(c):""}function Ki(i,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(r(92));if(ee(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=St(s),i.defaultValue=c,p=i.textContent,p===c&&p!==""&&p!==null&&(i.value=p),pn(i)}function Zr(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(i,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":p?i.setProperty(s,c):typeof c!="number"||c===0||qu.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function _l(i,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var w in s)p=s[w],s.hasOwnProperty(w)&&c[w]!==p&&Ro(i,w,p)}else for(var S in s)s.hasOwnProperty(S)&&Ro(i,S,s[S])}function Io(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(i){return cs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function da(){}var xl=null;function mr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hs=null,za=null;function Ba(i){var s=Hr(i);if(s&&(i=s.stateNode)){var c=i[tn]||null;e:switch(i=s.stateNode,s.type){case"input":if(ko(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+yi(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==i&&p.form===i.form){var w=p[tn]||null;if(!w)throw Error(r(90));ko(p,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===i.form&&Fa(p)}break e;case"textarea":Hu(i,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&us(i,!!c.multiple,s,!1)}}}var Ua=!1;function qs(i,s,c){if(Ua)return i(s,c);Ua=!0;try{var p=i(s);return p}finally{if(Ua=!1,(Hs!==null||za!==null)&&(Em(),Hs&&(s=Hs,i=za,za=Hs=null,Ba(s),i)))for(s=0;s<i.length;s++)Ba(i[s])}}function pa(i,s){var c=i.stateNode;if(c===null)return null;var p=c[tn]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),No=!1;if(Qi)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){No=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{No=!1}var ma=null,Gu=null,Ws=null;function El(){if(Ws)return Ws;var i,s=Gu,c=s.length,p,w="value"in ma?ma.value:ma.textContent,S=w.length;for(i=0;i<c&&s[i]===w[i];i++);var V=c-i;for(p=1;p<=V&&s[c-p]===w[S-p];p++);return Ws=w.slice(i,1<p?1-p:void 0)}function Va(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function $i(){return!0}function Pi(){return!1}function Dr(i){function s(c,p,w,S,V){this._reactName=c,this._targetInst=w,this.type=p,this.nativeEvent=S,this.target=V,this.currentTarget=null;for(var oe in i)i.hasOwnProperty(oe)&&(c=i[oe],this[oe]=c?c(S):S[oe]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?$i:Pi,this.isPropagationStopped=Pi,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),s}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=Dr(ja),Gs=x({},ja,{view:0,detail:0}),Sl=Dr(Gs),Rr,Tl,Ha,Ys=x({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ha&&(Ha&&i.type==="mousemove"?(Rr=i.screenX-Ha.screenX,Tl=i.screenY-Ha.screenY):Tl=Rr=0,Ha=i),Rr)},movementY:function(i){return"movementY"in i?i.movementY:Tl}}),Cl=Dr(Ys),bi=x({},Ys,{dataTransfer:0}),Al=Dr(bi),Xi=x({},Gs,{relatedTarget:0}),qa=Dr(Xi),Oo=x({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),fs=Dr(Oo),kl=x({},ja,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Wc=Dr(kl),Gc=x({},ja,{data:0}),Wa=Dr(Gc),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Yc[i])?!!s[i]:!1}function Ks(){return Kc}var si=x({},Gs,{key:function(i){if(i.key){var s=Yu[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Va(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ku[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(i){return i.type==="keypress"?Va(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Va(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qu=Dr(si),Qc=x({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ga=Dr(Qc),b=x({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),O=Dr(b),X=x({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),ue=Dr(X),je=x({},Ys,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ke=Dr(je),ot=x({},ja,{newState:0,oldState:0}),Yt=Dr(ot),nr=[9,13,27,32],nn=Qi&&"CompositionEvent"in window,Wn=null;Qi&&"documentMode"in document&&(Wn=document.documentMode);var zi=Qi&&"TextEvent"in window&&!Wn,Ya=Qi&&(!nn||Wn&&8<Wn&&11>=Wn),Bi=" ",Zi=!1;function Mo(i,s){switch(i){case"keyup":return nr.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lo=!1;function zp(i,s){switch(i){case"compositionend":return Dl(s);case"keypress":return s.which!==32?null:(Zi=!0,Bi);case"textInput":return i=s.data,i===Bi&&Zi?null:i;default:return null}}function Ay(i,s){if(Lo)return i==="compositionend"||!nn&&Mo(i,s)?(i=El(),Ws=Gu=ma=null,Lo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ya&&s.locale!=="ko"?null:s.data;default:return null}}var $u={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ka(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!$u[i.type]:s==="textarea"}function Xu(i,s,c,p){Hs?za?za.push(p):za=[p]:Hs=p,s=Rm(s,"onChange"),0<s.length&&(c=new Fi("onChange","change",null,c,p),i.push({event:c,listeners:s}))}var Po=null,Rl=null;function Qa(i){t_(i,0)}function $a(i){var s=Li(i);if(Fa(s))return i}function $c(i,s){if(i==="change")return s}var Bp=!1;if(Qi){var Xc;if(Qi){var Ih="oninput"in document;if(!Ih){var Nh=document.createElement("div");Nh.setAttribute("oninput","return;"),Ih=typeof Nh.oninput=="function"}Xc=Ih}else Xc=!1;Bp=Xc&&(!document.documentMode||9<document.documentMode)}function Zc(){Po&&(Po.detachEvent("onpropertychange",Fo),Rl=Po=null)}function Fo(i){if(i.propertyName==="value"&&$a(Rl)){var s=[];Xu(s,Rl,i,mr(i)),qs(Qa,s)}}function Xa(i,s,c){i==="focusin"?(Zc(),Po=s,Rl=c,Po.attachEvent("onpropertychange",Fo)):i==="focusout"&&Zc()}function Up(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $a(Rl)}function Vp(i,s){if(i==="click")return $a(s)}function ky(i,s){if(i==="input"||i==="change")return $a(s)}function Dy(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Ui=typeof Object.is=="function"?Object.is:Dy;function Il(i,s){if(Ui(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var w=c[p];if(!ke.call(s,w)||!Ui(i[w],s[w]))return!1}return!0}function Oh(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Nl(i,s){var c=Oh(i);i=0;for(var p;c;){if(c.nodeType===3){if(p=i+c.textContent.length,i<=s&&p>=s)return{node:c,offset:s-i};i=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Oh(c)}}function Mh(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Mh(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Lh(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ha(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=ha(i.document)}return s}function Zu(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Jc=Qi&&"documentMode"in document&&11>=document.documentMode,zo=null,Ol=null,oi=null,ef=!1;function tf(i,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ef||zo==null||zo!==ha(p)||(p=zo,"selectionStart"in p&&Zu(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),oi&&Il(oi,p)||(oi=p,p=Rm(Ol,"onSelect"),0<p.length&&(s=new Fi("onSelect","select",null,s,c),i.push({event:s,listeners:p}),s.target=zo)))}function hs(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var Bo={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},nf={},rf={};Qi&&(rf=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Uo(i){if(nf[i])return nf[i];if(!Bo[i])return i;var s=Bo[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in rf)return nf[i]=s[c];return i}var jp=Uo("animationend"),Hp=Uo("animationiteration"),Qs=Uo("animationstart"),Ml=Uo("transitionrun"),Ll=Uo("transitionstart"),Ph=Uo("transitioncancel"),af=Uo("transitionend"),Fh=new Map,Ju="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ju.push("scrollEnd");function qr(i,s){Fh.set(i,s),xt(s,[i])}var Za=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},On=[],Vi=0,Ja=0;function Vo(){for(var i=Vi,s=Ja=Vi=0;s<i;){var c=On[s];On[s++]=null;var p=On[s];On[s++]=null;var w=On[s];On[s++]=null;var S=On[s];if(On[s++]=null,p!==null&&w!==null){var V=p.pending;V===null?w.next=w:(w.next=V.next,V.next=w),p.pending=w}S!==0&&zh(c,w,S)}}function sf(i,s,c,p){On[Vi++]=i,On[Vi++]=s,On[Vi++]=c,On[Vi++]=p,Ja|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function of(i,s,c,p){return sf(i,s,c,p),Pl(i)}function ga(i,s){return sf(i,null,null,s),Pl(i)}function zh(i,s,c){i.lanes|=c;var p=i.alternate;p!==null&&(p.lanes|=c);for(var w=!1,S=i.return;S!==null;)S.childLanes|=c,p=S.alternate,p!==null&&(p.childLanes|=c),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(w=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,w&&s!==null&&(w=31-xe(c),i=S.hiddenUpdates,p=i[w],p===null?i[w]=[s]:p.push(s),s.lane=c|536870912),S):null}function Pl(i){if(50<Sd)throw Sd=0,jy=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ds={};function Ry(i,s,c,p){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(i,s,c,p){return new Ry(i,s,c,p)}function lf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ya(i,s){var c=i.alternate;return c===null?(c=li(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function uf(i,s){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function ps(i,s,c,p,w,S){var V=0;if(p=i,typeof i=="function")lf(i)&&(V=1);else if(typeof i=="string")V=Fk(i,c,ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case q:return i=li(31,c,s,w),i.elementType=q,i.lanes=S,i;case R:return es(c.children,w,S,s);case I:V=8,w|=24;break;case N:return i=li(12,c,s,w|2),i.elementType=N,i.lanes=S,i;case te:return i=li(13,c,s,w),i.elementType=te,i.lanes=S,i;case ne:return i=li(19,c,s,w),i.elementType=ne,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case W:V=10;break e;case P:V=9;break e;case re:V=11;break e;case B:V=14;break e;case Q:V=16,p=null;break e}V=29,c=Error(r(130,i===null?"null":typeof i,"")),p=null}return s=li(V,c,s,w),s.elementType=i,s.type=p,s.lanes=S,s}function es(i,s,c,p){return i=li(7,i,p,s),i.lanes=c,i}function cf(i,s,c){return i=li(6,i,null,s),i.lanes=c,i}function ec(i){var s=li(18,null,null,0);return s.stateNode=i,s}function Bh(i,s,c){return s=li(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var qp=new WeakMap;function Ji(i,s){if(typeof i=="object"&&i!==null){var c=qp.get(i);return c!==void 0?c:(s={value:i,source:s,stack:pe(s)},qp.set(i,s),s)}return{value:i,source:s,stack:pe(s)}}var $s=[],Xs=0,ms=null,gs=0,ea=[],ui=0,ys=null,_i=1,va="";function ci(i,s){$s[Xs++]=gs,$s[Xs++]=ms,ms=i,gs=s}function Fl(i,s,c){ea[ui++]=_i,ea[ui++]=va,ea[ui++]=ys,ys=i;var p=_i;i=va;var w=32-xe(p)-1;p&=~(1<<w),c+=1;var S=32-xe(s)+w;if(30<S){var V=w-w%5;S=(p&(1<<V)-1).toString(32),p>>=V,w-=V,_i=1<<32-xe(s)+w|c<<w|p,va=S+i}else _i=1<<S|c<<w|p,va=i}function vs(i){i.return!==null&&(ci(i,1),Fl(i,1,0))}function jo(i){for(;i===ms;)ms=$s[--Xs],$s[Xs]=null,gs=$s[--Xs],$s[Xs]=null;for(;i===ys;)ys=ea[--ui],ea[ui]=null,va=ea[--ui],ea[ui]=null,_i=ea[--ui],ea[ui]=null}function Ho(i,s){ea[ui++]=_i,ea[ui++]=va,ea[ui++]=ys,_i=s.id,va=s.overflow,ys=i}var Ir=null,Mn=null,Jt=!1,Zs=null,Nr=!1,bs=Error(r(519));function Js(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Or(Ji(s,i)),bs}function Wp(i){var s=i.stateNode,c=i.type,p=i.memoizedProps;switch(s[er]=i,s[tn]=p,c){case"dialog":sn("cancel",s),sn("close",s);break;case"iframe":case"object":case"embed":sn("load",s);break;case"video":case"audio":for(c=0;c<Cd.length;c++)sn(Cd[c],s);break;case"source":sn("error",s);break;case"img":case"image":case"link":sn("error",s),sn("load",s);break;case"details":sn("toggle",s);break;case"input":sn("invalid",s),Do(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":sn("invalid",s);break;case"textarea":sn("invalid",s),Ki(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||a_(s.textContent,c)?(p.popover!=null&&(sn("beforetoggle",s),sn("toggle",s)),p.onScroll!=null&&sn("scroll",s),p.onScrollEnd!=null&&sn("scrollend",s),p.onClick!=null&&(s.onclick=da),s=!0):s=!1,s||Js(i,!0)}function Gp(i){for(Ir=i.return;Ir;)switch(Ir.tag){case 5:case 31:case 13:Nr=!1;return;case 27:case 3:Nr=!0;return;default:Ir=Ir.return}}function zl(i){if(i!==Ir)return!1;if(!Jt)return Gp(i),Jt=!0,!1;var s=i.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||rv(i.type,i.memoizedProps)),c=!c),c&&Mn&&Js(i),Gp(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Mn=p_(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Mn=p_(i)}else s===27?(s=Mn,du(i.type)?(i=lv,lv=null,Mn=i):Mn=s):Mn=Ir?rs(i.stateNode.nextSibling):null;return!0}function qo(){Mn=Ir=null,Jt=!1}function Uh(){var i=Zs;return i!==null&&(aa===null?aa=i:aa.push.apply(aa,i),Zs=null),i}function Or(i){Zs===null?Zs=[i]:Zs.push(i)}var lr=se(null),rr=null,kn=null;function ta(i,s,c){A(lr,s._currentValue),s._currentValue=c}function _s(i){i._currentValue=lr.current,H(lr)}function Bl(i,s,c){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===c)break;i=i.return}}function Vh(i,s,c,p){var w=i.child;for(w!==null&&(w.return=i);w!==null;){var S=w.dependencies;if(S!==null){var V=w.child;S=S.firstContext;e:for(;S!==null;){var oe=S;S=w;for(var Ce=0;Ce<s.length;Ce++)if(oe.context===s[Ce]){S.lanes|=c,oe=S.alternate,oe!==null&&(oe.lanes|=c),Bl(S.return,c,i),p||(V=null);break e}S=oe.next}}else if(w.tag===18){if(V=w.return,V===null)throw Error(r(341));V.lanes|=c,S=V.alternate,S!==null&&(S.lanes|=c),Bl(V,c,i),V=null}else V=w.child;if(V!==null)V.return=w;else for(V=w;V!==null;){if(V===i){V=null;break}if(w=V.sibling,w!==null){w.return=V.return,V=w;break}V=V.return}w=V}}function Ul(i,s,c,p){i=null;for(var w=s,S=!1;w!==null;){if(!S){if((w.flags&524288)!==0)S=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var V=w.alternate;if(V===null)throw Error(r(387));if(V=V.memoizedProps,V!==null){var oe=w.type;Ui(w.pendingProps.value,V.value)||(i!==null?i.push(oe):i=[oe])}}else if(w===gt.current){if(V=w.alternate,V===null)throw Error(r(387));V.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(i!==null?i.push(Id):i=[Id])}w=w.return}i!==null&&Vh(s,i,c,p),s.flags|=262144}function ff(i){for(i=i.firstContext;i!==null;){if(!Ui(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ws(i){rr=i,kn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Mr(i){return Yp(rr,i)}function Vl(i,s){return rr===null&&ws(i),Yp(i,s)}function Yp(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},kn===null){if(i===null)throw Error(r(308));kn=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else kn=kn.next=s;return c}var jh=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,p){i.push(p)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},Hh=n.unstable_scheduleCallback,Kp=n.unstable_NormalPriority,ur={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tc(){return{controller:new jh,data:new Map,refCount:0}}function jl(i){i.refCount--,i.refCount===0&&Hh(Kp,function(){i.controller.abort()})}var xs=null,qh=0,Es=0,wi=null;function Qp(i,s){if(xs===null){var c=xs=[];qh=0,Es=Ky(),wi={status:"pending",value:void 0,then:function(p){c.push(p)}}}return qh++,s.then($p,$p),s}function $p(){if(--qh===0&&xs!==null){wi!==null&&(wi.status="fulfilled");var i=xs;xs=null,Es=0,wi=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Xp(i,s){var c=[],p={status:"pending",value:null,reason:null,then:function(w){c.push(w)}};return i.then(function(){p.status="fulfilled",p.value=s;for(var w=0;w<c.length;w++)(0,c[w])(s)},function(w){for(p.status="rejected",p.reason=w,w=0;w<c.length;w++)(0,c[w])(void 0)}),p}var xi=fe.S;fe.S=function(i,s){Db=Ee(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Qp(i,s),xi!==null&&xi(i,s)};var Zt=se(null);function ji(){var i=Zt.current;return i!==null?i:Hn.pooledCache}function ba(i,s){s===null?A(Zt,Zt.current):A(Zt,s.pool)}function Ss(){var i=ji();return i===null?null:{parent:ur._currentValue,pool:i}}var Wo=Error(r(460)),nc=Error(r(474)),rc=Error(r(542)),hf={then:function(){}};function df(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Hl(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(da,da),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Wh(i),i;default:if(typeof s.status=="string")s.then(da,da);else{if(i=Hn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(p){if(s.status==="pending"){var w=s;w.status="fulfilled",w.value=p}},function(p){if(s.status==="pending"){var w=s;w.status="rejected",w.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Wh(i),i}throw Ts=s,Wo}}function eo(i){try{var s=i._init;return s(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ts=c,Wo):c}}var Ts=null;function Cs(){if(Ts===null)throw Error(r(459));var i=Ts;return Ts=null,i}function Wh(i){if(i===Wo||i===rc)throw Error(r(483))}var Go=null,ic=0;function Yo(i){var s=ic;return ic+=1,Go===null&&(Go=[]),Hl(Go,i,s)}function Ko(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ac(i,s){throw s.$$typeof===T?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Zp(i){function s(Be,Ne){if(i){var qe=Be.deletions;qe===null?(Be.deletions=[Ne],Be.flags|=16):qe.push(Ne)}}function c(Be,Ne){if(!i)return null;for(;Ne!==null;)s(Be,Ne),Ne=Ne.sibling;return null}function p(Be){for(var Ne=new Map;Be!==null;)Be.key!==null?Ne.set(Be.key,Be):Ne.set(Be.index,Be),Be=Be.sibling;return Ne}function w(Be,Ne){return Be=ya(Be,Ne),Be.index=0,Be.sibling=null,Be}function S(Be,Ne,qe){return Be.index=qe,i?(qe=Be.alternate,qe!==null?(qe=qe.index,qe<Ne?(Be.flags|=67108866,Ne):qe):(Be.flags|=67108866,Ne)):(Be.flags|=1048576,Ne)}function V(Be){return i&&Be.alternate===null&&(Be.flags|=67108866),Be}function oe(Be,Ne,qe,nt){return Ne===null||Ne.tag!==6?(Ne=cf(qe,Be.mode,nt),Ne.return=Be,Ne):(Ne=w(Ne,qe),Ne.return=Be,Ne)}function Ce(Be,Ne,qe,nt){var Lt=qe.type;return Lt===R?Ze(Be,Ne,qe.props.children,nt,qe.key):Ne!==null&&(Ne.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===Q&&eo(Lt)===Ne.type)?(Ne=w(Ne,qe.props),Ko(Ne,qe),Ne.return=Be,Ne):(Ne=ps(qe.type,qe.key,qe.props,null,Be.mode,nt),Ko(Ne,qe),Ne.return=Be,Ne)}function We(Be,Ne,qe,nt){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==qe.containerInfo||Ne.stateNode.implementation!==qe.implementation?(Ne=Bh(qe,Be.mode,nt),Ne.return=Be,Ne):(Ne=w(Ne,qe.children||[]),Ne.return=Be,Ne)}function Ze(Be,Ne,qe,nt,Lt){return Ne===null||Ne.tag!==7?(Ne=es(qe,Be.mode,nt,Lt),Ne.return=Be,Ne):(Ne=w(Ne,qe),Ne.return=Be,Ne)}function rt(Be,Ne,qe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ne=cf(""+Ne,Be.mode,qe),Ne.return=Be,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case C:return qe=ps(Ne.type,Ne.key,Ne.props,null,Be.mode,qe),Ko(qe,Ne),qe.return=Be,qe;case L:return Ne=Bh(Ne,Be.mode,qe),Ne.return=Be,Ne;case Q:return Ne=eo(Ne),rt(Be,Ne,qe)}if(ee(Ne)||F(Ne))return Ne=es(Ne,Be.mode,qe,null),Ne.return=Be,Ne;if(typeof Ne.then=="function")return rt(Be,Yo(Ne),qe);if(Ne.$$typeof===W)return rt(Be,Vl(Be,Ne),qe);ac(Be,Ne)}return null}function Ge(Be,Ne,qe,nt){var Lt=Ne!==null?Ne.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Lt!==null?null:oe(Be,Ne,""+qe,nt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case C:return qe.key===Lt?Ce(Be,Ne,qe,nt):null;case L:return qe.key===Lt?We(Be,Ne,qe,nt):null;case Q:return qe=eo(qe),Ge(Be,Ne,qe,nt)}if(ee(qe)||F(qe))return Lt!==null?null:Ze(Be,Ne,qe,nt,null);if(typeof qe.then=="function")return Ge(Be,Ne,Yo(qe),nt);if(qe.$$typeof===W)return Ge(Be,Ne,Vl(Be,qe),nt);ac(Be,qe)}return null}function Qe(Be,Ne,qe,nt,Lt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Be=Be.get(qe)||null,oe(Ne,Be,""+nt,Lt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case C:return Be=Be.get(nt.key===null?qe:nt.key)||null,Ce(Ne,Be,nt,Lt);case L:return Be=Be.get(nt.key===null?qe:nt.key)||null,We(Ne,Be,nt,Lt);case Q:return nt=eo(nt),Qe(Be,Ne,qe,nt,Lt)}if(ee(nt)||F(nt))return Be=Be.get(qe)||null,Ze(Ne,Be,nt,Lt,null);if(typeof nt.then=="function")return Qe(Be,Ne,qe,Yo(nt),Lt);if(nt.$$typeof===W)return Qe(Be,Ne,qe,Vl(Ne,nt),Lt);ac(Ne,nt)}return null}function Tt(Be,Ne,qe,nt){for(var Lt=null,wn=null,Dt=Ne,Qt=Ne=0,cn=null;Dt!==null&&Qt<qe.length;Qt++){Dt.index>Qt?(cn=Dt,Dt=null):cn=Dt.sibling;var xn=Ge(Be,Dt,qe[Qt],nt);if(xn===null){Dt===null&&(Dt=cn);break}i&&Dt&&xn.alternate===null&&s(Be,Dt),Ne=S(xn,Ne,Qt),wn===null?Lt=xn:wn.sibling=xn,wn=xn,Dt=cn}if(Qt===qe.length)return c(Be,Dt),Jt&&ci(Be,Qt),Lt;if(Dt===null){for(;Qt<qe.length;Qt++)Dt=rt(Be,qe[Qt],nt),Dt!==null&&(Ne=S(Dt,Ne,Qt),wn===null?Lt=Dt:wn.sibling=Dt,wn=Dt);return Jt&&ci(Be,Qt),Lt}for(Dt=p(Dt);Qt<qe.length;Qt++)cn=Qe(Dt,Be,Qt,qe[Qt],nt),cn!==null&&(i&&cn.alternate!==null&&Dt.delete(cn.key===null?Qt:cn.key),Ne=S(cn,Ne,Qt),wn===null?Lt=cn:wn.sibling=cn,wn=cn);return i&&Dt.forEach(function(vu){return s(Be,vu)}),Jt&&ci(Be,Qt),Lt}function Ft(Be,Ne,qe,nt){if(qe==null)throw Error(r(151));for(var Lt=null,wn=null,Dt=Ne,Qt=Ne=0,cn=null,xn=qe.next();Dt!==null&&!xn.done;Qt++,xn=qe.next()){Dt.index>Qt?(cn=Dt,Dt=null):cn=Dt.sibling;var vu=Ge(Be,Dt,xn.value,nt);if(vu===null){Dt===null&&(Dt=cn);break}i&&Dt&&vu.alternate===null&&s(Be,Dt),Ne=S(vu,Ne,Qt),wn===null?Lt=vu:wn.sibling=vu,wn=vu,Dt=cn}if(xn.done)return c(Be,Dt),Jt&&ci(Be,Qt),Lt;if(Dt===null){for(;!xn.done;Qt++,xn=qe.next())xn=rt(Be,xn.value,nt),xn!==null&&(Ne=S(xn,Ne,Qt),wn===null?Lt=xn:wn.sibling=xn,wn=xn);return Jt&&ci(Be,Qt),Lt}for(Dt=p(Dt);!xn.done;Qt++,xn=qe.next())xn=Qe(Dt,Be,Qt,xn.value,nt),xn!==null&&(i&&xn.alternate!==null&&Dt.delete(xn.key===null?Qt:xn.key),Ne=S(xn,Ne,Qt),wn===null?Lt=xn:wn.sibling=xn,wn=xn);return i&&Dt.forEach(function(Kk){return s(Be,Kk)}),Jt&&ci(Be,Qt),Lt}function Bn(Be,Ne,qe,nt){if(typeof qe=="object"&&qe!==null&&qe.type===R&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case C:e:{for(var Lt=qe.key;Ne!==null;){if(Ne.key===Lt){if(Lt=qe.type,Lt===R){if(Ne.tag===7){c(Be,Ne.sibling),nt=w(Ne,qe.props.children),nt.return=Be,Be=nt;break e}}else if(Ne.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===Q&&eo(Lt)===Ne.type){c(Be,Ne.sibling),nt=w(Ne,qe.props),Ko(nt,qe),nt.return=Be,Be=nt;break e}c(Be,Ne);break}else s(Be,Ne);Ne=Ne.sibling}qe.type===R?(nt=es(qe.props.children,Be.mode,nt,qe.key),nt.return=Be,Be=nt):(nt=ps(qe.type,qe.key,qe.props,null,Be.mode,nt),Ko(nt,qe),nt.return=Be,Be=nt)}return V(Be);case L:e:{for(Lt=qe.key;Ne!==null;){if(Ne.key===Lt)if(Ne.tag===4&&Ne.stateNode.containerInfo===qe.containerInfo&&Ne.stateNode.implementation===qe.implementation){c(Be,Ne.sibling),nt=w(Ne,qe.children||[]),nt.return=Be,Be=nt;break e}else{c(Be,Ne);break}else s(Be,Ne);Ne=Ne.sibling}nt=Bh(qe,Be.mode,nt),nt.return=Be,Be=nt}return V(Be);case Q:return qe=eo(qe),Bn(Be,Ne,qe,nt)}if(ee(qe))return Tt(Be,Ne,qe,nt);if(F(qe)){if(Lt=F(qe),typeof Lt!="function")throw Error(r(150));return qe=Lt.call(qe),Ft(Be,Ne,qe,nt)}if(typeof qe.then=="function")return Bn(Be,Ne,Yo(qe),nt);if(qe.$$typeof===W)return Bn(Be,Ne,Vl(Be,qe),nt);ac(Be,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,Ne!==null&&Ne.tag===6?(c(Be,Ne.sibling),nt=w(Ne,qe),nt.return=Be,Be=nt):(c(Be,Ne),nt=cf(qe,Be.mode,nt),nt.return=Be,Be=nt),V(Be)):c(Be,Ne)}return function(Be,Ne,qe,nt){try{ic=0;var Lt=Bn(Be,Ne,qe,nt);return Go=null,Lt}catch(Dt){if(Dt===Wo||Dt===rc)throw Dt;var wn=li(29,Dt,null,Be.mode);return wn.lanes=nt,wn.return=Be,wn}}}var to=Zp(!0),Jp=Zp(!1),no=!1;function ql(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ro(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function io(i,s,c){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Sn&2)!==0){var w=p.pending;return w===null?s.next=s:(s.next=w.next,w.next=s),p.pending=s,s=Pl(i),zh(i,null,c),s}return sf(i,p,s,c),Pl(i)}function Wl(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=i.pendingLanes,c|=p,s.lanes=c,or(i,c)}}function ao(i,s){var c=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var w=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var V={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};S===null?w=S=V:S=S.next=V,c=c.next}while(c!==null);S===null?w=S=s:S=S.next=s}else w=S=s;c={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var sc=!1;function so(){if(sc){var i=wi;if(i!==null)throw i}}function Gl(i,s,c,p){sc=!1;var w=i.updateQueue;no=!1;var S=w.firstBaseUpdate,V=w.lastBaseUpdate,oe=w.shared.pending;if(oe!==null){w.shared.pending=null;var Ce=oe,We=Ce.next;Ce.next=null,V===null?S=We:V.next=We,V=Ce;var Ze=i.alternate;Ze!==null&&(Ze=Ze.updateQueue,oe=Ze.lastBaseUpdate,oe!==V&&(oe===null?Ze.firstBaseUpdate=We:oe.next=We,Ze.lastBaseUpdate=Ce))}if(S!==null){var rt=w.baseState;V=0,Ze=We=Ce=null,oe=S;do{var Ge=oe.lane&-536870913,Qe=Ge!==oe.lane;if(Qe?(un&Ge)===Ge:(p&Ge)===Ge){Ge!==0&&Ge===Es&&(sc=!0),Ze!==null&&(Ze=Ze.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var Tt=i,Ft=oe;Ge=s;var Bn=c;switch(Ft.tag){case 1:if(Tt=Ft.payload,typeof Tt=="function"){rt=Tt.call(Bn,rt,Ge);break e}rt=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Ft.payload,Ge=typeof Tt=="function"?Tt.call(Bn,rt,Ge):Tt,Ge==null)break e;rt=x({},rt,Ge);break e;case 2:no=!0}}Ge=oe.callback,Ge!==null&&(i.flags|=64,Qe&&(i.flags|=8192),Qe=w.callbacks,Qe===null?w.callbacks=[Ge]:Qe.push(Ge))}else Qe={lane:Ge,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Ze===null?(We=Ze=Qe,Ce=rt):Ze=Ze.next=Qe,V|=Ge;if(oe=oe.next,oe===null){if(oe=w.shared.pending,oe===null)break;Qe=oe,oe=Qe.next,Qe.next=null,w.lastBaseUpdate=Qe,w.shared.pending=null}}while(!0);Ze===null&&(Ce=rt),w.baseState=Ce,w.firstBaseUpdate=We,w.lastBaseUpdate=Ze,S===null&&(w.shared.lanes=0),lu|=V,i.lanes=V,i.memoizedState=rt}}function mf(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Gh(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)mf(c[i],s)}var Yl=se(null),oc=se(0);function Lr(i,s){i=rl,A(oc,i),A(Yl,s),rl=i|s.baseLanes}function Kl(){A(oc,rl),A(Yl,Yl.current)}function gf(){rl=oc.current,H(Yl),H(oc)}var Ei=se(null),Hi=null;function qi(i){var s=i.alternate;A(Ln,Ln.current&1),A(Ei,i),Hi===null&&(s===null||Yl.current!==null||s.memoizedState!==null)&&(Hi=i)}function Ql(i){A(Ln,Ln.current),A(Ei,i),Hi===null&&(Hi=i)}function Yh(i){i.tag===22?(A(Ln,Ln.current),A(Ei,i),Hi===null&&(Hi=i)):As()}function As(){A(Ln,Ln.current),A(Ei,Ei.current)}function Si(i){H(Ei),Hi===i&&(Hi=null),H(Ln)}var Ln=se(0);function lc(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||sv(c)||ov(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var na=0,Wt=null,mn=null,gr=null,ks=!1,Qo=!1,oo=!1,uc=0,Ds=0,ts=null,cc=0;function Pn(){throw Error(r(321))}function yf(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!Ui(i[c],s[c]))return!1;return!0}function Kh(i,s,c,p,w,S){return na=S,Wt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,fe.H=i===null||i.memoizedState===null?fd:lo,oo=!1,S=c(p,w),oo=!1,Qo&&(S=Rs(s,c,p,w)),Qh(i),S}function Qh(i){fe.H=yc;var s=mn!==null&&mn.next!==null;if(na=0,gr=mn=Wt=null,ks=!1,Ds=0,ts=null,s)throw Error(r(300));i===null||fr||(i=i.dependencies,i!==null&&ff(i)&&(fr=!0))}function Rs(i,s,c,p){Wt=i;var w=0;do{if(Qo&&(ts=null),Ds=0,Qo=!1,25<=w)throw Error(r(301));if(w+=1,gr=mn=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}fe.H=hd,S=s(c,p)}while(Qo);return S}function $l(){var i=fe.H,s=i.useState()[0];return s=typeof s.then=="function"?wr(s):s,i=i.useState()[0],(mn!==null?mn.memoizedState:null)!==i&&(Wt.flags|=1024),s}function $o(){var i=uc!==0;return uc=0,i}function $h(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function vf(i){if(ks){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ks=!1}na=0,gr=mn=Wt=null,Qo=!1,Ds=uc=0,ts=null}function fi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?Wt.memoizedState=gr=i:gr=gr.next=i,gr}function cr(){if(mn===null){var i=Wt.alternate;i=i!==null?i.memoizedState:null}else i=mn.next;var s=gr===null?Wt.memoizedState:gr.next;if(s!==null)gr=s,mn=i;else{if(i===null)throw Wt.alternate===null?Error(r(467)):Error(r(310));mn=i,i={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},gr===null?Wt.memoizedState=gr=i:gr=gr.next=i}return gr}function bf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wr(i){var s=Ds;return Ds+=1,ts===null&&(ts=[]),i=Hl(ts,i,s),s=Wt,(gr===null?s.memoizedState:gr.next)===null&&(s=s.alternate,fe.H=s===null||s.memoizedState===null?fd:lo),i}function fc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return wr(i);if(i.$$typeof===W)return Mr(i)}throw Error(r(438,String(i)))}function Xh(i){var s=null,c=Wt.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=Wt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(w){return w.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=bf(),Wt.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),p=0;p<i;p++)c[p]=ae;return s.index++,c}function Is(i,s){return typeof s=="function"?s(i):s}function _f(i){var s=cr();return wf(s,mn,i)}function wf(i,s,c){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var w=i.baseQueue,S=p.pending;if(S!==null){if(w!==null){var V=w.next;w.next=S.next,S.next=V}s.baseQueue=w=S,p.pending=null}if(S=i.baseState,w===null)i.memoizedState=S;else{s=w.next;var oe=V=null,Ce=null,We=s,Ze=!1;do{var rt=We.lane&-536870913;if(rt!==We.lane?(un&rt)===rt:(na&rt)===rt){var Ge=We.revertLane;if(Ge===0)Ce!==null&&(Ce=Ce.next={lane:0,revertLane:0,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),rt===Es&&(Ze=!0);else if((na&Ge)===Ge){We=We.next,Ge===Es&&(Ze=!0);continue}else rt={lane:0,revertLane:We.revertLane,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Ce===null?(oe=Ce=rt,V=S):Ce=Ce.next=rt,Wt.lanes|=Ge,lu|=Ge;rt=We.action,oo&&c(S,rt),S=We.hasEagerState?We.eagerState:c(S,rt)}else Ge={lane:rt,revertLane:We.revertLane,gesture:We.gesture,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Ce===null?(oe=Ce=Ge,V=S):Ce=Ce.next=Ge,Wt.lanes|=rt,lu|=rt;We=We.next}while(We!==null&&We!==s);if(Ce===null?V=S:Ce.next=oe,!Ui(S,i.memoizedState)&&(fr=!0,Ze&&(c=wi,c!==null)))throw c;i.memoizedState=S,i.baseState=V,i.baseQueue=Ce,p.lastRenderedState=S}return w===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function xf(i){var s=cr(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var p=c.dispatch,w=c.pending,S=s.memoizedState;if(w!==null){c.pending=null;var V=w=w.next;do S=i(S,V.action),V=V.next;while(V!==w);Ui(S,s.memoizedState)||(fr=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),c.lastRenderedState=S}return[S,p]}function Zh(i,s,c){var p=Wt,w=cr(),S=Jt;if(S){if(c===void 0)throw Error(r(407));c=c()}else c=s();var V=!Ui((mn||w).memoizedState,c);if(V&&(w.memoizedState=c,fr=!0),w=w.queue,nu(nm.bind(null,p,w,i),[i]),w.getSnapshot!==s||V||gr!==null&&gr.memoizedState.tag&1){if(p.flags|=2048,eu(9,{destroy:void 0},tm.bind(null,p,w,c,s),null),Hn===null)throw Error(r(349));S||(na&127)!==0||em(p,s,c)}return c}function em(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=Wt.updateQueue,s===null?(s=bf(),Wt.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function tm(i,s,c,p){s.value=c,s.getSnapshot=p,Ns(s)&&Xl(i)}function nm(i,s,c){return c(function(){Ns(s)&&Xl(i)})}function Ns(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!Ui(i,c)}catch{return!0}}function Xl(i){var s=ga(i,2);s!==null&&sa(s,i,2)}function Zl(i){var s=fi();if(typeof i=="function"){var c=i;if(i=c(),oo){Ie(!0);try{c()}finally{Ie(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:i},s}function Jl(i,s,c,p){return i.baseState=c,wf(i,mn,typeof p=="function"?p:Is)}function Os(i,s,c,p,w){if(gc(i))throw Error(r(485));if(i=s.action,i!==null){var S={payload:w,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){S.listeners.push(V)}};fe.T!==null?c(!0):S.isTransition=!1,p(S),c=s.pending,c===null?(S.next=s.pending=S,rm(s,S)):(S.next=c.next,s.pending=c.next=S)}}function rm(i,s){var c=s.action,p=s.payload,w=i.state;if(s.isTransition){var S=fe.T,V={};fe.T=V;try{var oe=c(w,p),Ce=fe.S;Ce!==null&&Ce(V,oe),im(i,s,oe)}catch(We){Ef(i,s,We)}finally{S!==null&&V.types!==null&&(S.types=V.types),fe.T=S}}else try{S=c(w,p),im(i,s,S)}catch(We){Ef(i,s,We)}}function im(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){Xo(i,s,p)},function(p){return Ef(i,s,p)}):Xo(i,s,c)}function Xo(i,s,c){s.status="fulfilled",s.value=c,Jh(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,rm(i,c)))}function Ef(i,s,c){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,Jh(s),s=s.next;while(s!==p)}i.action=null}function Jh(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function ed(i,s){return s}function hc(i,s){if(Jt){var c=Hn.formState;if(c!==null){e:{var p=Wt;if(Jt){if(Mn){t:{for(var w=Mn,S=Nr;w.nodeType!==8;){if(!S){w=null;break t}if(w=rs(w.nextSibling),w===null){w=null;break t}}S=w.data,w=S==="F!"||S==="F"?w:null}if(w){Mn=rs(w.nextSibling),p=w.data==="F!";break e}}Js(p)}p=!1}p&&(s=c[0])}}return c=fi(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ed,lastRenderedState:s},c.queue=p,c=ld.bind(null,Wt,p),p.dispatch=c,p=Zl(!1),S=ud.bind(null,Wt,!1,p.queue),p=fi(),w={state:s,dispatch:null,action:i,pending:null},p.queue=w,c=Os.bind(null,Wt,w,S,c),w.dispatch=c,p.memoizedState=i,[s,c,!1]}function Zo(i){var s=cr();return Sf(s,mn,i)}function Sf(i,s,c){if(s=wf(i,s,ed)[0],i=_f(Is)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=wr(s)}catch(V){throw V===Wo?rc:V}else p=s;s=cr();var w=s.queue,S=w.dispatch;return c!==s.memoizedState&&(Wt.flags|=2048,eu(9,{destroy:void 0},td.bind(null,w,c),null)),[p,S,i]}function td(i,s){i.action=s}function Tf(i){var s=cr(),c=mn;if(c!==null)return Sf(s,c,i);cr(),s=s.memoizedState,c=cr();var p=c.queue.dispatch;return c.memoizedState=i,[s,p,!1]}function eu(i,s,c,p){return i={tag:i,create:c,deps:p,inst:s,next:null},s=Wt.updateQueue,s===null&&(s=bf(),Wt.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(p=c.next,c.next=i,i.next=p,s.lastEffect=i),i}function tu(){return cr().memoizedState}function dc(i,s,c,p){var w=fi();Wt.flags|=i,w.memoizedState=eu(1|s,{destroy:void 0},c,p===void 0?null:p)}function Cf(i,s,c,p){var w=cr();p=p===void 0?null:p;var S=w.memoizedState.inst;mn!==null&&p!==null&&yf(p,mn.memoizedState.deps)?w.memoizedState=eu(s,S,c,p):(Wt.flags|=i,w.memoizedState=eu(1|s,S,c,p))}function nd(i,s){dc(8390656,8,i,s)}function nu(i,s){Cf(2048,8,i,s)}function Iy(i){Wt.flags|=4;var s=Wt.updateQueue;if(s===null)s=bf(),Wt.updateQueue=s,s.events=[i];else{var c=s.events;c===null?s.events=[i]:c.push(i)}}function am(i){var s=cr().memoizedState;return Iy({ref:s,nextImpl:i}),function(){if((Sn&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function ru(i,s){return Cf(4,2,i,s)}function rd(i,s){return Cf(4,4,i,s)}function id(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function sm(i,s,c){c=c!=null?c.concat([i]):null,Cf(4,4,id.bind(null,s,i),c)}function pc(){}function ad(i,s){var c=cr();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&yf(s,p[1])?p[0]:(c.memoizedState=[i,s],i)}function om(i,s){var c=cr();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&yf(s,p[1]))return p[0];if(p=i(),oo){Ie(!0);try{i()}finally{Ie(!1)}}return c.memoizedState=[p,s],p}function Af(i,s,c){return c===void 0||(na&1073741824)!==0&&(un&261930)===0?i.memoizedState=s:(i.memoizedState=c,i=Ib(),Wt.lanes|=i,lu|=i,c)}function sd(i,s,c,p){return Ui(c,s)?c:Yl.current!==null?(i=Af(i,c,p),Ui(i,s)||(fr=!0),i):(na&42)===0||(na&1073741824)!==0&&(un&261930)===0?(fr=!0,i.memoizedState=c):(i=Ib(),Wt.lanes|=i,lu|=i,s)}function lm(i,s,c,p,w){var S=he.p;he.p=S!==0&&8>S?S:8;var V=fe.T,oe={};fe.T=oe,ud(i,!1,s,c);try{var Ce=w(),We=fe.S;if(We!==null&&We(oe,Ce),Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var Ze=Xp(Ce,p);mc(i,s,Ze,Ea(i))}else mc(i,s,p,Ea(i))}catch(rt){mc(i,s,{then:function(){},status:"rejected",reason:rt},Ea())}finally{he.p=S,V!==null&&oe.types!==null&&(V.types=oe.types),fe.T=V}}function od(){}function Jo(i,s,c,p){if(i.tag!==5)throw Error(r(476));var w=iu(i).queue;lm(i,w,s,Pe,c===null?od:function(){return um(i),c(p)})}function iu(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Pe,baseState:Pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:Pe},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function um(i){var s=iu(i);s.next===null&&(s=i.alternate.memoizedState),mc(i,s.next.queue,{},Ea())}function kf(){return Mr(Id)}function cm(){return cr().memoizedState}function fm(){return cr().memoizedState}function Ny(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=Ea();i=ro(c);var p=io(s,i,c);p!==null&&(sa(p,s,c),Wl(p,s,c)),s={cache:tc()},i.payload=s;return}s=s.return}}function Oy(i,s,c){var p=Ea();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},gc(i)?Df(s,c):(c=of(i,s,c,p),c!==null&&(sa(c,i,p),cd(c,s,p)))}function ld(i,s,c){var p=Ea();mc(i,s,c,p)}function mc(i,s,c,p){var w={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(gc(i))Df(s,w);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var V=s.lastRenderedState,oe=S(V,c);if(w.hasEagerState=!0,w.eagerState=oe,Ui(oe,V))return sf(i,s,w,0),Hn===null&&Vo(),!1}catch{}if(c=of(i,s,w,p),c!==null)return sa(c,i,p),cd(c,s,p),!0}return!1}function ud(i,s,c,p){if(p={lane:2,revertLane:Ky(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},gc(i)){if(s)throw Error(r(479))}else s=of(i,c,p,2),s!==null&&sa(s,i,2)}function gc(i){var s=i.alternate;return i===Wt||s!==null&&s===Wt}function Df(i,s){Qo=ks=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function cd(i,s,c){if((c&4194048)!==0){var p=s.lanes;p&=i.pendingLanes,c|=p,s.lanes=c,or(i,c)}}var yc={readContext:Mr,use:fc,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn};yc.useEffectEvent=Pn;var fd={readContext:Mr,use:fc,useCallback:function(i,s){return fi().memoizedState=[i,s===void 0?null:s],i},useContext:Mr,useEffect:nd,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,dc(4194308,4,id.bind(null,s,i),c)},useLayoutEffect:function(i,s){return dc(4194308,4,i,s)},useInsertionEffect:function(i,s){dc(4,2,i,s)},useMemo:function(i,s){var c=fi();s=s===void 0?null:s;var p=i();if(oo){Ie(!0);try{i()}finally{Ie(!1)}}return c.memoizedState=[p,s],p},useReducer:function(i,s,c){var p=fi();if(c!==void 0){var w=c(s);if(oo){Ie(!0);try{c(s)}finally{Ie(!1)}}}else w=s;return p.memoizedState=p.baseState=w,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:w},p.queue=i,i=i.dispatch=Oy.bind(null,Wt,i),[p.memoizedState,i]},useRef:function(i){var s=fi();return i={current:i},s.memoizedState=i},useState:function(i){i=Zl(i);var s=i.queue,c=ld.bind(null,Wt,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:pc,useDeferredValue:function(i,s){var c=fi();return Af(c,i,s)},useTransition:function(){var i=Zl(!1);return i=lm.bind(null,Wt,i.queue,!0,!1),fi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var p=Wt,w=fi();if(Jt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),Hn===null)throw Error(r(349));(un&127)!==0||em(p,s,c)}w.memoizedState=c;var S={value:c,getSnapshot:s};return w.queue=S,nd(nm.bind(null,p,S,i),[i]),p.flags|=2048,eu(9,{destroy:void 0},tm.bind(null,p,S,c,s),null),c},useId:function(){var i=fi(),s=Hn.identifierPrefix;if(Jt){var c=va,p=_i;c=(p&~(1<<32-xe(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=uc++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=cc++,s="_"+s+"r_"+c.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:kf,useFormState:hc,useActionState:hc,useOptimistic:function(i){var s=fi();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=ud.bind(null,Wt,!0,c),c.dispatch=s,[i,s]},useMemoCache:Xh,useCacheRefresh:function(){return fi().memoizedState=Ny.bind(null,Wt)},useEffectEvent:function(i){var s=fi(),c={impl:i};return s.memoizedState=c,function(){if((Sn&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},lo={readContext:Mr,use:fc,useCallback:ad,useContext:Mr,useEffect:nu,useImperativeHandle:sm,useInsertionEffect:ru,useLayoutEffect:rd,useMemo:om,useReducer:_f,useRef:tu,useState:function(){return _f(Is)},useDebugValue:pc,useDeferredValue:function(i,s){var c=cr();return sd(c,mn.memoizedState,i,s)},useTransition:function(){var i=_f(Is)[0],s=cr().memoizedState;return[typeof i=="boolean"?i:wr(i),s]},useSyncExternalStore:Zh,useId:cm,useHostTransitionStatus:kf,useFormState:Zo,useActionState:Zo,useOptimistic:function(i,s){var c=cr();return Jl(c,mn,i,s)},useMemoCache:Xh,useCacheRefresh:fm};lo.useEffectEvent=am;var hd={readContext:Mr,use:fc,useCallback:ad,useContext:Mr,useEffect:nu,useImperativeHandle:sm,useInsertionEffect:ru,useLayoutEffect:rd,useMemo:om,useReducer:xf,useRef:tu,useState:function(){return xf(Is)},useDebugValue:pc,useDeferredValue:function(i,s){var c=cr();return mn===null?Af(c,i,s):sd(c,mn.memoizedState,i,s)},useTransition:function(){var i=xf(Is)[0],s=cr().memoizedState;return[typeof i=="boolean"?i:wr(i),s]},useSyncExternalStore:Zh,useId:cm,useHostTransitionStatus:kf,useFormState:Tf,useActionState:Tf,useOptimistic:function(i,s){var c=cr();return mn!==null?Jl(c,mn,i,s):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Xh,useCacheRefresh:fm};hd.useEffectEvent=am;function au(i,s,c,p){s=i.memoizedState,c=c(p,s),c=c==null?s:x({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var dd={enqueueSetState:function(i,s,c){i=i._reactInternals;var p=Ea(),w=ro(p);w.payload=s,c!=null&&(w.callback=c),s=io(i,w,p),s!==null&&(sa(s,i,p),Wl(s,i,p))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var p=Ea(),w=ro(p);w.tag=1,w.payload=s,c!=null&&(w.callback=c),s=io(i,w,p),s!==null&&(sa(s,i,p),Wl(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=Ea(),p=ro(c);p.tag=2,s!=null&&(p.callback=s),s=io(i,p,c),s!==null&&(sa(s,i,c),Wl(s,i,c))}};function hm(i,s,c,p,w,S,V){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,S,V):s.prototype&&s.prototype.isPureReactComponent?!Il(c,p)||!Il(w,S):!0}function dm(i,s,c,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==i&&dd.enqueueReplaceState(s,s.state,null)}function yn(i,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(i=i.defaultProps){c===s&&(c=x({},c));for(var w in i)c[w]===void 0&&(c[w]=i[w])}return c}function pm(i){Za(i)}function Rf(i){console.error(i)}function su(i){Za(i)}function Ti(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function vc(i,s,c){try{var p=i.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function bc(i,s,c){return c=ro(c),c.tag=3,c.payload={element:null},c.callback=function(){Ti(i,s)},c}function pd(i){return i=ro(i),i.tag=3,i}function md(i,s,c,p){var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var S=p.value;i.payload=function(){return w(S)},i.callback=function(){vc(s,c,p)}}var V=c.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(i.callback=function(){vc(s,c,p),typeof w!="function"&&(uu===null?uu=new Set([this]):uu.add(this));var oe=p.stack;this.componentDidCatch(p.value,{componentStack:oe!==null?oe:""})})}function mm(i,s,c,p,w){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&Ul(s,c,w,!0),c=Ei.current,c!==null){switch(c.tag){case 31:case 13:return Hi===null?Sm():c.alternate===null&&vr===0&&(vr=3),c.flags&=-257,c.flags|=65536,c.lanes=w,p===hf?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),Wy(i,p,w)),!1;case 22:return c.flags|=65536,p===hf?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),Wy(i,p,w)),!1}throw Error(r(435,c.tag))}return Wy(i,p,w),Sm(),!1}if(Jt)return s=Ei.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=w,p!==bs&&(i=Error(r(422),{cause:p}),Or(Ji(i,c)))):(p!==bs&&(s=Error(r(423),{cause:p}),Or(Ji(s,c))),i=i.current.alternate,i.flags|=65536,w&=-w,i.lanes|=w,p=Ji(p,c),w=bc(i.stateNode,p,w),ao(i,w),vr!==4&&(vr=2)),!1;var S=Error(r(520),{cause:p});if(S=Ji(S,c),Ed===null?Ed=[S]:Ed.push(S),vr!==4&&(vr=2),s===null)return!0;p=Ji(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=w&-w,c.lanes|=i,i=bc(c.stateNode,p,i),ao(c,i),!1;case 1:if(s=c.type,S=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(uu===null||!uu.has(S))))return c.flags|=65536,w&=-w,c.lanes|=w,w=pd(w),md(w,i,c,p),ao(c,w),!1}c=c.return}while(c!==null);return!1}var _c=Error(r(461)),fr=!1;function Wr(i,s,c,p){s.child=i===null?Jp(s,null,c,p):to(s,i.child,c,p)}function If(i,s,c,p,w){c=c.render;var S=s.ref;if("ref"in p){var V={};for(var oe in p)oe!=="ref"&&(V[oe]=p[oe])}else V=p;return ws(s),p=Kh(i,s,c,V,S,w),oe=$o(),i!==null&&!fr?($h(i,s,w),de(i,s,w)):(Jt&&oe&&vs(s),s.flags|=1,Wr(i,s,p,w),s.child)}function gd(i,s,c,p,w){if(i===null){var S=c.type;return typeof S=="function"&&!lf(S)&&S.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=S,vn(i,s,S,p,w)):(i=ps(c.type,null,p,s,s.mode,w),i.ref=s.ref,i.return=s,s.child=i)}if(S=i.child,!_e(i,w)){var V=S.memoizedProps;if(c=c.compare,c=c!==null?c:Il,c(V,p)&&i.ref===s.ref)return de(i,s,w)}return s.flags|=1,i=ya(S,p),i.ref=s.ref,i.return=s,s.child=i}function vn(i,s,c,p,w){if(i!==null){var S=i.memoizedProps;if(Il(S,p)&&i.ref===s.ref)if(fr=!1,s.pendingProps=p=S,_e(i,w))(i.flags&131072)!==0&&(fr=!0);else return s.lanes=i.lanes,de(i,s,w)}return vd(i,s,c,p,w)}function yd(i,s,c,p){var w=p.children,S=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(S=S!==null?S.baseLanes|c:c,i!==null){for(p=s.child=i.child,w=0;p!==null;)w=w|p.lanes|p.childLanes,p=p.sibling;p=w&~S}else p=0,s.child=null;return el(i,s,S,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&ba(s,S!==null?S.cachePool:null),S!==null?Lr(s,S):Kl(),Yh(s);else return p=s.lanes=536870912,el(i,s,S!==null?S.baseLanes|c:c,c,p)}else S!==null?(ba(s,S.cachePool),Lr(s,S),As(),s.memoizedState=null):(i!==null&&ba(s,null),Kl(),As());return Wr(i,s,w,c),s.child}function wc(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function el(i,s,c,p,w){var S=ji();return S=S===null?null:{parent:ur._currentValue,pool:S},s.memoizedState={baseLanes:c,cachePool:S},i!==null&&ba(s,null),Kl(),Yh(s),i!==null&&Ul(i,s,p,!0),s.childLanes=w,null}function Nf(i,s){return s=E({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function xc(i,s,c){return to(s,i.child,null,c),i=Nf(s,s.pendingProps),i.flags|=2,Si(s),s.memoizedState=null,i}function My(i,s,c){var p=s.pendingProps,w=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Jt){if(p.mode==="hidden")return i=Nf(s,p),s.lanes=536870912,wc(null,i);if(Ql(s),(i=Mn)?(i=d_(i,Nr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ys!==null?{id:_i,overflow:va}:null,retryLane:536870912,hydrationErrors:null},c=ec(i),c.return=s,s.child=c,Ir=s,Mn=null)):i=null,i===null)throw Js(s);return s.lanes=536870912,null}return Nf(s,p)}var S=i.memoizedState;if(S!==null){var V=S.dehydrated;if(Ql(s),w)if(s.flags&256)s.flags&=-257,s=xc(i,s,c);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(fr||Ul(i,s,c,!1),w=(c&i.childLanes)!==0,fr||w){if(p=Hn,p!==null&&(V=Na(p,c),V!==0&&V!==S.retryLane))throw S.retryLane=V,ga(i,V),sa(p,i,V),_c;Sm(),s=xc(i,s,c)}else i=S.treeContext,Mn=rs(V.nextSibling),Ir=s,Jt=!0,Zs=null,Nr=!1,i!==null&&Ho(s,i),s=Nf(s,p),s.flags|=4096;return s}return i=ya(i.child,{mode:p.mode,children:p.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Vn(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(s.flags|=4194816)}}function vd(i,s,c,p,w){return ws(s),c=Kh(i,s,c,p,void 0,w),p=$o(),i!==null&&!fr?($h(i,s,w),de(i,s,w)):(Jt&&p&&vs(s),s.flags|=1,Wr(i,s,c,w),s.child)}function gm(i,s,c,p,w,S){return ws(s),s.updateQueue=null,c=Rs(s,p,c,w),Qh(i),p=$o(),i!==null&&!fr?($h(i,s,S),de(i,s,S)):(Jt&&p&&vs(s),s.flags|=1,Wr(i,s,c,S),s.child)}function ym(i,s,c,p,w){if(ws(s),s.stateNode===null){var S=ds,V=c.contextType;typeof V=="object"&&V!==null&&(S=Mr(V)),S=new c(p,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=dd,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=p,S.state=s.memoizedState,S.refs={},ql(s),V=c.contextType,S.context=typeof V=="object"&&V!==null?Mr(V):ds,S.state=s.memoizedState,V=c.getDerivedStateFromProps,typeof V=="function"&&(au(s,c,V,p),S.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(V=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),V!==S.state&&dd.enqueueReplaceState(S,S.state,null),Gl(s,p,S,w),so(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(i===null){S=s.stateNode;var oe=s.memoizedProps,Ce=yn(c,oe);S.props=Ce;var We=S.context,Ze=c.contextType;V=ds,typeof Ze=="object"&&Ze!==null&&(V=Mr(Ze));var rt=c.getDerivedStateFromProps;Ze=typeof rt=="function"||typeof S.getSnapshotBeforeUpdate=="function",oe=s.pendingProps!==oe,Ze||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(oe||We!==V)&&dm(s,S,p,V),no=!1;var Ge=s.memoizedState;S.state=Ge,Gl(s,p,S,w),so(),We=s.memoizedState,oe||Ge!==We||no?(typeof rt=="function"&&(au(s,c,rt,p),We=s.memoizedState),(Ce=no||hm(s,c,Ce,p,Ge,We,V))?(Ze||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=We),S.props=p,S.state=We,S.context=V,p=Ce):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{S=s.stateNode,pf(i,s),V=s.memoizedProps,Ze=yn(c,V),S.props=Ze,rt=s.pendingProps,Ge=S.context,We=c.contextType,Ce=ds,typeof We=="object"&&We!==null&&(Ce=Mr(We)),oe=c.getDerivedStateFromProps,(We=typeof oe=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==rt||Ge!==Ce)&&dm(s,S,p,Ce),no=!1,Ge=s.memoizedState,S.state=Ge,Gl(s,p,S,w),so();var Qe=s.memoizedState;V!==rt||Ge!==Qe||no||i!==null&&i.dependencies!==null&&ff(i.dependencies)?(typeof oe=="function"&&(au(s,c,oe,p),Qe=s.memoizedState),(Ze=no||hm(s,c,Ze,p,Ge,Qe,Ce)||i!==null&&i.dependencies!==null&&ff(i.dependencies))?(We||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,Qe,Ce),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,Qe,Ce)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||V===i.memoizedProps&&Ge===i.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&Ge===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Qe),S.props=p,S.state=Qe,S.context=Ce,p=Ze):(typeof S.componentDidUpdate!="function"||V===i.memoizedProps&&Ge===i.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&Ge===i.memoizedState||(s.flags|=1024),p=!1)}return S=p,Vn(i,s),p=(s.flags&128)!==0,S||p?(S=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,i!==null&&p?(s.child=to(s,i.child,null,w),s.child=to(s,null,c,w)):Wr(i,s,c,w),s.memoizedState=S.state,i=s.child):i=de(i,s,w),i}function Ec(i,s,c,p){return qo(),s.flags|=256,Wr(i,s,c,p),s.child}var a={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function l(i){return{baseLanes:i,cachePool:Ss()}}function d(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=xa),i}function h(i,s,c){var p=s.pendingProps,w=!1,S=(s.flags&128)!==0,V;if((V=S)||(V=i!==null&&i.memoizedState===null?!1:(Ln.current&2)!==0),V&&(w=!0,s.flags&=-129),V=(s.flags&32)!==0,s.flags&=-33,i===null){if(Jt){if(w?qi(s):As(),(i=Mn)?(i=d_(i,Nr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ys!==null?{id:_i,overflow:va}:null,retryLane:536870912,hydrationErrors:null},c=ec(i),c.return=s,s.child=c,Ir=s,Mn=null)):i=null,i===null)throw Js(s);return ov(i)?s.lanes=32:s.lanes=536870912,null}var oe=p.children;return p=p.fallback,w?(As(),w=s.mode,oe=E({mode:"hidden",children:oe},w),p=es(p,w,c,null),oe.return=s,p.return=s,oe.sibling=p,s.child=oe,p=s.child,p.memoizedState=l(c),p.childLanes=d(i,V,c),s.memoizedState=a,wc(null,p)):(qi(s),y(s,oe))}var Ce=i.memoizedState;if(Ce!==null&&(oe=Ce.dehydrated,oe!==null)){if(S)s.flags&256?(qi(s),s.flags&=-257,s=k(i,s,c)):s.memoizedState!==null?(As(),s.child=i.child,s.flags|=128,s=null):(As(),oe=p.fallback,w=s.mode,p=E({mode:"visible",children:p.children},w),oe=es(oe,w,c,null),oe.flags|=2,p.return=s,oe.return=s,p.sibling=oe,s.child=p,to(s,i.child,null,c),p=s.child,p.memoizedState=l(c),p.childLanes=d(i,V,c),s.memoizedState=a,s=wc(null,p));else if(qi(s),ov(oe)){if(V=oe.nextSibling&&oe.nextSibling.dataset,V)var We=V.dgst;V=We,p=Error(r(419)),p.stack="",p.digest=V,Or({value:p,source:null,stack:null}),s=k(i,s,c)}else if(fr||Ul(i,s,c,!1),V=(c&i.childLanes)!==0,fr||V){if(V=Hn,V!==null&&(p=Na(V,c),p!==0&&p!==Ce.retryLane))throw Ce.retryLane=p,ga(i,p),sa(V,i,p),_c;sv(oe)||Sm(),s=k(i,s,c)}else sv(oe)?(s.flags|=192,s.child=i.child,s=null):(i=Ce.treeContext,Mn=rs(oe.nextSibling),Ir=s,Jt=!0,Zs=null,Nr=!1,i!==null&&Ho(s,i),s=y(s,p.children),s.flags|=4096);return s}return w?(As(),oe=p.fallback,w=s.mode,Ce=i.child,We=Ce.sibling,p=ya(Ce,{mode:"hidden",children:p.children}),p.subtreeFlags=Ce.subtreeFlags&65011712,We!==null?oe=ya(We,oe):(oe=es(oe,w,c,null),oe.flags|=2),oe.return=s,p.return=s,p.sibling=oe,s.child=p,wc(null,p),p=s.child,oe=i.child.memoizedState,oe===null?oe=l(c):(w=oe.cachePool,w!==null?(Ce=ur._currentValue,w=w.parent!==Ce?{parent:Ce,pool:Ce}:w):w=Ss(),oe={baseLanes:oe.baseLanes|c,cachePool:w}),p.memoizedState=oe,p.childLanes=d(i,V,c),s.memoizedState=a,wc(i.child,p)):(qi(s),c=i.child,i=c.sibling,c=ya(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,i!==null&&(V=s.deletions,V===null?(s.deletions=[i],s.flags|=16):V.push(i)),s.child=c,s.memoizedState=null,c)}function y(i,s){return s=E({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function E(i,s){return i=li(22,i,null,s),i.lanes=0,i}function k(i,s,c){return to(s,i.child,null,c),i=y(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function M(i,s,c){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),Bl(i.return,s,c)}function z(i,s,c,p,w,S){var V=i.memoizedState;V===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:w,treeForkCount:S}:(V.isBackwards=s,V.rendering=null,V.renderingStartTime=0,V.last=p,V.tail=c,V.tailMode=w,V.treeForkCount=S)}function J(i,s,c){var p=s.pendingProps,w=p.revealOrder,S=p.tail;p=p.children;var V=Ln.current,oe=(V&2)!==0;if(oe?(V=V&1|2,s.flags|=128):V&=1,A(Ln,V),Wr(i,s,p,c),p=Jt?gs:0,!oe&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&M(i,c,s);else if(i.tag===19)M(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(w){case"forwards":for(c=s.child,w=null;c!==null;)i=c.alternate,i!==null&&lc(i)===null&&(w=c),c=c.sibling;c=w,c===null?(w=s.child,s.child=null):(w=c.sibling,c.sibling=null),z(s,!1,w,c,S,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,w=s.child,s.child=null;w!==null;){if(i=w.alternate,i!==null&&lc(i)===null){s.child=w;break}i=w.sibling,w.sibling=c,c=w,w=i}z(s,!0,c,null,S,p);break;case"together":z(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function de(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),lu|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(Ul(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,c=ya(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=ya(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function _e(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&ff(i)))}function Le(i,s,c){switch(s.tag){case 3:ht(s,s.stateNode.containerInfo),ta(s,ur,i.memoizedState.cache),qo();break;case 27:case 5:At(s);break;case 4:ht(s,s.stateNode.containerInfo);break;case 10:ta(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ql(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(qi(s),s.flags|=128,null):(c&s.child.childLanes)!==0?h(i,s,c):(qi(s),i=de(i,s,c),i!==null?i.sibling:null);qi(s);break;case 19:var w=(i.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(Ul(i,s,c,!1),p=(c&s.childLanes)!==0),w){if(p)return J(i,s,c);s.flags|=128}if(w=s.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),A(Ln,Ln.current),p)break;return null;case 22:return s.lanes=0,yd(i,s,c,s.pendingProps);case 24:ta(s,ur,i.memoizedState.cache)}return de(i,s,c)}function Re(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)fr=!0;else{if(!_e(i,c)&&(s.flags&128)===0)return fr=!1,Le(i,s,c);fr=(i.flags&131072)!==0}else fr=!1,Jt&&(s.flags&1048576)!==0&&Fl(s,gs,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(i=eo(s.elementType),s.type=i,typeof i=="function")lf(i)?(p=yn(i,p),s.tag=1,s=ym(null,s,i,p,c)):(s.tag=0,s=vd(null,s,i,p,c));else{if(i!=null){var w=i.$$typeof;if(w===re){s.tag=11,s=If(null,s,i,p,c);break e}else if(w===B){s.tag=14,s=gd(null,s,i,p,c);break e}}throw s=U(i)||i,Error(r(306,s,""))}}return s;case 0:return vd(i,s,s.type,s.pendingProps,c);case 1:return p=s.type,w=yn(p,s.pendingProps),ym(i,s,p,w,c);case 3:e:{if(ht(s,s.stateNode.containerInfo),i===null)throw Error(r(387));p=s.pendingProps;var S=s.memoizedState;w=S.element,pf(i,s),Gl(s,p,null,c);var V=s.memoizedState;if(p=V.cache,ta(s,ur,p),p!==S.cache&&Vh(s,[ur],c,!0),so(),p=V.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:V.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=Ec(i,s,p,c);break e}else if(p!==w){w=Ji(Error(r(424)),s),Or(w),s=Ec(i,s,p,c);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Mn=rs(i.firstChild),Ir=s,Jt=!0,Zs=null,Nr=!0,c=Jp(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(qo(),p===w){s=de(i,s,c);break e}Wr(i,s,p,c)}s=s.child}return s;case 26:return Vn(i,s),i===null?(c=b_(s.type,null,s.pendingProps,null))?s.memoizedState=c:Jt||(c=s.type,i=s.pendingProps,p=Im($e.current).createElement(c),p[er]=s,p[tn]=i,hi(p,c,i),tr(p),s.stateNode=p):s.memoizedState=b_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return At(s),i===null&&Jt&&(p=s.stateNode=g_(s.type,s.pendingProps,$e.current),Ir=s,Nr=!0,w=Mn,du(s.type)?(lv=w,Mn=rs(p.firstChild)):Mn=w),Wr(i,s,s.pendingProps.children,c),Vn(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Jt&&((w=p=Mn)&&(p=Sk(p,s.type,s.pendingProps,Nr),p!==null?(s.stateNode=p,Ir=s,Mn=rs(p.firstChild),Nr=!1,w=!0):w=!1),w||Js(s)),At(s),w=s.type,S=s.pendingProps,V=i!==null?i.memoizedProps:null,p=S.children,rv(w,S)?p=null:V!==null&&rv(w,V)&&(s.flags|=32),s.memoizedState!==null&&(w=Kh(i,s,$l,null,null,c),Id._currentValue=w),Vn(i,s),Wr(i,s,p,c),s.child;case 6:return i===null&&Jt&&((i=c=Mn)&&(c=Tk(c,s.pendingProps,Nr),c!==null?(s.stateNode=c,Ir=s,Mn=null,i=!0):i=!1),i||Js(s)),null;case 13:return h(i,s,c);case 4:return ht(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=to(s,null,p,c):Wr(i,s,p,c),s.child;case 11:return If(i,s,s.type,s.pendingProps,c);case 7:return Wr(i,s,s.pendingProps,c),s.child;case 8:return Wr(i,s,s.pendingProps.children,c),s.child;case 12:return Wr(i,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,ta(s,s.type,p.value),Wr(i,s,p.children,c),s.child;case 9:return w=s.type._context,p=s.pendingProps.children,ws(s),w=Mr(w),p=p(w),s.flags|=1,Wr(i,s,p,c),s.child;case 14:return gd(i,s,s.type,s.pendingProps,c);case 15:return vn(i,s,s.type,s.pendingProps,c);case 19:return J(i,s,c);case 31:return My(i,s,c);case 22:return yd(i,s,c,s.pendingProps);case 24:return ws(s),p=Mr(ur),i===null?(w=ji(),w===null&&(w=Hn,S=tc(),w.pooledCache=S,S.refCount++,S!==null&&(w.pooledCacheLanes|=c),w=S),s.memoizedState={parent:p,cache:w},ql(s),ta(s,ur,w)):((i.lanes&c)!==0&&(pf(i,s),Gl(s,null,null,c),so()),w=i.memoizedState,S=s.memoizedState,w.parent!==p?(w={parent:p,cache:p},s.memoizedState=w,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=w),ta(s,ur,p)):(p=S.cache,ta(s,ur,p),p!==w.cache&&Vh(s,[ur],c,!0))),Wr(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ye(i){i.flags|=4}function tt(i,s,c,p,w){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(w&335544128)===w)if(i.stateNode.complete)i.flags|=8192;else if(Lb())i.flags|=8192;else throw Ts=hf,nc}else i.flags&=-16777217}function ct(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!S_(s))if(Lb())i.flags|=8192;else throw Ts=hf,nc}function pt(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Nt():536870912,i.lanes|=s,Ff|=s)}function yt(i,s){if(!Jt)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function it(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,p=0;if(s)for(var w=i.child;w!==null;)c|=w.lanes|w.childLanes,p|=w.subtreeFlags&65011712,p|=w.flags&65011712,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)c|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=p,i.childLanes=c,s}function wt(i,s,c){var p=s.pendingProps;switch(jo(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return it(s),null;case 3:return c=s.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),_s(ur),dt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(zl(s)?Ye(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Uh())),it(s),null;case 26:var w=s.type,S=s.memoizedState;return i===null?(Ye(s),S!==null?(it(s),ct(s,S)):(it(s),tt(s,w,null,p,c))):S?S!==i.memoizedState?(Ye(s),it(s),ct(s,S)):(it(s),s.flags&=-16777217):(i=i.memoizedProps,i!==p&&Ye(s),it(s),tt(s,w,i,p,c)),null;case 27:if(_t(s),c=$e.current,w=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==p&&Ye(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return it(s),null}i=ge.current,zl(s)?Wp(s):(i=g_(w,p,c),s.stateNode=i,Ye(s))}return it(s),null;case 5:if(_t(s),w=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==p&&Ye(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return it(s),null}if(S=ge.current,zl(s))Wp(s);else{var V=Im($e.current);switch(S){case 1:S=V.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:S=V.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":S=V.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":S=V.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":S=V.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?V.createElement("select",{is:p.is}):V.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?V.createElement(w,{is:p.is}):V.createElement(w)}}S[er]=s,S[tn]=p;e:for(V=s.child;V!==null;){if(V.tag===5||V.tag===6)S.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===s)break e;for(;V.sibling===null;){if(V.return===null||V.return===s)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}s.stateNode=S;e:switch(hi(S,w,p),w){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ye(s)}}return it(s),tt(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,c),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==p&&Ye(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(i=$e.current,zl(s)){if(i=s.stateNode,c=s.memoizedProps,p=null,w=Ir,w!==null)switch(w.tag){case 27:case 5:p=w.memoizedProps}i[er]=s,i=!!(i.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||a_(i.nodeValue,c)),i||Js(s,!0)}else i=Im(i).createTextNode(p),i[er]=s,s.stateNode=i}return it(s),null;case 31:if(c=s.memoizedState,i===null||i.memoizedState!==null){if(p=zl(s),c!==null){if(i===null){if(!p)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[er]=s}else qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),i=!1}else c=Uh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return s.flags&256?(Si(s),s):(Si(s),null);if((s.flags&128)!==0)throw Error(r(558))}return it(s),null;case 13:if(p=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(w=zl(s),p!==null&&p.dehydrated!==null){if(i===null){if(!w)throw Error(r(318));if(w=s.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[er]=s}else qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),w=!1}else w=Uh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=w),w=!0;if(!w)return s.flags&256?(Si(s),s):(Si(s),null)}return Si(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,i=i!==null&&i.memoizedState!==null,c&&(p=s.child,w=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(w=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==w&&(p.flags|=2048)),c!==i&&c&&(s.child.flags|=8192),pt(s,s.updateQueue),it(s),null);case 4:return dt(),i===null&&Zy(s.stateNode.containerInfo),it(s),null;case 10:return _s(s.type),it(s),null;case 19:if(H(Ln),p=s.memoizedState,p===null)return it(s),null;if(w=(s.flags&128)!==0,S=p.rendering,S===null)if(w)yt(p,!1);else{if(vr!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(S=lc(i),S!==null){for(s.flags|=128,yt(p,!1),i=S.updateQueue,s.updateQueue=i,pt(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)uf(c,i),c=c.sibling;return A(Ln,Ln.current&1|2),Jt&&ci(s,p.treeForkCount),s.child}i=i.sibling}p.tail!==null&&Ee()>wm&&(s.flags|=128,w=!0,yt(p,!1),s.lanes=4194304)}else{if(!w)if(i=lc(S),i!==null){if(s.flags|=128,w=!0,i=i.updateQueue,s.updateQueue=i,pt(s,i),yt(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!Jt)return it(s),null}else 2*Ee()-p.renderingStartTime>wm&&c!==536870912&&(s.flags|=128,w=!0,yt(p,!1),s.lanes=4194304);p.isBackwards?(S.sibling=s.child,s.child=S):(i=p.last,i!==null?i.sibling=S:s.child=S,p.last=S)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Ee(),i.sibling=null,c=Ln.current,A(Ln,w?c&1|2:c&1),Jt&&ci(s,p.treeForkCount),i):(it(s),null);case 22:case 23:return Si(s),gf(),p=s.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),c=s.updateQueue,c!==null&&pt(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),i!==null&&H(Zt),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),_s(ur),it(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function It(i,s){switch(jo(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return _s(ur),dt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return _t(s),null;case 31:if(s.memoizedState!==null){if(Si(s),s.alternate===null)throw Error(r(340));qo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Si(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));qo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return H(Ln),null;case 4:return dt(),null;case 10:return _s(s.type),null;case 22:case 23:return Si(s),gf(),i!==null&&H(Zt),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return _s(ur),null;case 25:return null;default:return null}}function Ct(i,s){switch(jo(s),s.tag){case 3:_s(ur),dt();break;case 26:case 27:case 5:_t(s);break;case 4:dt();break;case 31:s.memoizedState!==null&&Si(s);break;case 13:Si(s);break;case 19:H(Ln);break;case 10:_s(s.type);break;case 22:case 23:Si(s),gf(),i!==null&&H(Zt);break;case 24:_s(ur)}}function Ut(i,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var w=p.next;c=w;do{if((c.tag&i)===i){p=void 0;var S=c.create,V=c.inst;p=S(),V.destroy=p}c=c.next}while(c!==w)}}catch(oe){In(s,s.return,oe)}}function rn(i,s,c){try{var p=s.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var S=w.next;p=S;do{if((p.tag&i)===i){var V=p.inst,oe=V.destroy;if(oe!==void 0){V.destroy=void 0,w=s;var Ce=c,We=oe;try{We()}catch(Ze){In(w,Ce,Ze)}}}p=p.next}while(p!==S)}}catch(Ze){In(s,s.return,Ze)}}function yr(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{Gh(s,c)}catch(p){In(i,i.return,p)}}}function jn(i,s,c){c.props=yn(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(p){In(i,s,p)}}function Pr(i,s){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof c=="function"?i.refCleanup=c(p):c.current=p}}catch(w){In(i,s,w)}}function Gn(i,s){var c=i.ref,p=i.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(w){In(i,s,w)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(w){In(i,s,w)}else c.current=null}function ir(i){var s=i.type,c=i.memoizedProps,p=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(w){In(i,i.return,w)}}function Gr(i,s,c){try{var p=i.stateNode;vk(p,i.type,c,s),p[tn]=s}catch(w){In(i,i.return,w)}}function xr(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&du(i.type)||i.tag===4}function ar(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||xr(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&du(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xn(i,s,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(i),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=da));else if(p!==4&&(p===27&&du(i.type)&&(c=i.stateNode,s=null),i=i.child,i!==null))for(Xn(i,s,c),i=i.sibling;i!==null;)Xn(i,s,c),i=i.sibling}function Fn(i,s,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(p!==4&&(p===27&&du(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Fn(i,s,c),i=i.sibling;i!==null;)Fn(i,s,c),i=i.sibling}function Jr(i){var s=i.stateNode,c=i.memoizedProps;try{for(var p=i.type,w=s.attributes;w.length;)s.removeAttributeNode(w[0]);hi(s,p,c),s[er]=i,s[tn]=c}catch(S){In(i,i.return,S)}}var Ci=!1,Dn=!1,Er=!1,_a=typeof WeakSet=="function"?WeakSet:Set,en=null;function bd(i,s){if(i=i.containerInfo,tv=zm,i=Lh(i),Zu(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var w=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break e}var V=0,oe=-1,Ce=-1,We=0,Ze=0,rt=i,Ge=null;t:for(;;){for(var Qe;rt!==c||w!==0&&rt.nodeType!==3||(oe=V+w),rt!==S||p!==0&&rt.nodeType!==3||(Ce=V+p),rt.nodeType===3&&(V+=rt.nodeValue.length),(Qe=rt.firstChild)!==null;)Ge=rt,rt=Qe;for(;;){if(rt===i)break t;if(Ge===c&&++We===w&&(oe=V),Ge===S&&++Ze===p&&(Ce=V),(Qe=rt.nextSibling)!==null)break;rt=Ge,Ge=rt.parentNode}rt=Qe}c=oe===-1||Ce===-1?null:{start:oe,end:Ce}}else c=null}c=c||{start:0,end:0}}else c=null;for(nv={focusedElem:i,selectionRange:c},zm=!1,en=s;en!==null;)if(s=en,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,en=i;else for(;en!==null;){switch(s=en,S=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)w=i[c],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,c=s,w=S.memoizedProps,S=S.memoizedState,p=c.stateNode;try{var Tt=yn(c.type,w);i=p.getSnapshotBeforeUpdate(Tt,S),p.__reactInternalSnapshotBeforeUpdate=i}catch(Ft){In(c,c.return,Ft)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)av(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":av(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,en=i;break}en=s.return}}function ns(i,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:tl(i,c),p&4&&Ut(5,c);break;case 1:if(tl(i,c),p&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(V){In(c,c.return,V)}else{var w=yn(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(w,s,i.__reactInternalSnapshotBeforeUpdate)}catch(V){In(c,c.return,V)}}p&64&&yr(c),p&512&&Pr(c,c.return);break;case 3:if(tl(i,c),p&64&&(i=c.updateQueue,i!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Gh(i,s)}catch(V){In(c,c.return,V)}}break;case 27:s===null&&p&4&&Jr(c);case 26:case 5:tl(i,c),s===null&&p&4&&ir(c),p&512&&Pr(c,c.return);break;case 12:tl(i,c);break;case 31:tl(i,c),p&4&&_b(i,c);break;case 13:tl(i,c),p&4&&wb(i,c),p&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=sk.bind(null,c),Ck(i,c))));break;case 22:if(p=c.memoizedState!==null||Ci,!p){s=s!==null&&s.memoizedState!==null||Dn,w=Ci;var S=Dn;Ci=p,(Dn=s)&&!S?nl(i,c,(c.subtreeFlags&8772)!==0):tl(i,c),Ci=w,Dn=S}break;case 30:break;default:tl(i,c)}}function uo(i){var s=i.alternate;s!==null&&(i.alternate=null,uo(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&fa(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var _n=null,En=!1;function Ai(i,s,c){for(c=c.child;c!==null;)Of(i,s,c),c=c.sibling}function Of(i,s,c){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(me,c)}catch{}switch(c.tag){case 26:Dn||Gn(c,s),Ai(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Dn||Gn(c,s);var p=_n,w=En;du(c.type)&&(_n=c.stateNode,En=!1),Ai(i,s,c),kd(c.stateNode),_n=p,En=w;break;case 5:Dn||Gn(c,s);case 6:if(p=_n,w=En,_n=null,Ai(i,s,c),_n=p,En=w,_n!==null)if(En)try{(_n.nodeType===9?_n.body:_n.nodeName==="HTML"?_n.ownerDocument.body:_n).removeChild(c.stateNode)}catch(S){In(c,s,S)}else try{_n.removeChild(c.stateNode)}catch(S){In(c,s,S)}break;case 18:_n!==null&&(En?(i=_n,f_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Wf(i)):f_(_n,c.stateNode));break;case 4:p=_n,w=En,_n=c.stateNode.containerInfo,En=!0,Ai(i,s,c),_n=p,En=w;break;case 0:case 11:case 14:case 15:rn(2,c,s),Dn||rn(4,c,s),Ai(i,s,c);break;case 1:Dn||(Gn(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&jn(c,s,p)),Ai(i,s,c);break;case 21:Ai(i,s,c);break;case 22:Dn=(p=Dn)||c.memoizedState!==null,Ai(i,s,c),Dn=p;break;default:Ai(i,s,c)}}function _b(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Wf(i)}catch(c){In(s,s.return,c)}}}function wb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Wf(i)}catch(c){In(s,s.return,c)}}function ZA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new _a),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new _a),s;default:throw Error(r(435,i.tag))}}function vm(i,s){var c=ZA(i);s.forEach(function(p){if(!c.has(p)){c.add(p);var w=ok.bind(null,i,p);p.then(w,w)}})}function ra(i,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var w=c[p],S=i,V=s,oe=V;e:for(;oe!==null;){switch(oe.tag){case 27:if(du(oe.type)){_n=oe.stateNode,En=!1;break e}break;case 5:_n=oe.stateNode,En=!1;break e;case 3:case 4:_n=oe.stateNode.containerInfo,En=!0;break e}oe=oe.return}if(_n===null)throw Error(r(160));Of(S,V,w),_n=null,En=!1,S=w.alternate,S!==null&&(S.return=null),w.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)xb(s,i),s=s.sibling}var Ms=null;function xb(i,s){var c=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ra(s,i),ia(i),p&4&&(rn(3,i,i.return),Ut(3,i),rn(5,i,i.return));break;case 1:ra(s,i),ia(i),p&512&&(Dn||c===null||Gn(c,c.return)),p&64&&Ci&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var w=Ms;if(ra(s,i),ia(i),p&512&&(Dn||c===null||Gn(c,c.return)),p&4){var S=c!==null?c.memoizedState:null;if(p=i.memoizedState,c===null)if(p===null)if(i.stateNode===null){e:{p=i.type,c=i.memoizedProps,w=w.ownerDocument||w;t:switch(p){case"title":S=w.getElementsByTagName("title")[0],(!S||S[Mi]||S[er]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=w.createElement(p),w.head.insertBefore(S,w.querySelector("head > title"))),hi(S,p,c),S[er]=i,tr(S),p=S;break e;case"link":var V=x_("link","href",w).get(p+(c.href||""));if(V){for(var oe=0;oe<V.length;oe++)if(S=V[oe],S.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&S.getAttribute("rel")===(c.rel==null?null:c.rel)&&S.getAttribute("title")===(c.title==null?null:c.title)&&S.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){V.splice(oe,1);break t}}S=w.createElement(p),hi(S,p,c),w.head.appendChild(S);break;case"meta":if(V=x_("meta","content",w).get(p+(c.content||""))){for(oe=0;oe<V.length;oe++)if(S=V[oe],S.getAttribute("content")===(c.content==null?null:""+c.content)&&S.getAttribute("name")===(c.name==null?null:c.name)&&S.getAttribute("property")===(c.property==null?null:c.property)&&S.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&S.getAttribute("charset")===(c.charSet==null?null:c.charSet)){V.splice(oe,1);break t}}S=w.createElement(p),hi(S,p,c),w.head.appendChild(S);break;default:throw Error(r(468,p))}S[er]=i,tr(S),p=S}i.stateNode=p}else E_(w,i.type,i.stateNode);else i.stateNode=w_(w,p,i.memoizedProps);else S!==p?(S===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):S.count--,p===null?E_(w,i.type,i.stateNode):w_(w,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Gr(i,i.memoizedProps,c.memoizedProps)}break;case 27:ra(s,i),ia(i),p&512&&(Dn||c===null||Gn(c,c.return)),c!==null&&p&4&&Gr(i,i.memoizedProps,c.memoizedProps);break;case 5:if(ra(s,i),ia(i),p&512&&(Dn||c===null||Gn(c,c.return)),i.flags&32){w=i.stateNode;try{Zr(w,"")}catch(Tt){In(i,i.return,Tt)}}p&4&&i.stateNode!=null&&(w=i.memoizedProps,Gr(i,w,c!==null?c.memoizedProps:w)),p&1024&&(Er=!0);break;case 6:if(ra(s,i),ia(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,c=i.stateNode;try{c.nodeValue=p}catch(Tt){In(i,i.return,Tt)}}break;case 3:if(Mm=null,w=Ms,Ms=Nm(s.containerInfo),ra(s,i),Ms=w,ia(i),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Wf(s.containerInfo)}catch(Tt){In(i,i.return,Tt)}Er&&(Er=!1,Eb(i));break;case 4:p=Ms,Ms=Nm(i.stateNode.containerInfo),ra(s,i),ia(i),Ms=p;break;case 12:ra(s,i),ia(i);break;case 31:ra(s,i),ia(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,vm(i,p)));break;case 13:ra(s,i),ia(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(_m=Ee()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,vm(i,p)));break;case 22:w=i.memoizedState!==null;var Ce=c!==null&&c.memoizedState!==null,We=Ci,Ze=Dn;if(Ci=We||w,Dn=Ze||Ce,ra(s,i),Dn=Ze,Ci=We,ia(i),p&8192)e:for(s=i.stateNode,s._visibility=w?s._visibility&-2:s._visibility|1,w&&(c===null||Ce||Ci||Dn||Sc(i)),c=null,s=i;;){if(s.tag===5||s.tag===26){if(c===null){Ce=c=s;try{if(S=Ce.stateNode,w)V=S.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{oe=Ce.stateNode;var rt=Ce.memoizedProps.style,Ge=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;oe.style.display=Ge==null||typeof Ge=="boolean"?"":(""+Ge).trim()}}catch(Tt){In(Ce,Ce.return,Tt)}}}else if(s.tag===6){if(c===null){Ce=s;try{Ce.stateNode.nodeValue=w?"":Ce.memoizedProps}catch(Tt){In(Ce,Ce.return,Tt)}}}else if(s.tag===18){if(c===null){Ce=s;try{var Qe=Ce.stateNode;w?h_(Qe,!0):h_(Ce.stateNode,!1)}catch(Tt){In(Ce,Ce.return,Tt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=i.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,vm(i,c))));break;case 19:ra(s,i),ia(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,vm(i,p)));break;case 30:break;case 21:break;default:ra(s,i),ia(i)}}function ia(i){var s=i.flags;if(s&2){try{for(var c,p=i.return;p!==null;){if(xr(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var w=c.stateNode,S=ar(i);Fn(i,S,w);break;case 5:var V=c.stateNode;c.flags&32&&(Zr(V,""),c.flags&=-33);var oe=ar(i);Fn(i,oe,V);break;case 3:case 4:var Ce=c.stateNode.containerInfo,We=ar(i);Xn(i,We,Ce);break;default:throw Error(r(161))}}catch(Ze){In(i,i.return,Ze)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Eb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Eb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function tl(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ns(i,s.alternate,s),s=s.sibling}function Sc(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:rn(4,s,s.return),Sc(s);break;case 1:Gn(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&jn(s,s.return,c),Sc(s);break;case 27:kd(s.stateNode);case 26:case 5:Gn(s,s.return),Sc(s);break;case 22:s.memoizedState===null&&Sc(s);break;case 30:Sc(s);break;default:Sc(s)}i=i.sibling}}function nl(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,w=i,S=s,V=S.flags;switch(S.tag){case 0:case 11:case 15:nl(w,S,c),Ut(4,S);break;case 1:if(nl(w,S,c),p=S,w=p.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(We){In(p,p.return,We)}if(p=S,w=p.updateQueue,w!==null){var oe=p.stateNode;try{var Ce=w.shared.hiddenCallbacks;if(Ce!==null)for(w.shared.hiddenCallbacks=null,w=0;w<Ce.length;w++)mf(Ce[w],oe)}catch(We){In(p,p.return,We)}}c&&V&64&&yr(S),Pr(S,S.return);break;case 27:Jr(S);case 26:case 5:nl(w,S,c),c&&p===null&&V&4&&ir(S),Pr(S,S.return);break;case 12:nl(w,S,c);break;case 31:nl(w,S,c),c&&V&4&&_b(w,S);break;case 13:nl(w,S,c),c&&V&4&&wb(w,S);break;case 22:S.memoizedState===null&&nl(w,S,c),Pr(S,S.return);break;case 30:break;default:nl(w,S,c)}s=s.sibling}}function Ly(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&jl(c))}function Py(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&jl(i))}function Ls(i,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Sb(i,s,c,p),s=s.sibling}function Sb(i,s,c,p){var w=s.flags;switch(s.tag){case 0:case 11:case 15:Ls(i,s,c,p),w&2048&&Ut(9,s);break;case 1:Ls(i,s,c,p);break;case 3:Ls(i,s,c,p),w&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&jl(i)));break;case 12:if(w&2048){Ls(i,s,c,p),i=s.stateNode;try{var S=s.memoizedProps,V=S.id,oe=S.onPostCommit;typeof oe=="function"&&oe(V,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Ce){In(s,s.return,Ce)}}else Ls(i,s,c,p);break;case 31:Ls(i,s,c,p);break;case 13:Ls(i,s,c,p);break;case 23:break;case 22:S=s.stateNode,V=s.alternate,s.memoizedState!==null?S._visibility&2?Ls(i,s,c,p):_d(i,s):S._visibility&2?Ls(i,s,c,p):(S._visibility|=2,Mf(i,s,c,p,(s.subtreeFlags&10256)!==0||!1)),w&2048&&Ly(V,s);break;case 24:Ls(i,s,c,p),w&2048&&Py(s.alternate,s);break;default:Ls(i,s,c,p)}}function Mf(i,s,c,p,w){for(w=w&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var S=i,V=s,oe=c,Ce=p,We=V.flags;switch(V.tag){case 0:case 11:case 15:Mf(S,V,oe,Ce,w),Ut(8,V);break;case 23:break;case 22:var Ze=V.stateNode;V.memoizedState!==null?Ze._visibility&2?Mf(S,V,oe,Ce,w):_d(S,V):(Ze._visibility|=2,Mf(S,V,oe,Ce,w)),w&&We&2048&&Ly(V.alternate,V);break;case 24:Mf(S,V,oe,Ce,w),w&&We&2048&&Py(V.alternate,V);break;default:Mf(S,V,oe,Ce,w)}s=s.sibling}}function _d(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,p=s,w=p.flags;switch(p.tag){case 22:_d(c,p),w&2048&&Ly(p.alternate,p);break;case 24:_d(c,p),w&2048&&Py(p.alternate,p);break;default:_d(c,p)}s=s.sibling}}var wd=8192;function Lf(i,s,c){if(i.subtreeFlags&wd)for(i=i.child;i!==null;)Tb(i,s,c),i=i.sibling}function Tb(i,s,c){switch(i.tag){case 26:Lf(i,s,c),i.flags&wd&&i.memoizedState!==null&&zk(c,Ms,i.memoizedState,i.memoizedProps);break;case 5:Lf(i,s,c);break;case 3:case 4:var p=Ms;Ms=Nm(i.stateNode.containerInfo),Lf(i,s,c),Ms=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=wd,wd=16777216,Lf(i,s,c),wd=p):Lf(i,s,c));break;default:Lf(i,s,c)}}function Cb(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function xd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];en=p,kb(p,i)}Cb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ab(i),i=i.sibling}function Ab(i){switch(i.tag){case 0:case 11:case 15:xd(i),i.flags&2048&&rn(9,i,i.return);break;case 3:xd(i);break;case 12:xd(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,bm(i)):xd(i);break;default:xd(i)}}function bm(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];en=p,kb(p,i)}Cb(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:rn(8,s,s.return),bm(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,bm(s));break;default:bm(s)}i=i.sibling}}function kb(i,s){for(;en!==null;){var c=en;switch(c.tag){case 0:case 11:case 15:rn(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:jl(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,en=p;else e:for(c=i;en!==null;){p=en;var w=p.sibling,S=p.return;if(uo(p),p===c){en=null;break e}if(w!==null){w.return=S,en=w;break e}en=S}}}var JA={getCacheForType:function(i){var s=Mr(ur),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c},cacheSignal:function(){return Mr(ur).controller.signal}},ek=typeof WeakMap=="function"?WeakMap:Map,Sn=0,Hn=null,an=null,un=0,Rn=0,wa=null,ou=!1,Pf=!1,Fy=!1,rl=0,vr=0,lu=0,Tc=0,zy=0,xa=0,Ff=0,Ed=null,aa=null,By=!1,_m=0,Db=0,wm=1/0,xm=null,uu=null,Yr=0,cu=null,zf=null,il=0,Uy=0,Vy=null,Rb=null,Sd=0,jy=null;function Ea(){return(Sn&2)!==0&&un!==0?un&-un:fe.T!==null?Ky():js()}function Ib(){if(xa===0)if((un&536870912)===0||Jt){var i=vt;vt<<=1,(vt&3932160)===0&&(vt=262144),xa=i}else xa=536870912;return i=Ei.current,i!==null&&(i.flags|=32),xa}function sa(i,s,c){(i===Hn&&(Rn===2||Rn===9)||i.cancelPendingCommit!==null)&&(Bf(i,0),fu(i,un,xa,!1)),on(i,c),((Sn&2)===0||i!==Hn)&&(i===Hn&&((Sn&2)===0&&(Tc|=c),vr===4&&fu(i,un,xa,!1)),co(i))}function Nb(i,s,c){if((Sn&6)!==0)throw Error(r(327));var p=!c&&(s&127)===0&&(s&i.expiredLanes)===0||Rt(i,s),w=p?rk(i,s):qy(i,s,!0),S=p;do{if(w===0){Pf&&!p&&fu(i,s,0,!1);break}else{if(c=i.current.alternate,S&&!tk(c)){w=qy(i,s,!1),S=!1;continue}if(w===2){if(S=s,i.errorRecoveryDisabledLanes&S)var V=0;else V=i.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){s=V;e:{var oe=i;w=Ed;var Ce=oe.current.memoizedState.isDehydrated;if(Ce&&(Bf(oe,V).flags|=256),V=qy(oe,V,!1),V!==2){if(Fy&&!Ce){oe.errorRecoveryDisabledLanes|=S,Tc|=S,w=4;break e}S=aa,aa=w,S!==null&&(aa===null?aa=S:aa.push.apply(aa,S))}w=V}if(S=!1,w!==2)continue}}if(w===1){Bf(i,0),fu(i,s,0,!0);break}e:{switch(p=i,S=w,S){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:fu(p,s,xa,!ou);break e;case 2:aa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(w=_m+300-Ee(),10<w)){if(fu(p,s,xa,!ou),kt(p,0,!0)!==0)break e;il=s,p.timeoutHandle=u_(Ob.bind(null,p,c,aa,xm,By,s,xa,Tc,Ff,ou,S,"Throttled",-0,0),w);break e}Ob(p,c,aa,xm,By,s,xa,Tc,Ff,ou,S,null,-0,0)}}break}while(!0);co(i)}function Ob(i,s,c,p,w,S,V,oe,Ce,We,Ze,rt,Ge,Qe){if(i.timeoutHandle=-1,rt=s.subtreeFlags,rt&8192||(rt&16785408)===16785408){rt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:da},Tb(s,S,rt);var Tt=(S&62914560)===S?_m-Ee():(S&4194048)===S?Db-Ee():0;if(Tt=Bk(rt,Tt),Tt!==null){il=S,i.cancelPendingCommit=Tt(Vb.bind(null,i,s,S,c,p,w,V,oe,Ce,Ze,rt,null,Ge,Qe)),fu(i,S,V,!We);return}}Vb(i,s,S,c,p,w,V,oe,Ce)}function tk(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var w=c[p],S=w.getSnapshot;w=w.value;try{if(!Ui(S(),w))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fu(i,s,c,p){s&=~zy,s&=~Tc,i.suspendedLanes|=s,i.pingedLanes&=~s,p&&(i.warmLanes|=s),p=i.expirationTimes;for(var w=s;0<w;){var S=31-xe(w),V=1<<S;p[S]=-1,w&=~V}c!==0&&Jn(i,c,s)}function Em(){return(Sn&6)===0?(Td(0),!1):!0}function Hy(){if(an!==null){if(Rn===0)var i=an.return;else i=an,kn=rr=null,vf(i),Go=null,ic=0,i=an;for(;i!==null;)Ct(i.alternate,i),i=i.return;an=null}}function Bf(i,s){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,wk(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),il=0,Hy(),Hn=i,an=c=ya(i.current,null),un=s,Rn=0,wa=null,ou=!1,Pf=Rt(i,s),Fy=!1,Ff=xa=zy=Tc=lu=vr=0,aa=Ed=null,By=!1,(s&8)!==0&&(s|=s&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=s;0<p;){var w=31-xe(p),S=1<<w;s|=i[w],p&=~S}return rl=s,Vo(),c}function Mb(i,s){Wt=null,fe.H=yc,s===Wo||s===rc?(s=Cs(),Rn=3):s===nc?(s=Cs(),Rn=4):Rn=s===_c?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,wa=s,an===null&&(vr=1,Ti(i,Ji(s,i.current)))}function Lb(){var i=Ei.current;return i===null?!0:(un&4194048)===un?Hi===null:(un&62914560)===un||(un&536870912)!==0?i===Hi:!1}function Pb(){var i=fe.H;return fe.H=yc,i===null?yc:i}function Fb(){var i=fe.A;return fe.A=JA,i}function Sm(){vr=4,ou||(un&4194048)!==un&&Ei.current!==null||(Pf=!0),(lu&134217727)===0&&(Tc&134217727)===0||Hn===null||fu(Hn,un,xa,!1)}function qy(i,s,c){var p=Sn;Sn|=2;var w=Pb(),S=Fb();(Hn!==i||un!==s)&&(xm=null,Bf(i,s)),s=!1;var V=vr;e:do try{if(Rn!==0&&an!==null){var oe=an,Ce=wa;switch(Rn){case 8:Hy(),V=6;break e;case 3:case 2:case 9:case 6:Ei.current===null&&(s=!0);var We=Rn;if(Rn=0,wa=null,Uf(i,oe,Ce,We),c&&Pf){V=0;break e}break;default:We=Rn,Rn=0,wa=null,Uf(i,oe,Ce,We)}}nk(),V=vr;break}catch(Ze){Mb(i,Ze)}while(!0);return s&&i.shellSuspendCounter++,kn=rr=null,Sn=p,fe.H=w,fe.A=S,an===null&&(Hn=null,un=0,Vo()),V}function nk(){for(;an!==null;)zb(an)}function rk(i,s){var c=Sn;Sn|=2;var p=Pb(),w=Fb();Hn!==i||un!==s?(xm=null,wm=Ee()+500,Bf(i,s)):Pf=Rt(i,s);e:do try{if(Rn!==0&&an!==null){s=an;var S=wa;t:switch(Rn){case 1:Rn=0,wa=null,Uf(i,s,S,1);break;case 2:case 9:if(df(S)){Rn=0,wa=null,Bb(s);break}s=function(){Rn!==2&&Rn!==9||Hn!==i||(Rn=7),co(i)},S.then(s,s);break e;case 3:Rn=7;break e;case 4:Rn=5;break e;case 7:df(S)?(Rn=0,wa=null,Bb(s)):(Rn=0,wa=null,Uf(i,s,S,7));break;case 5:var V=null;switch(an.tag){case 26:V=an.memoizedState;case 5:case 27:var oe=an;if(V?S_(V):oe.stateNode.complete){Rn=0,wa=null;var Ce=oe.sibling;if(Ce!==null)an=Ce;else{var We=oe.return;We!==null?(an=We,Tm(We)):an=null}break t}}Rn=0,wa=null,Uf(i,s,S,5);break;case 6:Rn=0,wa=null,Uf(i,s,S,6);break;case 8:Hy(),vr=6;break e;default:throw Error(r(462))}}ik();break}catch(Ze){Mb(i,Ze)}while(!0);return kn=rr=null,fe.H=p,fe.A=w,Sn=c,an!==null?0:(Hn=null,un=0,Vo(),vr)}function ik(){for(;an!==null&&!Ve();)zb(an)}function zb(i){var s=Re(i.alternate,i,rl);i.memoizedProps=i.pendingProps,s===null?Tm(i):an=s}function Bb(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=gm(c,s,s.pendingProps,s.type,void 0,un);break;case 11:s=gm(c,s,s.pendingProps,s.type.render,s.ref,un);break;case 5:vf(s);default:Ct(c,s),s=an=uf(s,rl),s=Re(c,s,rl)}i.memoizedProps=i.pendingProps,s===null?Tm(i):an=s}function Uf(i,s,c,p){kn=rr=null,vf(s),Go=null,ic=0;var w=s.return;try{if(mm(i,w,s,c,un)){vr=1,Ti(i,Ji(c,i.current)),an=null;return}}catch(S){if(w!==null)throw an=w,S;vr=1,Ti(i,Ji(c,i.current)),an=null;return}s.flags&32768?(Jt||p===1?i=!0:Pf||(un&536870912)!==0?i=!1:(ou=i=!0,(p===2||p===9||p===3||p===6)&&(p=Ei.current,p!==null&&p.tag===13&&(p.flags|=16384))),Ub(s,i)):Tm(s)}function Tm(i){var s=i;do{if((s.flags&32768)!==0){Ub(s,ou);return}i=s.return;var c=wt(s.alternate,s,rl);if(c!==null){an=c;return}if(s=s.sibling,s!==null){an=s;return}an=s=i}while(s!==null);vr===0&&(vr=5)}function Ub(i,s){do{var c=It(i.alternate,i);if(c!==null){c.flags&=32767,an=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){an=i;return}an=i=c}while(i!==null);vr=6,an=null}function Vb(i,s,c,p,w,S,V,oe,Ce){i.cancelPendingCommit=null;do Cm();while(Yr!==0);if((Sn&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(S=s.lanes|s.childLanes,S|=Ja,$n(i,c,S,V,oe,Ce),i===Hn&&(an=Hn=null,un=0),zf=s,cu=i,il=c,Uy=S,Vy=w,Rb=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,lk(G,function(){return Gb(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=fe.T,fe.T=null,w=he.p,he.p=2,V=Sn,Sn|=4;try{bd(i,s,c)}finally{Sn=V,he.p=w,fe.T=p}}Yr=1,jb(),Hb(),qb()}}function jb(){if(Yr===1){Yr=0;var i=cu,s=zf,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=fe.T,fe.T=null;var p=he.p;he.p=2;var w=Sn;Sn|=4;try{xb(s,i);var S=nv,V=Lh(i.containerInfo),oe=S.focusedElem,Ce=S.selectionRange;if(V!==oe&&oe&&oe.ownerDocument&&Mh(oe.ownerDocument.documentElement,oe)){if(Ce!==null&&Zu(oe)){var We=Ce.start,Ze=Ce.end;if(Ze===void 0&&(Ze=We),"selectionStart"in oe)oe.selectionStart=We,oe.selectionEnd=Math.min(Ze,oe.value.length);else{var rt=oe.ownerDocument||document,Ge=rt&&rt.defaultView||window;if(Ge.getSelection){var Qe=Ge.getSelection(),Tt=oe.textContent.length,Ft=Math.min(Ce.start,Tt),Bn=Ce.end===void 0?Ft:Math.min(Ce.end,Tt);!Qe.extend&&Ft>Bn&&(V=Bn,Bn=Ft,Ft=V);var Be=Nl(oe,Ft),Ne=Nl(oe,Bn);if(Be&&Ne&&(Qe.rangeCount!==1||Qe.anchorNode!==Be.node||Qe.anchorOffset!==Be.offset||Qe.focusNode!==Ne.node||Qe.focusOffset!==Ne.offset)){var qe=rt.createRange();qe.setStart(Be.node,Be.offset),Qe.removeAllRanges(),Ft>Bn?(Qe.addRange(qe),Qe.extend(Ne.node,Ne.offset)):(qe.setEnd(Ne.node,Ne.offset),Qe.addRange(qe))}}}}for(rt=[],Qe=oe;Qe=Qe.parentNode;)Qe.nodeType===1&&rt.push({element:Qe,left:Qe.scrollLeft,top:Qe.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<rt.length;oe++){var nt=rt[oe];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}zm=!!tv,nv=tv=null}finally{Sn=w,he.p=p,fe.T=c}}i.current=s,Yr=2}}function Hb(){if(Yr===2){Yr=0;var i=cu,s=zf,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=fe.T,fe.T=null;var p=he.p;he.p=2;var w=Sn;Sn|=4;try{ns(i,s.alternate,s)}finally{Sn=w,he.p=p,fe.T=c}}Yr=3}}function qb(){if(Yr===4||Yr===3){Yr=0,lt();var i=cu,s=zf,c=il,p=Rb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Yr=5:(Yr=0,zf=cu=null,Wb(i,i.pendingLanes));var w=i.pendingLanes;if(w===0&&(uu=null),Yi(c),s=s.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(me,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=fe.T,w=he.p,he.p=2,fe.T=null;try{for(var S=i.onRecoverableError,V=0;V<p.length;V++){var oe=p[V];S(oe.value,{componentStack:oe.stack})}}finally{fe.T=s,he.p=w}}(il&3)!==0&&Cm(),co(i),w=i.pendingLanes,(c&261930)!==0&&(w&42)!==0?i===jy?Sd++:(Sd=0,jy=i):Sd=0,Td(0)}}function Wb(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,jl(s)))}function Cm(){return jb(),Hb(),qb(),Gb()}function Gb(){if(Yr!==5)return!1;var i=cu,s=Uy;Uy=0;var c=Yi(il),p=fe.T,w=he.p;try{he.p=32>c?32:c,fe.T=null,c=Vy,Vy=null;var S=cu,V=il;if(Yr=0,zf=cu=null,il=0,(Sn&6)!==0)throw Error(r(331));var oe=Sn;if(Sn|=4,Ab(S.current),Sb(S,S.current,V,c),Sn=oe,Td(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(me,S)}catch{}return!0}finally{he.p=w,fe.T=p,Wb(i,s)}}function Yb(i,s,c){s=Ji(c,s),s=bc(i.stateNode,s,2),i=io(i,s,2),i!==null&&(on(i,2),co(i))}function In(i,s,c){if(i.tag===3)Yb(i,i,c);else for(;s!==null;){if(s.tag===3){Yb(s,i,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(uu===null||!uu.has(p))){i=Ji(c,i),c=pd(2),p=io(s,c,2),p!==null&&(md(c,p,s,i),on(p,2),co(p));break}}s=s.return}}function Wy(i,s,c){var p=i.pingCache;if(p===null){p=i.pingCache=new ek;var w=new Set;p.set(s,w)}else w=p.get(s),w===void 0&&(w=new Set,p.set(s,w));w.has(c)||(Fy=!0,w.add(c),i=ak.bind(null,i,s,c),s.then(i,i))}function ak(i,s,c){var p=i.pingCache;p!==null&&p.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Hn===i&&(un&c)===c&&(vr===4||vr===3&&(un&62914560)===un&&300>Ee()-_m?(Sn&2)===0&&Bf(i,0):zy|=c,Ff===un&&(Ff=0)),co(i)}function Kb(i,s){s===0&&(s=Nt()),i=ga(i,s),i!==null&&(on(i,s),co(i))}function sk(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),Kb(i,c)}function ok(i,s){var c=0;switch(i.tag){case 31:case 13:var p=i.stateNode,w=i.memoizedState;w!==null&&(c=w.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),Kb(i,c)}function lk(i,s){return Me(i,s)}var Am=null,Vf=null,Gy=!1,km=!1,Yy=!1,hu=0;function co(i){i!==Vf&&i.next===null&&(Vf===null?Am=Vf=i:Vf=Vf.next=i),km=!0,Gy||(Gy=!0,ck())}function Td(i,s){if(!Yy&&km){Yy=!0;do for(var c=!1,p=Am;p!==null;){if(i!==0){var w=p.pendingLanes;if(w===0)var S=0;else{var V=p.suspendedLanes,oe=p.pingedLanes;S=(1<<31-xe(42|i)+1)-1,S&=w&~(V&~oe),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(c=!0,Zb(p,S))}else S=un,S=kt(p,p===Hn?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||Rt(p,S)||(c=!0,Zb(p,S));p=p.next}while(c);Yy=!1}}function uk(){Qb()}function Qb(){km=Gy=!1;var i=0;hu!==0&&_k()&&(i=hu);for(var s=Ee(),c=null,p=Am;p!==null;){var w=p.next,S=$b(p,s);S===0?(p.next=null,c===null?Am=w:c.next=w,w===null&&(Vf=c)):(c=p,(i!==0||(S&3)!==0)&&(km=!0)),p=w}Yr!==0&&Yr!==5||Td(i),hu!==0&&(hu=0)}function $b(i,s){for(var c=i.suspendedLanes,p=i.pingedLanes,w=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var V=31-xe(S),oe=1<<V,Ce=w[V];Ce===-1?((oe&c)===0||(oe&p)!==0)&&(w[V]=zt(oe,s)):Ce<=s&&(i.expiredLanes|=oe),S&=~oe}if(s=Hn,c=un,c=kt(i,i===s?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,c===0||i===s&&(Rn===2||Rn===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Xe(p),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Rt(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(p!==null&&Xe(p),Yi(c)){case 2:case 8:c=j;break;case 32:c=G;break;case 268435456:c=D;break;default:c=G}return p=Xb.bind(null,i),c=Me(c,p),i.callbackPriority=s,i.callbackNode=c,s}return p!==null&&p!==null&&Xe(p),i.callbackPriority=2,i.callbackNode=null,2}function Xb(i,s){if(Yr!==0&&Yr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Cm()&&i.callbackNode!==c)return null;var p=un;return p=kt(i,i===Hn?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(Nb(i,p,s),$b(i,Ee()),i.callbackNode!=null&&i.callbackNode===c?Xb.bind(null,i):null)}function Zb(i,s){if(Cm())return null;Nb(i,s,!0)}function ck(){xk(function(){(Sn&6)!==0?Me(ie,uk):Qb()})}function Ky(){if(hu===0){var i=Es;i===0&&(i=ut,ut<<=1,(ut&261888)===0&&(ut=256)),hu=i}return hu}function Jb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:wl(""+i)}function e_(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function fk(i,s,c,p,w){if(s==="submit"&&c&&c.stateNode===w){var S=Jb((w[tn]||null).action),V=p.submitter;V&&(s=(s=V[tn]||null)?Jb(s.formAction):V.getAttribute("formAction"),s!==null&&(S=s,V=null));var oe=new Fi("action","action",null,p,w);i.push({event:oe,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(hu!==0){var Ce=V?e_(w,V):new FormData(w);Jo(c,{pending:!0,data:Ce,method:w.method,action:S},null,Ce)}}else typeof S=="function"&&(oe.preventDefault(),Ce=V?e_(w,V):new FormData(w),Jo(c,{pending:!0,data:Ce,method:w.method,action:S},S,Ce))},currentTarget:w}]})}}for(var Qy=0;Qy<Ju.length;Qy++){var $y=Ju[Qy],hk=$y.toLowerCase(),dk=$y[0].toUpperCase()+$y.slice(1);qr(hk,"on"+dk)}qr(jp,"onAnimationEnd"),qr(Hp,"onAnimationIteration"),qr(Qs,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(Ml,"onTransitionRun"),qr(Ll,"onTransitionStart"),qr(Ph,"onTransitionCancel"),qr(af,"onTransitionEnd"),Xr("onMouseEnter",["mouseout","mouseover"]),Xr("onMouseLeave",["mouseout","mouseover"]),Xr("onPointerEnter",["pointerout","pointerover"]),Xr("onPointerLeave",["pointerout","pointerover"]),xt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xt("onBeforeInput",["compositionend","keypress","textInput","paste"]),xt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cd));function t_(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var p=i[c],w=p.event;p=p.listeners;e:{var S=void 0;if(s)for(var V=p.length-1;0<=V;V--){var oe=p[V],Ce=oe.instance,We=oe.currentTarget;if(oe=oe.listener,Ce!==S&&w.isPropagationStopped())break e;S=oe,w.currentTarget=We;try{S(w)}catch(Ze){Za(Ze)}w.currentTarget=null,S=Ce}else for(V=0;V<p.length;V++){if(oe=p[V],Ce=oe.instance,We=oe.currentTarget,oe=oe.listener,Ce!==S&&w.isPropagationStopped())break e;S=oe,w.currentTarget=We;try{S(w)}catch(Ze){Za(Ze)}w.currentTarget=null,S=Ce}}}}function sn(i,s){var c=s[Qr];c===void 0&&(c=s[Qr]=new Set);var p=i+"__bubble";c.has(p)||(n_(s,i,2,!1),c.add(p))}function Xy(i,s,c){var p=0;s&&(p|=4),n_(c,i,p,s)}var Dm="_reactListening"+Math.random().toString(36).slice(2);function Zy(i){if(!i[Dm]){i[Dm]=!0,bl.forEach(function(c){c!=="selectionchange"&&(pk.has(c)||Xy(c,!1,i),Xy(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Dm]||(s[Dm]=!0,Xy("selectionchange",!1,s))}}function n_(i,s,c,p){switch(I_(s)){case 2:var w=jk;break;case 8:w=Hk;break;default:w=dv}c=w.bind(null,s,c,i),w=void 0,!No||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(w=!0),p?w!==void 0?i.addEventListener(s,c,{capture:!0,passive:w}):i.addEventListener(s,c,!0):w!==void 0?i.addEventListener(s,c,{passive:w}):i.addEventListener(s,c,!1)}function Jy(i,s,c,p,w){var S=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var V=p.tag;if(V===3||V===4){var oe=p.stateNode.containerInfo;if(oe===w)break;if(V===4)for(V=p.return;V!==null;){var Ce=V.tag;if((Ce===3||Ce===4)&&V.stateNode.containerInfo===w)return;V=V.return}for(;oe!==null;){if(V=ii(oe),V===null)return;if(Ce=V.tag,Ce===5||Ce===6||Ce===26||Ce===27){p=S=V;continue e}oe=oe.parentNode}}p=p.return}qs(function(){var We=S,Ze=mr(c),rt=[];e:{var Ge=Fh.get(i);if(Ge!==void 0){var Qe=Fi,Tt=i;switch(i){case"keypress":if(Va(c)===0)break e;case"keydown":case"keyup":Qe=Qu;break;case"focusin":Tt="focus",Qe=qa;break;case"focusout":Tt="blur",Qe=qa;break;case"beforeblur":case"afterblur":Qe=qa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Qe=Cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Qe=Al;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Qe=O;break;case jp:case Hp:case Qs:Qe=fs;break;case af:Qe=ue;break;case"scroll":case"scrollend":Qe=Sl;break;case"wheel":Qe=Ke;break;case"copy":case"cut":case"paste":Qe=Wc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Qe=Ga;break;case"toggle":case"beforetoggle":Qe=Yt}var Ft=(s&4)!==0,Bn=!Ft&&(i==="scroll"||i==="scrollend"),Be=Ft?Ge!==null?Ge+"Capture":null:Ge;Ft=[];for(var Ne=We,qe;Ne!==null;){var nt=Ne;if(qe=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||qe===null||Be===null||(nt=pa(Ne,Be),nt!=null&&Ft.push(Ad(Ne,nt,qe))),Bn)break;Ne=Ne.return}0<Ft.length&&(Ge=new Qe(Ge,Tt,null,c,Ze),rt.push({event:Ge,listeners:Ft}))}}if((s&7)===0){e:{if(Ge=i==="mouseover"||i==="pointerover",Qe=i==="mouseout"||i==="pointerout",Ge&&c!==xl&&(Tt=c.relatedTarget||c.fromElement)&&(ii(Tt)||Tt[_r]))break e;if((Qe||Ge)&&(Ge=Ze.window===Ze?Ze:(Ge=Ze.ownerDocument)?Ge.defaultView||Ge.parentWindow:window,Qe?(Tt=c.relatedTarget||c.toElement,Qe=We,Tt=Tt?ii(Tt):null,Tt!==null&&(Bn=u(Tt),Ft=Tt.tag,Tt!==Bn||Ft!==5&&Ft!==27&&Ft!==6)&&(Tt=null)):(Qe=null,Tt=We),Qe!==Tt)){if(Ft=Cl,nt="onMouseLeave",Be="onMouseEnter",Ne="mouse",(i==="pointerout"||i==="pointerover")&&(Ft=Ga,nt="onPointerLeave",Be="onPointerEnter",Ne="pointer"),Bn=Qe==null?Ge:Li(Qe),qe=Tt==null?Ge:Li(Tt),Ge=new Ft(nt,Ne+"leave",Qe,c,Ze),Ge.target=Bn,Ge.relatedTarget=qe,nt=null,ii(Ze)===We&&(Ft=new Ft(Be,Ne+"enter",Tt,c,Ze),Ft.target=qe,Ft.relatedTarget=Bn,nt=Ft),Bn=nt,Qe&&Tt)t:{for(Ft=mk,Be=Qe,Ne=Tt,qe=0,nt=Be;nt;nt=Ft(nt))qe++;nt=0;for(var Lt=Ne;Lt;Lt=Ft(Lt))nt++;for(;0<qe-nt;)Be=Ft(Be),qe--;for(;0<nt-qe;)Ne=Ft(Ne),nt--;for(;qe--;){if(Be===Ne||Ne!==null&&Be===Ne.alternate){Ft=Be;break t}Be=Ft(Be),Ne=Ft(Ne)}Ft=null}else Ft=null;Qe!==null&&r_(rt,Ge,Qe,Ft,!1),Tt!==null&&Bn!==null&&r_(rt,Bn,Tt,Ft,!0)}}e:{if(Ge=We?Li(We):window,Qe=Ge.nodeName&&Ge.nodeName.toLowerCase(),Qe==="select"||Qe==="input"&&Ge.type==="file")var wn=$c;else if(Ka(Ge))if(Bp)wn=ky;else{wn=Up;var Dt=Xa}else Qe=Ge.nodeName,!Qe||Qe.toLowerCase()!=="input"||Ge.type!=="checkbox"&&Ge.type!=="radio"?We&&Io(We.elementType)&&(wn=$c):wn=Vp;if(wn&&(wn=wn(i,We))){Xu(rt,wn,c,Ze);break e}Dt&&Dt(i,Ge,We),i==="focusout"&&We&&Ge.type==="number"&&We.memoizedProps.value!=null&&vi(Ge,"number",Ge.value)}switch(Dt=We?Li(We):window,i){case"focusin":(Ka(Dt)||Dt.contentEditable==="true")&&(zo=Dt,Ol=We,oi=null);break;case"focusout":oi=Ol=zo=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,tf(rt,c,Ze);break;case"selectionchange":if(Jc)break;case"keydown":case"keyup":tf(rt,c,Ze)}var Qt;if(nn)e:{switch(i){case"compositionstart":var cn="onCompositionStart";break e;case"compositionend":cn="onCompositionEnd";break e;case"compositionupdate":cn="onCompositionUpdate";break e}cn=void 0}else Lo?Mo(i,c)&&(cn="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(cn="onCompositionStart");cn&&(Ya&&c.locale!=="ko"&&(Lo||cn!=="onCompositionStart"?cn==="onCompositionEnd"&&Lo&&(Qt=El()):(ma=Ze,Gu="value"in ma?ma.value:ma.textContent,Lo=!0)),Dt=Rm(We,cn),0<Dt.length&&(cn=new Wa(cn,i,null,c,Ze),rt.push({event:cn,listeners:Dt}),Qt?cn.data=Qt:(Qt=Dl(c),Qt!==null&&(cn.data=Qt)))),(Qt=zi?zp(i,c):Ay(i,c))&&(cn=Rm(We,"onBeforeInput"),0<cn.length&&(Dt=new Wa("onBeforeInput","beforeinput",null,c,Ze),rt.push({event:Dt,listeners:cn}),Dt.data=Qt)),fk(rt,i,We,c,Ze)}t_(rt,s)})}function Ad(i,s,c){return{instance:i,listener:s,currentTarget:c}}function Rm(i,s){for(var c=s+"Capture",p=[];i!==null;){var w=i,S=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||S===null||(w=pa(i,c),w!=null&&p.unshift(Ad(i,w,S)),w=pa(i,s),w!=null&&p.push(Ad(i,w,S))),i.tag===3)return p;i=i.return}return[]}function mk(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function r_(i,s,c,p,w){for(var S=s._reactName,V=[];c!==null&&c!==p;){var oe=c,Ce=oe.alternate,We=oe.stateNode;if(oe=oe.tag,Ce!==null&&Ce===p)break;oe!==5&&oe!==26&&oe!==27||We===null||(Ce=We,w?(We=pa(c,S),We!=null&&V.unshift(Ad(c,We,Ce))):w||(We=pa(c,S),We!=null&&V.push(Ad(c,We,Ce)))),c=c.return}V.length!==0&&i.push({event:s,listeners:V})}var gk=/\r\n?/g,yk=/\u0000|\uFFFD/g;function i_(i){return(typeof i=="string"?i:""+i).replace(gk,`
`).replace(yk,"")}function a_(i,s){return s=i_(s),i_(i)===s}function zn(i,s,c,p,w,S){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||Zr(i,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&Zr(i,""+p);break;case"className":ai(i,"class",p);break;case"tabIndex":ai(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(i,c,p);break;case"style":_l(i,p,S);break;case"data":if(s!=="object"){ai(i,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(c);break}p=wl(""+p),i.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(c==="formAction"?(s!=="input"&&zn(i,s,"name",w.name,w,null),zn(i,s,"formEncType",w.formEncType,w,null),zn(i,s,"formMethod",w.formMethod,w,null),zn(i,s,"formTarget",w.formTarget,w,null)):(zn(i,s,"encType",w.encType,w,null),zn(i,s,"method",w.method,w,null),zn(i,s,"target",w.target,w,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(c);break}p=wl(""+p),i.setAttribute(c,p);break;case"onClick":p!=null&&(i.onclick=da);break;case"onScroll":p!=null&&sn("scroll",i);break;case"onScrollEnd":p!=null&&sn("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}c=wl(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(c,""+p):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":p===!0?i.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(c,p):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(c,p):i.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(c):i.setAttribute(c,p);break;case"popover":sn("beforetoggle",i),sn("toggle",i),La(i,"popover",p);break;case"xlinkActuate":et(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":et(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":et(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":et(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":et(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":et(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":et(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":et(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":et(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":La(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Wu.get(c)||c,La(i,c,p))}}function ev(i,s,c,p,w,S){switch(c){case"style":_l(i,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof p=="string"?Zr(i,p):(typeof p=="number"||typeof p=="bigint")&&Zr(i,""+p);break;case"onScroll":p!=null&&sn("scroll",i);break;case"onScrollEnd":p!=null&&sn("scrollend",i);break;case"onClick":p!=null&&(i.onclick=da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Un.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(w=c.endsWith("Capture"),s=c.slice(2,w?c.length-7:void 0),S=i[tn]||null,S=S!=null?S[c]:null,typeof S=="function"&&i.removeEventListener(s,S,w),typeof p=="function")){typeof S!="function"&&S!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,p,w);break e}c in i?i[c]=p:p===!0?i.setAttribute(c,""):La(i,c,p)}}}function hi(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sn("error",i),sn("load",i);var p=!1,w=!1,S;for(S in c)if(c.hasOwnProperty(S)){var V=c[S];if(V!=null)switch(S){case"src":p=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:zn(i,s,S,V,c,null)}}w&&zn(i,s,"srcSet",c.srcSet,c,null),p&&zn(i,s,"src",c.src,c,null);return;case"input":sn("invalid",i);var oe=S=V=w=null,Ce=null,We=null;for(p in c)if(c.hasOwnProperty(p)){var Ze=c[p];if(Ze!=null)switch(p){case"name":w=Ze;break;case"type":V=Ze;break;case"checked":Ce=Ze;break;case"defaultChecked":We=Ze;break;case"value":S=Ze;break;case"defaultValue":oe=Ze;break;case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(r(137,s));break;default:zn(i,s,p,Ze,c,null)}}Do(i,S,oe,Ce,We,V,w,!1);return;case"select":sn("invalid",i),p=V=S=null;for(w in c)if(c.hasOwnProperty(w)&&(oe=c[w],oe!=null))switch(w){case"value":S=oe;break;case"defaultValue":V=oe;break;case"multiple":p=oe;default:zn(i,s,w,oe,c,null)}s=S,c=V,i.multiple=!!p,s!=null?us(i,!!p,s,!1):c!=null&&us(i,!!p,c,!0);return;case"textarea":sn("invalid",i),S=w=p=null;for(V in c)if(c.hasOwnProperty(V)&&(oe=c[V],oe!=null))switch(V){case"value":p=oe;break;case"defaultValue":w=oe;break;case"children":S=oe;break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(91));break;default:zn(i,s,V,oe,c,null)}Ki(i,p,w,S);return;case"option":for(Ce in c)c.hasOwnProperty(Ce)&&(p=c[Ce],p!=null)&&(Ce==="selected"?i.selected=p&&typeof p!="function"&&typeof p!="symbol":zn(i,s,Ce,p,c,null));return;case"dialog":sn("beforetoggle",i),sn("toggle",i),sn("cancel",i),sn("close",i);break;case"iframe":case"object":sn("load",i);break;case"video":case"audio":for(p=0;p<Cd.length;p++)sn(Cd[p],i);break;case"image":sn("error",i),sn("load",i);break;case"details":sn("toggle",i);break;case"embed":case"source":case"link":sn("error",i),sn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(We in c)if(c.hasOwnProperty(We)&&(p=c[We],p!=null))switch(We){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:zn(i,s,We,p,c,null)}return;default:if(Io(s)){for(Ze in c)c.hasOwnProperty(Ze)&&(p=c[Ze],p!==void 0&&ev(i,s,Ze,p,c,void 0));return}}for(oe in c)c.hasOwnProperty(oe)&&(p=c[oe],p!=null&&zn(i,s,oe,p,c,null))}function vk(i,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,S=null,V=null,oe=null,Ce=null,We=null,Ze=null;for(Qe in c){var rt=c[Qe];if(c.hasOwnProperty(Qe)&&rt!=null)switch(Qe){case"checked":break;case"value":break;case"defaultValue":Ce=rt;default:p.hasOwnProperty(Qe)||zn(i,s,Qe,null,p,rt)}}for(var Ge in p){var Qe=p[Ge];if(rt=c[Ge],p.hasOwnProperty(Ge)&&(Qe!=null||rt!=null))switch(Ge){case"type":S=Qe;break;case"name":w=Qe;break;case"checked":We=Qe;break;case"defaultChecked":Ze=Qe;break;case"value":V=Qe;break;case"defaultValue":oe=Qe;break;case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(r(137,s));break;default:Qe!==rt&&zn(i,s,Ge,Qe,p,rt)}}ko(i,V,oe,Ce,We,Ze,S,w);return;case"select":Qe=V=oe=Ge=null;for(S in c)if(Ce=c[S],c.hasOwnProperty(S)&&Ce!=null)switch(S){case"value":break;case"multiple":Qe=Ce;default:p.hasOwnProperty(S)||zn(i,s,S,null,p,Ce)}for(w in p)if(S=p[w],Ce=c[w],p.hasOwnProperty(w)&&(S!=null||Ce!=null))switch(w){case"value":Ge=S;break;case"defaultValue":oe=S;break;case"multiple":V=S;default:S!==Ce&&zn(i,s,w,S,p,Ce)}s=oe,c=V,p=Qe,Ge!=null?us(i,!!c,Ge,!1):!!p!=!!c&&(s!=null?us(i,!!c,s,!0):us(i,!!c,c?[]:"",!1));return;case"textarea":Qe=Ge=null;for(oe in c)if(w=c[oe],c.hasOwnProperty(oe)&&w!=null&&!p.hasOwnProperty(oe))switch(oe){case"value":break;case"children":break;default:zn(i,s,oe,null,p,w)}for(V in p)if(w=p[V],S=c[V],p.hasOwnProperty(V)&&(w!=null||S!=null))switch(V){case"value":Ge=w;break;case"defaultValue":Qe=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==S&&zn(i,s,V,w,p,S)}Hu(i,Ge,Qe);return;case"option":for(var Tt in c)Ge=c[Tt],c.hasOwnProperty(Tt)&&Ge!=null&&!p.hasOwnProperty(Tt)&&(Tt==="selected"?i.selected=!1:zn(i,s,Tt,null,p,Ge));for(Ce in p)Ge=p[Ce],Qe=c[Ce],p.hasOwnProperty(Ce)&&Ge!==Qe&&(Ge!=null||Qe!=null)&&(Ce==="selected"?i.selected=Ge&&typeof Ge!="function"&&typeof Ge!="symbol":zn(i,s,Ce,Ge,p,Qe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in c)Ge=c[Ft],c.hasOwnProperty(Ft)&&Ge!=null&&!p.hasOwnProperty(Ft)&&zn(i,s,Ft,null,p,Ge);for(We in p)if(Ge=p[We],Qe=c[We],p.hasOwnProperty(We)&&Ge!==Qe&&(Ge!=null||Qe!=null))switch(We){case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(r(137,s));break;default:zn(i,s,We,Ge,p,Qe)}return;default:if(Io(s)){for(var Bn in c)Ge=c[Bn],c.hasOwnProperty(Bn)&&Ge!==void 0&&!p.hasOwnProperty(Bn)&&ev(i,s,Bn,void 0,p,Ge);for(Ze in p)Ge=p[Ze],Qe=c[Ze],!p.hasOwnProperty(Ze)||Ge===Qe||Ge===void 0&&Qe===void 0||ev(i,s,Ze,Ge,p,Qe);return}}for(var Be in c)Ge=c[Be],c.hasOwnProperty(Be)&&Ge!=null&&!p.hasOwnProperty(Be)&&zn(i,s,Be,null,p,Ge);for(rt in p)Ge=p[rt],Qe=c[rt],!p.hasOwnProperty(rt)||Ge===Qe||Ge==null&&Qe==null||zn(i,s,rt,Ge,p,Qe)}function s_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bk(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var w=c[p],S=w.transferSize,V=w.initiatorType,oe=w.duration;if(S&&oe&&s_(V)){for(V=0,oe=w.responseEnd,p+=1;p<c.length;p++){var Ce=c[p],We=Ce.startTime;if(We>oe)break;var Ze=Ce.transferSize,rt=Ce.initiatorType;Ze&&s_(rt)&&(Ce=Ce.responseEnd,V+=Ze*(Ce<oe?1:(oe-We)/(Ce-We)))}if(--p,s+=8*(S+V)/(w.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var tv=null,nv=null;function Im(i){return i.nodeType===9?i:i.ownerDocument}function o_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function rv(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var iv=null;function _k(){var i=window.event;return i&&i.type==="popstate"?i===iv?!1:(iv=i,!0):(iv=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,wk=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,xk=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(i){return c_.resolve(null).then(i).catch(Ek)}:u_;function Ek(i){setTimeout(function(){throw i})}function du(i){return i==="head"}function f_(i,s){var c=s,p=0;do{var w=c.nextSibling;if(i.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"||c==="/&"){if(p===0){i.removeChild(w),Wf(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")kd(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,kd(c);for(var S=c.firstChild;S;){var V=S.nextSibling,oe=S.nodeName;S[Mi]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=V}}else c==="body"&&kd(i.ownerDocument.body);c=w}while(c);Wf(s)}function h_(i,s){var c=i;i=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=p}while(c)}function av(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":av(c),fa(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function Sk(i,s,c,p){for(;i.nodeType===1;){var w=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[Mi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==w.rel||i.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||i.getAttribute("title")!==(w.title==null?null:w.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(w.src==null?null:w.src)||i.getAttribute("type")!==(w.type==null?null:w.type)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var S=w.name==null?null:""+w.name;if(w.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=rs(i.nextSibling),i===null)break}return null}function Tk(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=rs(i.nextSibling),i===null))return null;return i}function d_(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=rs(i.nextSibling),i===null))return null;return i}function sv(i){return i.data==="$?"||i.data==="$~"}function ov(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Ck(i,s){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function rs(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var lv=null;function p_(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(s===0)return rs(i.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}i=i.nextSibling}return null}function m_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return i;s--}else c!=="/$"&&c!=="/&"||s++}i=i.previousSibling}return null}function g_(i,s,c){switch(s=Im(c),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function kd(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);fa(i)}var is=new Map,y_=new Set;function Nm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var al=he.d;he.d={f:Ak,r:kk,D:Dk,C:Rk,L:Ik,m:Nk,X:Mk,S:Ok,M:Lk};function Ak(){var i=al.f(),s=Em();return i||s}function kk(i){var s=Hr(i);s!==null&&s.tag===5&&s.type==="form"?um(s):al.r(i)}var jf=typeof document>"u"?null:document;function v_(i,s,c){var p=jf;if(p&&typeof s=="string"&&s){var w=yi(s);w='link[rel="'+i+'"][href="'+w+'"]',typeof c=="string"&&(w+='[crossorigin="'+c+'"]'),y_.has(w)||(y_.add(w),i={rel:i,crossOrigin:c,href:s},p.querySelector(w)===null&&(s=p.createElement("link"),hi(s,"link",i),tr(s),p.head.appendChild(s)))}}function Dk(i){al.D(i),v_("dns-prefetch",i,null)}function Rk(i,s){al.C(i,s),v_("preconnect",i,s)}function Ik(i,s,c){al.L(i,s,c);var p=jf;if(p&&i&&s){var w='link[rel="preload"][as="'+yi(s)+'"]';s==="image"&&c&&c.imageSrcSet?(w+='[imagesrcset="'+yi(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(w+='[imagesizes="'+yi(c.imageSizes)+'"]')):w+='[href="'+yi(i)+'"]';var S=w;switch(s){case"style":S=Hf(i);break;case"script":S=qf(i)}is.has(S)||(i=x({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),is.set(S,i),p.querySelector(w)!==null||s==="style"&&p.querySelector(Dd(S))||s==="script"&&p.querySelector(Rd(S))||(s=p.createElement("link"),hi(s,"link",i),tr(s),p.head.appendChild(s)))}}function Nk(i,s){al.m(i,s);var c=jf;if(c&&i){var p=s&&typeof s.as=="string"?s.as:"script",w='link[rel="modulepreload"][as="'+yi(p)+'"][href="'+yi(i)+'"]',S=w;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=qf(i)}if(!is.has(S)&&(i=x({rel:"modulepreload",href:i},s),is.set(S,i),c.querySelector(w)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Rd(S)))return}p=c.createElement("link"),hi(p,"link",i),tr(p),c.head.appendChild(p)}}}function Ok(i,s,c){al.S(i,s,c);var p=jf;if(p&&i){var w=$r(p).hoistableStyles,S=Hf(i);s=s||"default";var V=w.get(S);if(!V){var oe={loading:0,preload:null};if(V=p.querySelector(Dd(S)))oe.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":s},c),(c=is.get(S))&&uv(i,c);var Ce=V=p.createElement("link");tr(Ce),hi(Ce,"link",i),Ce._p=new Promise(function(We,Ze){Ce.onload=We,Ce.onerror=Ze}),Ce.addEventListener("load",function(){oe.loading|=1}),Ce.addEventListener("error",function(){oe.loading|=2}),oe.loading|=4,Om(V,s,p)}V={type:"stylesheet",instance:V,count:1,state:oe},w.set(S,V)}}}function Mk(i,s){al.X(i,s);var c=jf;if(c&&i){var p=$r(c).hoistableScripts,w=qf(i),S=p.get(w);S||(S=c.querySelector(Rd(w)),S||(i=x({src:i,async:!0},s),(s=is.get(w))&&cv(i,s),S=c.createElement("script"),tr(S),hi(S,"link",i),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(w,S))}}function Lk(i,s){al.M(i,s);var c=jf;if(c&&i){var p=$r(c).hoistableScripts,w=qf(i),S=p.get(w);S||(S=c.querySelector(Rd(w)),S||(i=x({src:i,async:!0,type:"module"},s),(s=is.get(w))&&cv(i,s),S=c.createElement("script"),tr(S),hi(S,"link",i),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(w,S))}}function b_(i,s,c,p){var w=(w=$e.current)?Nm(w):null;if(!w)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Hf(c.href),c=$r(w).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Hf(c.href);var S=$r(w).hoistableStyles,V=S.get(i);if(V||(w=w.ownerDocument||w,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,V),(S=w.querySelector(Dd(i)))&&!S._p&&(V.instance=S,V.state.loading=5),is.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},is.set(i,c),S||Pk(w,i,c,V.state))),s&&p===null)throw Error(r(528,""));return V}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=qf(c),c=$r(w).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Hf(i){return'href="'+yi(i)+'"'}function Dd(i){return'link[rel="stylesheet"]['+i+"]"}function __(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function Pk(i,s,c,p){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=i.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),hi(s,"link",c),tr(s),i.head.appendChild(s))}function qf(i){return'[src="'+yi(i)+'"]'}function Rd(i){return"script[async]"+i}function w_(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=i.querySelector('style[data-href~="'+yi(c.href)+'"]');if(p)return s.instance=p,tr(p),p;var w=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),tr(p),hi(p,"style",w),Om(p,c.precedence,i),s.instance=p;case"stylesheet":w=Hf(c.href);var S=i.querySelector(Dd(w));if(S)return s.state.loading|=4,s.instance=S,tr(S),S;p=__(c),(w=is.get(w))&&uv(p,w),S=(i.ownerDocument||i).createElement("link"),tr(S);var V=S;return V._p=new Promise(function(oe,Ce){V.onload=oe,V.onerror=Ce}),hi(S,"link",p),s.state.loading|=4,Om(S,c.precedence,i),s.instance=S;case"script":return S=qf(c.src),(w=i.querySelector(Rd(S)))?(s.instance=w,tr(w),w):(p=c,(w=is.get(S))&&(p=x({},c),cv(p,w)),i=i.ownerDocument||i,w=i.createElement("script"),tr(w),hi(w,"link",p),i.head.appendChild(w),s.instance=w);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,Om(p,c.precedence,i));return s.instance}function Om(i,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=p.length?p[p.length-1]:null,S=w,V=0;V<p.length;V++){var oe=p[V];if(oe.dataset.precedence===s)S=oe;else if(S!==w)break}S?S.parentNode.insertBefore(i,S.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function uv(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function cv(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Mm=null;function x_(i,s,c){if(Mm===null){var p=new Map,w=Mm=new Map;w.set(c,p)}else w=Mm,p=w.get(c),p||(p=new Map,w.set(c,p));if(p.has(i))return p;for(p.set(i,null),c=c.getElementsByTagName(i),w=0;w<c.length;w++){var S=c[w];if(!(S[Mi]||S[er]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var V=S.getAttribute(s)||"";V=i+V;var oe=p.get(V);oe?oe.push(S):p.set(V,[S])}}return p}function E_(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function Fk(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function S_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function zk(i,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var w=Hf(p.href),S=s.querySelector(Dd(w));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Lm.bind(i),s.then(i,i)),c.state.loading|=4,c.instance=S,tr(S);return}S=s.ownerDocument||s,p=__(p),(w=is.get(w))&&uv(p,w),S=S.createElement("link"),tr(S);var V=S;V._p=new Promise(function(oe,Ce){V.onload=oe,V.onerror=Ce}),hi(S,"link",p),c.instance=S}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=Lm.bind(i),s.addEventListener("load",c),s.addEventListener("error",c))}}var fv=0;function Bk(i,s){return i.stylesheets&&i.count===0&&Fm(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var p=setTimeout(function(){if(i.stylesheets&&Fm(i,i.stylesheets),i.unsuspend){var S=i.unsuspend;i.unsuspend=null,S()}},6e4+s);0<i.imgBytes&&fv===0&&(fv=62500*bk());var w=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Fm(i,i.stylesheets),i.unsuspend)){var S=i.unsuspend;i.unsuspend=null,S()}},(i.imgBytes>fv?50:800)+s);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(w)}}:null}function Lm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Pm=null;function Fm(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Pm=new Map,s.forEach(Uk,i),Pm=null,Lm.call(i))}function Uk(i,s){if(!(s.state.loading&4)){var c=Pm.get(i);if(c)var p=c.get(null);else{c=new Map,Pm.set(i,c);for(var w=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<w.length;S++){var V=w[S];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(c.set(V.dataset.precedence,V),p=V)}p&&c.set(null,p)}w=s.instance,V=w.getAttribute("data-precedence"),S=c.get(V)||p,S===p&&c.set(null,w),c.set(V,w),this.count++,p=Lm.bind(this),w.addEventListener("load",p),w.addEventListener("error",p),S?S.parentNode.insertBefore(w,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(w,i.firstChild)),s.state.loading|=4}}var Id={$$typeof:W,Provider:null,Consumer:null,_currentValue:Pe,_currentValue2:Pe,_threadCount:0};function Vk(i,s,c,p,w,S,V,oe,Ce){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xt(0),this.hiddenUpdates=Xt(null),this.identifierPrefix=p,this.onUncaughtError=w,this.onCaughtError=S,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ce,this.incompleteTransitions=new Map}function T_(i,s,c,p,w,S,V,oe,Ce,We,Ze,rt){return i=new Vk(i,s,c,V,Ce,We,Ze,rt,oe),s=1,S===!0&&(s|=24),S=li(3,null,null,s),i.current=S,S.stateNode=i,s=tc(),s.refCount++,i.pooledCache=s,s.refCount++,S.memoizedState={element:p,isDehydrated:c,cache:s},ql(S),i}function C_(i){return i?(i=ds,i):ds}function A_(i,s,c,p,w,S){w=C_(w),p.context===null?p.context=w:p.pendingContext=w,p=ro(s),p.payload={element:c},S=S===void 0?null:S,S!==null&&(p.callback=S),c=io(i,p,s),c!==null&&(sa(c,i,s),Wl(c,i,s))}function k_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function hv(i,s){k_(i,s),(i=i.alternate)&&k_(i,s)}function D_(i){if(i.tag===13||i.tag===31){var s=ga(i,67108864);s!==null&&sa(s,i,67108864),hv(i,67108864)}}function R_(i){if(i.tag===13||i.tag===31){var s=Ea();s=Gi(s);var c=ga(i,s);c!==null&&sa(c,i,s),hv(i,s)}}var zm=!0;function jk(i,s,c,p){var w=fe.T;fe.T=null;var S=he.p;try{he.p=2,dv(i,s,c,p)}finally{he.p=S,fe.T=w}}function Hk(i,s,c,p){var w=fe.T;fe.T=null;var S=he.p;try{he.p=8,dv(i,s,c,p)}finally{he.p=S,fe.T=w}}function dv(i,s,c,p){if(zm){var w=pv(p);if(w===null)Jy(i,s,p,Bm,c),N_(i,p);else if(Wk(w,i,s,c,p))p.stopPropagation();else if(N_(i,p),s&4&&-1<qk.indexOf(i)){for(;w!==null;){var S=Hr(w);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var V=at(S.pendingLanes);if(V!==0){var oe=S;for(oe.pendingLanes|=2,oe.entangledLanes|=2;V;){var Ce=1<<31-xe(V);oe.entanglements[1]|=Ce,V&=~Ce}co(S),(Sn&6)===0&&(wm=Ee()+500,Td(0))}}break;case 31:case 13:oe=ga(S,2),oe!==null&&sa(oe,S,2),Em(),hv(S,2)}if(S=pv(p),S===null&&Jy(i,s,p,Bm,c),S===w)break;w=S}w!==null&&p.stopPropagation()}else Jy(i,s,p,null,c)}}function pv(i){return i=mr(i),mv(i)}var Bm=null;function mv(i){if(Bm=null,i=ii(i),i!==null){var s=u(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=f(s),i!==null)return i;i=null}else if(c===31){if(i=m(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Bm=i,null}function I_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(we()){case ie:return 2;case j:return 8;case G:case ve:return 32;case D:return 268435456;default:return 32}default:return 32}}var gv=!1,pu=null,mu=null,gu=null,Nd=new Map,Od=new Map,yu=[],qk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N_(i,s){switch(i){case"focusin":case"focusout":pu=null;break;case"dragenter":case"dragleave":mu=null;break;case"mouseover":case"mouseout":gu=null;break;case"pointerover":case"pointerout":Nd.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Od.delete(s.pointerId)}}function Md(i,s,c,p,w,S){return i===null||i.nativeEvent!==S?(i={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:S,targetContainers:[w]},s!==null&&(s=Hr(s),s!==null&&D_(s)),i):(i.eventSystemFlags|=p,s=i.targetContainers,w!==null&&s.indexOf(w)===-1&&s.push(w),i)}function Wk(i,s,c,p,w){switch(s){case"focusin":return pu=Md(pu,i,s,c,p,w),!0;case"dragenter":return mu=Md(mu,i,s,c,p,w),!0;case"mouseover":return gu=Md(gu,i,s,c,p,w),!0;case"pointerover":var S=w.pointerId;return Nd.set(S,Md(Nd.get(S)||null,i,s,c,p,w)),!0;case"gotpointercapture":return S=w.pointerId,Od.set(S,Md(Od.get(S)||null,i,s,c,p,w)),!0}return!1}function O_(i){var s=ii(i.target);if(s!==null){var c=u(s);if(c!==null){if(s=c.tag,s===13){if(s=f(c),s!==null){i.blockedOn=s,ti(i.priority,function(){R_(c)});return}}else if(s===31){if(s=m(c),s!==null){i.blockedOn=s,ti(i.priority,function(){R_(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Um(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=pv(i.nativeEvent);if(c===null){c=i.nativeEvent;var p=new c.constructor(c.type,c);xl=p,c.target.dispatchEvent(p),xl=null}else return s=Hr(c),s!==null&&D_(s),i.blockedOn=c,!1;s.shift()}return!0}function M_(i,s,c){Um(i)&&c.delete(s)}function Gk(){gv=!1,pu!==null&&Um(pu)&&(pu=null),mu!==null&&Um(mu)&&(mu=null),gu!==null&&Um(gu)&&(gu=null),Nd.forEach(M_),Od.forEach(M_)}function Vm(i,s){i.blockedOn===s&&(i.blockedOn=null,gv||(gv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Gk)))}var jm=null;function L_(i){jm!==i&&(jm=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jm===i&&(jm=null);for(var s=0;s<i.length;s+=3){var c=i[s],p=i[s+1],w=i[s+2];if(typeof p!="function"){if(mv(p||c)===null)continue;break}var S=Hr(c);S!==null&&(i.splice(s,3),s-=3,Jo(S,{pending:!0,data:w,method:c.method,action:p},p,w))}}))}function Wf(i){function s(Ce){return Vm(Ce,i)}pu!==null&&Vm(pu,i),mu!==null&&Vm(mu,i),gu!==null&&Vm(gu,i),Nd.forEach(s),Od.forEach(s);for(var c=0;c<yu.length;c++){var p=yu[c];p.blockedOn===i&&(p.blockedOn=null)}for(;0<yu.length&&(c=yu[0],c.blockedOn===null);)O_(c),c.blockedOn===null&&yu.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var w=c[p],S=c[p+1],V=w[tn]||null;if(typeof S=="function")V||L_(c);else if(V){var oe=null;if(S&&S.hasAttribute("formAction")){if(w=S,V=S[tn]||null)oe=V.formAction;else if(mv(w)!==null)continue}else oe=V.action;typeof oe=="function"?c[p+1]=oe:(c.splice(p,3),p-=3),L_(c)}}}function P_(){function i(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(V){return w=V})},focusReset:"manual",scroll:"manual"})}function s(){w!==null&&(w(),w=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,w=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),w!==null&&(w(),w=null)}}}function yv(i){this._internalRoot=i}Hm.prototype.render=yv.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,p=Ea();A_(c,p,i,s,null,null)},Hm.prototype.unmount=yv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;A_(i.current,2,null,i,null,null),Em(),s[_r]=null}};function Hm(i){this._internalRoot=i}Hm.prototype.unstable_scheduleHydration=function(i){if(i){var s=js();i={blockedOn:null,target:i,priority:s};for(var c=0;c<yu.length&&s!==0&&s<yu[c].priority;c++);yu.splice(c,0,i),c===0&&O_(i)}};var F_=e.version;if(F_!=="19.2.4")throw Error(r(527,F_,"19.2.4"));he.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=v(s),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var Yk={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:fe,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qm.isDisabled&&qm.supportsFiber)try{me=qm.inject(Yk),Se=qm}catch{}}return Pd.createRoot=function(i,s){if(!o(i))throw Error(r(299));var c=!1,p="",w=pm,S=Rf,V=su;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(w=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(V=s.onRecoverableError)),s=T_(i,1,!1,null,null,c,p,null,w,S,V,P_),i[_r]=s.current,Zy(i),new yv(s)},Pd.hydrateRoot=function(i,s,c){if(!o(i))throw Error(r(299));var p=!1,w="",S=pm,V=Rf,oe=su,Ce=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(V=c.onCaughtError),c.onRecoverableError!==void 0&&(oe=c.onRecoverableError),c.formState!==void 0&&(Ce=c.formState)),s=T_(i,1,!0,s,c??null,p,w,Ce,S,V,oe,P_),s.context=C_(null),c=s.current,p=Ea(),p=Gi(p),w=ro(p),w.callback=null,io(c,w,p),c=p,s.current.lanes=c,on(s,c),co(s),i[_r]=s.current,Zy(i),new Hm(s)},Pd.version="19.2.4",Pd}var Y_;function r2(){if(Y_)return _v.exports;Y_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_v.exports=n2(),_v.exports}var i2=r2();const a2=Bc(i2);var K_="popstate";function s2(n={}){function e(r,o){let{pathname:u,search:f,hash:m}=r.location;return s0("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:up(o)}return l2(e,t,null,n)}function sr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Us(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o2(){return Math.random().toString(36).substring(2,10)}function Q_(n,e){return{usr:n.state,key:n.key,idx:e}}function s0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?yh(e):e,state:t,key:e&&e.key||r||o2()}}function up({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function yh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function l2(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,m="POP",g=null,v=_();v==null&&(v=0,f.replaceState({...f.state,idx:v},""));function _(){return(f.state||{idx:null}).idx}function x(){m="POP";let I=_(),N=I==null?null:I-v;v=I,g&&g({action:m,location:R.location,delta:N})}function T(I,N){m="PUSH";let P=s0(R.location,I,N);v=_()+1;let W=Q_(P,v),re=R.createHref(P);try{f.pushState(W,"",re)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(re)}u&&g&&g({action:m,location:R.location,delta:1})}function C(I,N){m="REPLACE";let P=s0(R.location,I,N);v=_();let W=Q_(P,v),re=R.createHref(P);f.replaceState(W,"",re),u&&g&&g({action:m,location:R.location,delta:0})}function L(I){return u2(I)}let R={get action(){return m},get location(){return n(o,f)},listen(I){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(K_,x),g=I,()=>{o.removeEventListener(K_,x),g=null}},createHref(I){return e(o,I)},createURL:L,encodeLocation(I){let N=L(I);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:T,replace:C,go(I){return f.go(I)}};return R}function u2(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),sr(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:up(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function tS(n,e,t="/"){return c2(n,e,t,!1)}function c2(n,e,t,r){let o=typeof e=="string"?yh(e):e,u=cl(o.pathname||"/",t);if(u==null)return null;let f=nS(n);f2(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let v=x2(u);m=_2(f[g],v,r)}return m}function nS(n,e=[],t=[],r="",o=!1){let u=(f,m,g=o,v)=>{let _={relativePath:v===void 0?f.path||"":v,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&g)return;sr(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let x=ul([r,_.relativePath]),T=t.concat(_);f.children&&f.children.length>0&&(sr(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),nS(f.children,e,T,x,g)),!(f.path==null&&!f.index)&&e.push({path:x,score:v2(x,f.index),routesMeta:T})};return n.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of rS(f.path))u(f,m,!0,g)}),e}function rS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=rS(r.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function f2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:b2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var h2=/^:[\w-]+$/,d2=3,p2=2,m2=1,g2=10,y2=-2,$_=n=>n==="*";function v2(n,e){let t=n.split("/"),r=t.length;return t.some($_)&&(r+=y2),e&&(r+=p2),t.filter(o=>!$_(o)).reduce((o,u)=>o+(h2.test(u)?d2:u===""?m2:g2),r)}function b2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function _2(n,e,t=!1){let{routesMeta:r}=n,o={},u="/",f=[];for(let m=0;m<r.length;++m){let g=r[m],v=m===r.length-1,_=u==="/"?e:e.slice(u.length)||"/",x=_g({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},_),T=g.route;if(!x&&v&&t&&!r[r.length-1].route.index&&(x=_g({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!x)return null;Object.assign(o,x.params),f.push({params:o,pathname:ul([u,x.pathname]),pathnameBase:C2(ul([u,x.pathnameBase])),route:T}),x.pathnameBase!=="/"&&(u=ul([u,x.pathnameBase]))}return f}function _g(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=w2(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((v,{paramName:_,isOptional:x},T)=>{if(_==="*"){let L=m[T]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const C=m[T];return x&&!C?v[_]=void 0:v[_]=(C||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:f,pattern:n}}function w2(n,e=!1,t=!0){Us(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function x2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Us(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function cl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var E2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function S2(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?yh(n):n,u;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?u=X_(t.substring(1),"/"):u=X_(t,e)):u=e,{pathname:u,search:A2(r),hash:k2(o)}}function X_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Sv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function K0(n){let e=T2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Q0(n,e,t,r=!1){let o;typeof n=="string"?o=yh(n):(o={...n},sr(!o.pathname||!o.pathname.includes("?"),Sv("?","pathname","search",o)),sr(!o.pathname||!o.pathname.includes("#"),Sv("#","pathname","hash",o)),sr(!o.search||!o.search.includes("#"),Sv("#","search","hash",o)));let u=n===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=t;else{let x=e.length-1;if(!r&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),x-=1;o.pathname=T.join("/")}m=x>=0?e[x]:"/"}let g=S2(o,m),v=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(v||_)&&(g.pathname+="/"),g}var ul=n=>n.join("/").replace(/\/\/+/g,"/"),C2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),A2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,k2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,D2=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function R2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function I2(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var iS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function aS(n,e){let t=n;if(typeof t!="string"||!E2.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,o=!1;if(iS)try{let u=new URL(window.location.href),f=t.startsWith("//")?new URL(u.protocol+t):new URL(t),m=cl(f.pathname,e);f.origin===u.origin&&m!=null?t=m+f.search+f.hash:o=!0}catch{Us(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sS=["POST","PUT","PATCH","DELETE"];new Set(sS);var N2=["GET",...sS];new Set(N2);var vh=Ae.createContext(null);vh.displayName="DataRouter";var Yg=Ae.createContext(null);Yg.displayName="DataRouterState";var O2=Ae.createContext(!1),oS=Ae.createContext({isTransitioning:!1});oS.displayName="ViewTransition";var M2=Ae.createContext(new Map);M2.displayName="Fetchers";var L2=Ae.createContext(null);L2.displayName="Await";var Ra=Ae.createContext(null);Ra.displayName="Navigation";var Ep=Ae.createContext(null);Ep.displayName="Location";var ls=Ae.createContext({outlet:null,matches:[],isDataRoute:!1});ls.displayName="Route";var $0=Ae.createContext(null);$0.displayName="RouteError";var lS="REACT_ROUTER_ERROR",P2="REDIRECT",F2="ROUTE_ERROR_RESPONSE";function z2(n){if(n.startsWith(`${lS}:${P2}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function B2(n){if(n.startsWith(`${lS}:${F2}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new D2(e.status,e.statusText,e.data)}catch{}}function U2(n,{relative:e}={}){sr(bh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Ae.useContext(Ra),{hash:o,pathname:u,search:f}=Sp(n,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:ul([t,u])),r.createHref({pathname:m,search:f,hash:o})}function bh(){return Ae.useContext(Ep)!=null}function gl(){return sr(bh(),"useLocation() may be used only in the context of a <Router> component."),Ae.useContext(Ep).location}var uS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cS(n){Ae.useContext(Ra).static||Ae.useLayoutEffect(n)}function Uc(){let{isDataRoute:n}=Ae.useContext(ls);return n?nD():V2()}function V2(){sr(bh(),"useNavigate() may be used only in the context of a <Router> component.");let n=Ae.useContext(vh),{basename:e,navigator:t}=Ae.useContext(Ra),{matches:r}=Ae.useContext(ls),{pathname:o}=gl(),u=JSON.stringify(K0(r)),f=Ae.useRef(!1);return cS(()=>{f.current=!0}),Ae.useCallback((g,v={})=>{if(Us(f.current,uS),!f.current)return;if(typeof g=="number"){t.go(g);return}let _=Q0(g,JSON.parse(u),o,v.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ul([e,_.pathname])),(v.replace?t.replace:t.push)(_,v.state,v)},[e,t,u,o,n])}var j2=Ae.createContext(null);function H2(n){let e=Ae.useContext(ls).outlet;return Ae.useMemo(()=>e&&Ae.createElement(j2.Provider,{value:n},e),[e,n])}function q2(){let{matches:n}=Ae.useContext(ls),e=n[n.length-1];return e?e.params:{}}function Sp(n,{relative:e}={}){let{matches:t}=Ae.useContext(ls),{pathname:r}=gl(),o=JSON.stringify(K0(t));return Ae.useMemo(()=>Q0(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function W2(n,e){return fS(n,e)}function fS(n,e,t,r,o){sr(bh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Ae.useContext(Ra),{matches:f}=Ae.useContext(ls),m=f[f.length-1],g=m?m.params:{},v=m?m.pathname:"/",_=m?m.pathnameBase:"/",x=m&&m.route;{let P=x&&x.path||"";dS(v,!x||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let T=gl(),C;if(e){let P=typeof e=="string"?yh(e):e;sr(_==="/"||P.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${P.pathname}" was given in the \`location\` prop.`),C=P}else C=T;let L=C.pathname||"/",R=L;if(_!=="/"){let P=_.replace(/^\//,"").split("/");R="/"+L.replace(/^\//,"").split("/").slice(P.length).join("/")}let I=tS(n,{pathname:R});Us(x||I!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Us(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=$2(I&&I.map(P=>Object.assign({},P,{params:Object.assign({},g,P.params),pathname:ul([_,u.encodeLocation?u.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?_:ul([_,u.encodeLocation?u.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),f,t,r,o);return e&&N?Ae.createElement(Ep.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},N):N}function G2(){let n=tD(),e=R2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=Ae.createElement(Ae.Fragment,null,Ae.createElement("p",null," Hey developer "),Ae.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ae.createElement("code",{style:u},"ErrorBoundary")," or"," ",Ae.createElement("code",{style:u},"errorElement")," prop on your route.")),Ae.createElement(Ae.Fragment,null,Ae.createElement("h2",null,"Unexpected Application Error!"),Ae.createElement("h3",{style:{fontStyle:"italic"}},e),t?Ae.createElement("pre",{style:o},t):null,f)}var Y2=Ae.createElement(G2,null),hS=class extends Ae.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=B2(n.digest);t&&(n=t)}let e=n!==void 0?Ae.createElement(ls.Provider,{value:this.props.routeContext},Ae.createElement($0.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?Ae.createElement(K2,{error:n},e):e}};hS.contextType=O2;var Tv=new WeakMap;function K2({children:n,error:e}){let{basename:t}=Ae.useContext(Ra);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=z2(e.digest);if(r){let o=Tv.get(e);if(o)throw o;let u=aS(r.location,t);if(iS&&!Tv.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw Tv.set(e,f),f}return Ae.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function Q2({routeContext:n,match:e,children:t}){let r=Ae.useContext(vh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Ae.createElement(ls.Provider,{value:n},t)}function $2(n,e=[],t=null,r=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,f=t?.errors;if(f!=null){let _=u.findIndex(x=>x.route.id&&f?.[x.route.id]!==void 0);sr(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let m=!1,g=-1;if(t)for(let _=0;_<u.length;_++){let x=u[_];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=_),x.route.id){let{loaderData:T,errors:C}=t,L=x.route.loader&&!T.hasOwnProperty(x.route.id)&&(!C||C[x.route.id]===void 0);if(x.route.lazy||L){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let v=t&&r?(_,x)=>{r(_,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:I2(t.matches),errorInfo:x})}:void 0;return u.reduceRight((_,x,T)=>{let C,L=!1,R=null,I=null;t&&(C=f&&x.route.id?f[x.route.id]:void 0,R=x.route.errorElement||Y2,m&&(g<0&&T===0?(dS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,I=null):g===T&&(L=!0,I=x.route.hydrateFallbackElement||null)));let N=e.concat(u.slice(0,T+1)),P=()=>{let W;return C?W=R:L?W=I:x.route.Component?W=Ae.createElement(x.route.Component,null):x.route.element?W=x.route.element:W=_,Ae.createElement(Q2,{match:x,routeContext:{outlet:_,matches:N,isDataRoute:t!=null},children:W})};return t&&(x.route.ErrorBoundary||x.route.errorElement||T===0)?Ae.createElement(hS,{location:t.location,revalidation:t.revalidation,component:R,error:C,children:P(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:v}):P()},null)}function X0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X2(n){let e=Ae.useContext(vh);return sr(e,X0(n)),e}function Z2(n){let e=Ae.useContext(Yg);return sr(e,X0(n)),e}function J2(n){let e=Ae.useContext(ls);return sr(e,X0(n)),e}function Z0(n){let e=J2(n),t=e.matches[e.matches.length-1];return sr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function eD(){return Z0("useRouteId")}function tD(){let n=Ae.useContext($0),e=Z2("useRouteError"),t=Z0("useRouteError");return n!==void 0?n:e.errors?.[t]}function nD(){let{router:n}=X2("useNavigate"),e=Z0("useNavigate"),t=Ae.useRef(!1);return cS(()=>{t.current=!0}),Ae.useCallback(async(o,u={})=>{Us(t.current,uS),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...u}))},[n,e])}var Z_={};function dS(n,e,t){!e&&!Z_[n]&&(Z_[n]=!0,Us(!1,t))}Ae.memo(rD);function rD({routes:n,future:e,state:t,onError:r}){return fS(n,void 0,t,r,e)}function iD({to:n,replace:e,state:t,relative:r}){sr(bh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Ae.useContext(Ra);Us(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Ae.useContext(ls),{pathname:f}=gl(),m=Uc(),g=Q0(n,K0(u),f,r==="path"),v=JSON.stringify(g);return Ae.useEffect(()=>{m(JSON.parse(v),{replace:e,state:t,relative:r})},[m,v,r,e,t]),null}function pS(n){return H2(n.context)}function Gd(n){sr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aD({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){sr(!bh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),g=Ae.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof t=="string"&&(t=yh(t));let{pathname:v="/",search:_="",hash:x="",state:T=null,key:C="default"}=t,L=Ae.useMemo(()=>{let R=cl(v,m);return R==null?null:{location:{pathname:R,search:_,hash:x,state:T,key:C},navigationType:r}},[m,v,_,x,T,C,r]);return Us(L!=null,`<Router basename="${m}"> is not able to match the URL "${v}${_}${x}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:Ae.createElement(Ra.Provider,{value:g},Ae.createElement(Ep.Provider,{children:e,value:L}))}function sD({children:n,location:e}){return W2(o0(n),e)}function o0(n,e=[]){let t=[];return Ae.Children.forEach(n,(r,o)=>{if(!Ae.isValidElement(r))return;let u=[...e,o];if(r.type===Ae.Fragment){t.push.apply(t,o0(r.props.children,u));return}sr(r.type===Gd,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=o0(r.props.children,u)),t.push(f)}),t}var ig="get",ag="application/x-www-form-urlencoded";function Kg(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function oD(n){return Kg(n)&&n.tagName.toLowerCase()==="button"}function lD(n){return Kg(n)&&n.tagName.toLowerCase()==="form"}function uD(n){return Kg(n)&&n.tagName.toLowerCase()==="input"}function cD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function fD(n,e){return n.button===0&&(!e||e==="_self")&&!cD(n)}var Wm=null;function hD(){if(Wm===null)try{new FormData(document.createElement("form"),0),Wm=!1}catch{Wm=!0}return Wm}var dD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cv(n){return n!=null&&!dD.has(n)?(Us(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ag}"`),null):n}function pD(n,e){let t,r,o,u,f;if(lD(n)){let m=n.getAttribute("action");r=m?cl(m,e):null,t=n.getAttribute("method")||ig,o=Cv(n.getAttribute("enctype"))||ag,u=new FormData(n)}else if(oD(n)||uD(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(r=g?cl(g,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||ig,o=Cv(n.getAttribute("formenctype"))||Cv(m.getAttribute("enctype"))||ag,u=new FormData(m,n),!hD()){let{name:v,type:_,value:x}=n;if(_==="image"){let T=v?`${v}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else v&&u.append(v,x)}}else{if(Kg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ig,r=null,o=ag,f=n}return u&&o==="text/plain"&&(f=u,u=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function J0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mD(n,e,t,r){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&cl(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function gD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function vD(n,e,t){let r=await Promise.all(n.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await gD(u,t);return f.links?f.links():[]}return[]}));return xD(r.flat(1).filter(yD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function J_(n,e,t,r,o,u){let f=(g,v)=>t[v]?g.route.id!==t[v].route.id:!0,m=(g,v)=>t[v].pathname!==g.pathname||t[v].route.path?.endsWith("*")&&t[v].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,v)=>f(g,v)||m(g,v)):u==="data"?e.filter((g,v)=>{let _=r.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(f(g,v)||m(g,v))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function bD(n,e,{includeHydrateFallback:t}={}){return _D(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _D(n){return[...new Set(n)]}function wD(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function xD(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let u=JSON.stringify(wD(o));return t.has(u)||(t.add(u),r.push({key:u,link:o})),r},[])}function mS(){let n=Ae.useContext(vh);return J0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ED(){let n=Ae.useContext(Yg);return J0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var e1=Ae.createContext(void 0);e1.displayName="FrameworkContext";function gS(){let n=Ae.useContext(e1);return J0(n,"You must render this element inside a <HydratedRouter> element"),n}function SD(n,e){let t=Ae.useContext(e1),[r,o]=Ae.useState(!1),[u,f]=Ae.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:v,onMouseLeave:_,onTouchStart:x}=e,T=Ae.useRef(null);Ae.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let R=N=>{N.forEach(P=>{f(P.isIntersecting)})},I=new IntersectionObserver(R,{threshold:.5});return T.current&&I.observe(T.current),()=>{I.disconnect()}}},[n]),Ae.useEffect(()=>{if(r){let R=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(R)}}},[r]);let C=()=>{o(!0)},L=()=>{o(!1),f(!1)};return t?n!=="intent"?[u,T,{}]:[u,T,{onFocus:Fd(m,C),onBlur:Fd(g,L),onMouseEnter:Fd(v,C),onMouseLeave:Fd(_,L),onTouchStart:Fd(x,C)}]:[!1,T,{}]}function Fd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function TD({page:n,...e}){let{router:t}=mS(),r=Ae.useMemo(()=>tS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Ae.createElement(AD,{page:n,matches:r,...e}):null}function CD(n){let{manifest:e,routeModules:t}=gS(),[r,o]=Ae.useState([]);return Ae.useEffect(()=>{let u=!1;return vD(n,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[n,e,t]),r}function AD({page:n,matches:e,...t}){let r=gl(),{future:o,manifest:u,routeModules:f}=gS(),{basename:m}=mS(),{loaderData:g,matches:v}=ED(),_=Ae.useMemo(()=>J_(n,e,v,u,r,"data"),[n,e,v,u,r]),x=Ae.useMemo(()=>J_(n,e,v,u,r,"assets"),[n,e,v,u,r]),T=Ae.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,I=!1;if(e.forEach(P=>{let W=u.routes[P.route.id];!W||!W.hasLoader||(!_.some(re=>re.route.id===P.route.id)&&P.route.id in g&&f[P.route.id]?.shouldRevalidate||W.hasClientLoader?I=!0:R.add(P.route.id))}),R.size===0)return[];let N=mD(n,m,o.unstable_trailingSlashAwareDataRequests,"data");return I&&R.size>0&&N.searchParams.set("_routes",e.filter(P=>R.has(P.route.id)).map(P=>P.route.id).join(",")),[N.pathname+N.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,r,u,_,e,n,f]),C=Ae.useMemo(()=>bD(x,u),[x,u]),L=CD(x);return Ae.createElement(Ae.Fragment,null,T.map(R=>Ae.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),C.map(R=>Ae.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),L.map(({key:R,link:I})=>Ae.createElement("link",{key:R,nonce:t.nonce,...I,crossOrigin:I.crossOrigin??t.crossOrigin})))}function kD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var DD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DD&&(window.__reactRouterVersion="7.13.0")}catch{}function RD({basename:n,children:e,unstable_useTransitions:t,window:r}){let o=Ae.useRef();o.current==null&&(o.current=s2({window:r,v5Compat:!0}));let u=o.current,[f,m]=Ae.useState({action:u.action,location:u.location}),g=Ae.useCallback(v=>{t===!1?m(v):Ae.startTransition(()=>m(v))},[t]);return Ae.useLayoutEffect(()=>u.listen(g),[u,g]),Ae.createElement(aD,{basename:n,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:t})}var yS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vS=Ae.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:v,preventScrollReset:_,viewTransition:x,unstable_defaultShouldRevalidate:T,...C},L){let{basename:R,unstable_useTransitions:I}=Ae.useContext(Ra),N=typeof v=="string"&&yS.test(v),P=aS(v,R);v=P.to;let W=U2(v,{relative:o}),[re,te,ne]=SD(r,C),B=MD(v,{replace:f,state:m,target:g,preventScrollReset:_,relative:o,viewTransition:x,unstable_defaultShouldRevalidate:T,unstable_useTransitions:I});function Q(ae){e&&e(ae),ae.defaultPrevented||B(ae)}let q=Ae.createElement("a",{...C,...ne,href:P.absoluteURL||W,onClick:P.isExternal||u?e:Q,ref:kD(L,te),target:g,"data-discover":!N&&t==="render"?"true":void 0});return re&&!N?Ae.createElement(Ae.Fragment,null,q,Ae.createElement(TD,{page:W})):q});vS.displayName="Link";var ID=Ae.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...v},_){let x=Sp(f,{relative:v.relative}),T=gl(),C=Ae.useContext(Yg),{navigator:L,basename:R}=Ae.useContext(Ra),I=C!=null&&BD(x)&&m===!0,N=L.encodeLocation?L.encodeLocation(x).pathname:x.pathname,P=T.pathname,W=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(P=P.toLowerCase(),W=W?W.toLowerCase():null,N=N.toLowerCase()),W&&R&&(W=cl(W,R)||W);const re=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let te=P===N||!o&&P.startsWith(N)&&P.charAt(re)==="/",ne=W!=null&&(W===N||!o&&W.startsWith(N)&&W.charAt(N.length)==="/"),B={isActive:te,isPending:ne,isTransitioning:I},Q=te?e:void 0,q;typeof r=="function"?q=r(B):q=[r,te?"active":null,ne?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let ae=typeof u=="function"?u(B):u;return Ae.createElement(vS,{...v,"aria-current":Q,className:q,ref:_,style:ae,to:f,viewTransition:m},typeof g=="function"?g(B):g)});ID.displayName="NavLink";var ND=Ae.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:u,method:f=ig,action:m,onSubmit:g,relative:v,preventScrollReset:_,viewTransition:x,unstable_defaultShouldRevalidate:T,...C},L)=>{let{unstable_useTransitions:R}=Ae.useContext(Ra),I=FD(),N=zD(m,{relative:v}),P=f.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&yS.test(m),re=te=>{if(g&&g(te),te.defaultPrevented)return;te.preventDefault();let ne=te.nativeEvent.submitter,B=ne?.getAttribute("formmethod")||f,Q=()=>I(ne||te.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:o,state:u,relative:v,preventScrollReset:_,viewTransition:x,unstable_defaultShouldRevalidate:T});R&&t!==!1?Ae.startTransition(()=>Q()):Q()};return Ae.createElement("form",{ref:L,method:P,action:N,onSubmit:r?g:re,...C,"data-discover":!W&&n==="render"?"true":void 0})});ND.displayName="Form";function OD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bS(n){let e=Ae.useContext(vh);return sr(e,OD(n)),e}function MD(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let v=Uc(),_=gl(),x=Sp(n,{relative:u});return Ae.useCallback(T=>{if(fD(T,e)){T.preventDefault();let C=t!==void 0?t:up(_)===up(x),L=()=>v(n,{replace:C,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?Ae.startTransition(()=>L()):L()}},[_,v,x,t,r,e,n,o,u,f,m,g])}var LD=0,PD=()=>`__${String(++LD)}__`;function FD(){let{router:n}=bS("useSubmit"),{basename:e}=Ae.useContext(Ra),t=eD(),r=n.fetch,o=n.navigate;return Ae.useCallback(async(u,f={})=>{let{action:m,method:g,encType:v,formData:_,body:x}=pD(u,e);if(f.navigate===!1){let T=f.fetcherKey||PD();await r(T,t,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:_,body:x,formMethod:f.method||g,formEncType:f.encType||v,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:_,body:x,formMethod:f.method||g,formEncType:f.encType||v,replace:f.replace,state:f.state,fromRouteId:t,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,o,e,t])}function zD(n,{relative:e}={}){let{basename:t}=Ae.useContext(Ra),r=Ae.useContext(ls);sr(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Sp(n||".",{relative:e})},f=gl();if(n==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(x=>x).forEach(x=>m.append("index",x));let _=m.toString();u.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ul([t,u.pathname])),up(u)}function BD(n,{relative:e}={}){let t=Ae.useContext(oS);sr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bS("useViewTransitionState"),o=Sp(n,{relative:e});if(!t.isTransitioning)return!1;let u=cl(t.currentLocation.pathname,r)||t.currentLocation.pathname,f=cl(t.nextLocation.pathname,r)||t.nextLocation.pathname;return _g(o.pathname,f)!=null||_g(o.pathname,u)!=null}var UD=eS();const VD=Bc(UD),jD=()=>{};var ew={};const _S=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},HD=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[t++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[t++],f=n[t++],m=n[t++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=n[t++],f=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},wS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],f=o+1<n.length,m=f?n[o+1]:0,g=o+2<n.length,v=g?n[o+2]:0,_=u>>2,x=(u&3)<<4|m>>4;let T=(m&15)<<2|v>>6,C=v&63;g||(C=64,f||(T=64)),r.push(t[_],t[x],t[T],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_S(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):HD(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=t[n.charAt(o++)],m=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const x=o<n.length?t[n.charAt(o)]:64;if(++o,u==null||m==null||v==null||x==null)throw new qD;const T=u<<2|m>>4;if(r.push(T),v!==64){const C=m<<4&240|v>>2;if(r.push(C),x!==64){const L=v<<6&192|x;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WD=function(n){const e=_S(n);return wS.encodeByteArray(e,!0)},wg=function(n){return WD(n).replace(/\./g,"")},xS=function(n){try{return wS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function GD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const YD=()=>GD().__FIREBASE_DEFAULTS__,KD=()=>{if(typeof process>"u"||typeof ew>"u")return;const n=ew.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},QD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xS(n[1]);return e&&JSON.parse(e)},Qg=()=>{try{return jD()||YD()||KD()||QD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ES=n=>Qg()?.emulatorHosts?.[n],$D=n=>{const e=ES(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},SS=()=>Qg()?.config,TS=n=>Qg()?.[`_${n}`];class XD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function _h(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CS(n){return(await fetch(n,{credentials:"include"})).ok}function ZD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[wg(JSON.stringify(t)),wg(JSON.stringify(f)),""].join(".")}const Zd={};function JD(){const n={prod:[],emulator:[]};for(const e of Object.keys(Zd))Zd[e]?n.emulator.push(e):n.prod.push(e);return n}function eR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let tw=!1;function AS(n,e){if(typeof window>"u"||typeof document>"u"||!_h(window.location.host)||Zd[n]===e||Zd[n]||tw)return;Zd[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",u=JD().prod.length>0;function f(){const T=document.getElementById(r);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function v(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{tw=!0,f()},T}function _(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function x(){const T=eR(r),C=t("text"),L=document.getElementById(C)||document.createElement("span"),R=t("learnmore"),I=document.getElementById(R)||document.createElement("a"),N=t("preprendIcon"),P=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const W=T.element;m(W),_(I,R);const re=v();g(P,N),W.append(P,L,I,re),document.body.appendChild(W)}u?(L.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function Ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ni())}function nR(){const n=Qg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sR(){const n=Ni();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function oR(){return!nR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lR(){try{return typeof indexedDB=="object"}catch{return!1}}function uR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const cR="FirebaseError";class yl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=cR,Object.setPrototypeOf(this,yl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tp.prototype.create)}}class Tp{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?fR(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new yl(o,m,r)}}function fR(n,e){return n.replace(hR,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const hR=/\{\$([^}]+)}/g;function dR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Oc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const u=n[o],f=e[o];if(nw(u)&&nw(f)){if(!Oc(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function nw(n){return n!==null&&typeof n=="object"}function Cp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pR(n,e){const t=new mR(n,e);return t.subscribe.bind(t)}class mR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");gR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Av),o.error===void 0&&(o.error=Av),o.complete===void 0&&(o.complete=Av);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Av(){}function Vr(n){return n&&n._delegate?n._delegate:n}class Mc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Cc="[DEFAULT]";class yR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new XD;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bR(e))try{this.getOrInitializeService({instanceIdentifier:Cc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Cc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cc){return this.instances.has(e)}getOptions(e=Cc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cc){return this.component?this.component.multipleInstances?e:Cc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vR(n){return n===Cc?void 0:n}function bR(n){return n.instantiationMode==="EAGER"}class _R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var fn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(fn||(fn={}));const wR={debug:fn.DEBUG,verbose:fn.VERBOSE,info:fn.INFO,warn:fn.WARN,error:fn.ERROR,silent:fn.SILENT},xR=fn.INFO,ER={[fn.DEBUG]:"log",[fn.VERBOSE]:"log",[fn.INFO]:"info",[fn.WARN]:"warn",[fn.ERROR]:"error"},SR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=ER[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t1{constructor(e){this.name=e,this._logLevel=xR,this._logHandler=SR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fn.DEBUG,...e),this._logHandler(this,fn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fn.VERBOSE,...e),this._logHandler(this,fn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fn.INFO,...e),this._logHandler(this,fn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fn.WARN,...e),this._logHandler(this,fn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fn.ERROR,...e),this._logHandler(this,fn.ERROR,...e)}}const TR=(n,e)=>e.some(t=>n instanceof t);let rw,iw;function CR(){return rw||(rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return iw||(iw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kS=new WeakMap,l0=new WeakMap,DS=new WeakMap,kv=new WeakMap,n1=new WeakMap;function kR(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{t(ku(n.result)),o()},f=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&kS.set(t,n)}).catch(()=>{}),n1.set(e,n),e}function DR(n){if(l0.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});l0.set(n,e)}let u0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return l0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||DS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ku(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function RR(n){u0=n(u0)}function IR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Dv(this),e,...t);return DS.set(r,e.sort?e.sort():[e]),ku(r)}:AR().includes(n)?function(...e){return n.apply(Dv(this),e),ku(kS.get(this))}:function(...e){return ku(n.apply(Dv(this),e))}}function NR(n){return typeof n=="function"?IR(n):(n instanceof IDBTransaction&&DR(n),TR(n,CR())?new Proxy(n,u0):n)}function ku(n){if(n instanceof IDBRequest)return kR(n);if(kv.has(n))return kv.get(n);const e=NR(n);return e!==n&&(kv.set(n,e),n1.set(e,n)),e}const Dv=n=>n1.get(n);function OR(n,e,{blocked:t,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(n,e),m=ku(f);return r&&f.addEventListener("upgradeneeded",g=>{r(ku(f.result),g.oldVersion,g.newVersion,ku(f.transaction),g)}),t&&f.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const MR=["get","getKey","getAll","getAllKeys","count"],LR=["put","add","delete","clear"],Rv=new Map;function aw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rv.get(e))return Rv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=LR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||MR.includes(t)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let v=g.store;return r&&(v=v.index(m.shift())),(await Promise.all([v[t](...m),o&&g.done]))[0]};return Rv.set(e,u),u}RR(n=>({...n,get:(e,t,r)=>aw(e,t)||n.get(e,t,r),has:(e,t)=>!!aw(e,t)||n.has(e,t)}));class PR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(FR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function FR(n){return n.getComponent()?.type==="VERSION"}const c0="@firebase/app",sw="0.14.7";const fl=new t1("@firebase/app"),zR="@firebase/app-compat",BR="@firebase/analytics-compat",UR="@firebase/analytics",VR="@firebase/app-check-compat",jR="@firebase/app-check",HR="@firebase/auth",qR="@firebase/auth-compat",WR="@firebase/database",GR="@firebase/data-connect",YR="@firebase/database-compat",KR="@firebase/functions",QR="@firebase/functions-compat",$R="@firebase/installations",XR="@firebase/installations-compat",ZR="@firebase/messaging",JR="@firebase/messaging-compat",eI="@firebase/performance",tI="@firebase/performance-compat",nI="@firebase/remote-config",rI="@firebase/remote-config-compat",iI="@firebase/storage",aI="@firebase/storage-compat",sI="@firebase/firestore",oI="@firebase/ai",lI="@firebase/firestore-compat",uI="firebase",cI="12.8.0";const f0="[DEFAULT]",fI={[c0]:"fire-core",[zR]:"fire-core-compat",[UR]:"fire-analytics",[BR]:"fire-analytics-compat",[jR]:"fire-app-check",[VR]:"fire-app-check-compat",[HR]:"fire-auth",[qR]:"fire-auth-compat",[WR]:"fire-rtdb",[GR]:"fire-data-connect",[YR]:"fire-rtdb-compat",[KR]:"fire-fn",[QR]:"fire-fn-compat",[$R]:"fire-iid",[XR]:"fire-iid-compat",[ZR]:"fire-fcm",[JR]:"fire-fcm-compat",[eI]:"fire-perf",[tI]:"fire-perf-compat",[nI]:"fire-rc",[rI]:"fire-rc-compat",[iI]:"fire-gcs",[aI]:"fire-gcs-compat",[sI]:"fire-fst",[lI]:"fire-fst-compat",[oI]:"fire-vertex","fire-js":"fire-js",[uI]:"fire-js-all"};const xg=new Map,hI=new Map,h0=new Map;function ow(n,e){try{n.container.addComponent(e)}catch(t){fl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function oh(n){const e=n.name;if(h0.has(e))return fl.debug(`There were multiple attempts to register component ${e}.`),!1;h0.set(e,n);for(const t of xg.values())ow(t,n);for(const t of hI.values())ow(t,n);return!0}function r1(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ps(n){return n==null?!1:n.settings!==void 0}const dI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Du=new Tp("app","Firebase",dI);class pI{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Du.create("app-deleted",{appName:this._name})}}const wh=cI;function RS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:f0,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Du.create("bad-app-name",{appName:String(o)});if(t||(t=SS()),!t)throw Du.create("no-options");const u=xg.get(o);if(u){if(Oc(t,u.options)&&Oc(r,u.config))return u;throw Du.create("duplicate-app",{appName:o})}const f=new _R(o);for(const g of h0.values())f.addComponent(g);const m=new pI(t,r,f);return xg.set(o,m),m}function IS(n=f0){const e=xg.get(n);if(!e&&n===f0&&SS())return RS();if(!e)throw Du.create("no-app",{appName:n});return e}function Ru(n,e,t){let r=fI[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fl.warn(f.join(" "));return}oh(new Mc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const mI="firebase-heartbeat-database",gI=1,cp="firebase-heartbeat-store";let Iv=null;function NS(){return Iv||(Iv=OR(mI,gI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cp)}catch(t){console.warn(t)}}}}).catch(n=>{throw Du.create("idb-open",{originalErrorMessage:n.message})})),Iv}async function yI(n){try{const t=(await NS()).transaction(cp),r=await t.objectStore(cp).get(OS(n));return await t.done,r}catch(e){if(e instanceof yl)fl.warn(e.message);else{const t=Du.create("idb-get",{originalErrorMessage:e?.message});fl.warn(t.message)}}}async function lw(n,e){try{const r=(await NS()).transaction(cp,"readwrite");await r.objectStore(cp).put(e,OS(n)),await r.done}catch(t){if(t instanceof yl)fl.warn(t.message);else{const r=Du.create("idb-set",{originalErrorMessage:t?.message});fl.warn(r.message)}}}function OS(n){return`${n.name}!${n.options.appId}`}const vI=1024,bI=30;class _I{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=uw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>bI){const o=EI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fl.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=uw(),{heartbeatsToSend:t,unsentEntries:r}=wI(this._heartbeatsCache.heartbeats),o=wg(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fl.warn(e),""}}}function uw(){return new Date().toISOString().substring(0,10)}function wI(n,e=vI){const t=[];let r=n.slice();for(const o of n){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),cw(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),cw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class xI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lR()?uR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function cw(n){return wg(JSON.stringify({version:2,heartbeats:n})).length}function EI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function SI(n){oh(new Mc("platform-logger",e=>new PR(e),"PRIVATE")),oh(new Mc("heartbeat",e=>new _I(e),"PRIVATE")),Ru(c0,sw,n),Ru(c0,sw,"esm2020"),Ru("fire-js","")}SI("");var TI="firebase",CI="12.8.0";Ru(TI,CI,"app");var fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Iu,MS;(function(){var n;function e(B,Q){function q(){}q.prototype=Q.prototype,B.F=Q.prototype,B.prototype=new q,B.prototype.constructor=B,B.D=function(ae,$,F){for(var Z=Array(arguments.length-2),U=2;U<arguments.length;U++)Z[U-2]=arguments[U];return Q.prototype[$].apply(ae,Z)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(B,Q,q){q||(q=0);const ae=Array(16);if(typeof Q=="string")for(var $=0;$<16;++$)ae[$]=Q.charCodeAt(q++)|Q.charCodeAt(q++)<<8|Q.charCodeAt(q++)<<16|Q.charCodeAt(q++)<<24;else for($=0;$<16;++$)ae[$]=Q[q++]|Q[q++]<<8|Q[q++]<<16|Q[q++]<<24;Q=B.g[0],q=B.g[1],$=B.g[2];let F=B.g[3],Z;Z=Q+(F^q&($^F))+ae[0]+3614090360&4294967295,Q=q+(Z<<7&4294967295|Z>>>25),Z=F+($^Q&(q^$))+ae[1]+3905402710&4294967295,F=Q+(Z<<12&4294967295|Z>>>20),Z=$+(q^F&(Q^q))+ae[2]+606105819&4294967295,$=F+(Z<<17&4294967295|Z>>>15),Z=q+(Q^$&(F^Q))+ae[3]+3250441966&4294967295,q=$+(Z<<22&4294967295|Z>>>10),Z=Q+(F^q&($^F))+ae[4]+4118548399&4294967295,Q=q+(Z<<7&4294967295|Z>>>25),Z=F+($^Q&(q^$))+ae[5]+1200080426&4294967295,F=Q+(Z<<12&4294967295|Z>>>20),Z=$+(q^F&(Q^q))+ae[6]+2821735955&4294967295,$=F+(Z<<17&4294967295|Z>>>15),Z=q+(Q^$&(F^Q))+ae[7]+4249261313&4294967295,q=$+(Z<<22&4294967295|Z>>>10),Z=Q+(F^q&($^F))+ae[8]+1770035416&4294967295,Q=q+(Z<<7&4294967295|Z>>>25),Z=F+($^Q&(q^$))+ae[9]+2336552879&4294967295,F=Q+(Z<<12&4294967295|Z>>>20),Z=$+(q^F&(Q^q))+ae[10]+4294925233&4294967295,$=F+(Z<<17&4294967295|Z>>>15),Z=q+(Q^$&(F^Q))+ae[11]+2304563134&4294967295,q=$+(Z<<22&4294967295|Z>>>10),Z=Q+(F^q&($^F))+ae[12]+1804603682&4294967295,Q=q+(Z<<7&4294967295|Z>>>25),Z=F+($^Q&(q^$))+ae[13]+4254626195&4294967295,F=Q+(Z<<12&4294967295|Z>>>20),Z=$+(q^F&(Q^q))+ae[14]+2792965006&4294967295,$=F+(Z<<17&4294967295|Z>>>15),Z=q+(Q^$&(F^Q))+ae[15]+1236535329&4294967295,q=$+(Z<<22&4294967295|Z>>>10),Z=Q+($^F&(q^$))+ae[1]+4129170786&4294967295,Q=q+(Z<<5&4294967295|Z>>>27),Z=F+(q^$&(Q^q))+ae[6]+3225465664&4294967295,F=Q+(Z<<9&4294967295|Z>>>23),Z=$+(Q^q&(F^Q))+ae[11]+643717713&4294967295,$=F+(Z<<14&4294967295|Z>>>18),Z=q+(F^Q&($^F))+ae[0]+3921069994&4294967295,q=$+(Z<<20&4294967295|Z>>>12),Z=Q+($^F&(q^$))+ae[5]+3593408605&4294967295,Q=q+(Z<<5&4294967295|Z>>>27),Z=F+(q^$&(Q^q))+ae[10]+38016083&4294967295,F=Q+(Z<<9&4294967295|Z>>>23),Z=$+(Q^q&(F^Q))+ae[15]+3634488961&4294967295,$=F+(Z<<14&4294967295|Z>>>18),Z=q+(F^Q&($^F))+ae[4]+3889429448&4294967295,q=$+(Z<<20&4294967295|Z>>>12),Z=Q+($^F&(q^$))+ae[9]+568446438&4294967295,Q=q+(Z<<5&4294967295|Z>>>27),Z=F+(q^$&(Q^q))+ae[14]+3275163606&4294967295,F=Q+(Z<<9&4294967295|Z>>>23),Z=$+(Q^q&(F^Q))+ae[3]+4107603335&4294967295,$=F+(Z<<14&4294967295|Z>>>18),Z=q+(F^Q&($^F))+ae[8]+1163531501&4294967295,q=$+(Z<<20&4294967295|Z>>>12),Z=Q+($^F&(q^$))+ae[13]+2850285829&4294967295,Q=q+(Z<<5&4294967295|Z>>>27),Z=F+(q^$&(Q^q))+ae[2]+4243563512&4294967295,F=Q+(Z<<9&4294967295|Z>>>23),Z=$+(Q^q&(F^Q))+ae[7]+1735328473&4294967295,$=F+(Z<<14&4294967295|Z>>>18),Z=q+(F^Q&($^F))+ae[12]+2368359562&4294967295,q=$+(Z<<20&4294967295|Z>>>12),Z=Q+(q^$^F)+ae[5]+4294588738&4294967295,Q=q+(Z<<4&4294967295|Z>>>28),Z=F+(Q^q^$)+ae[8]+2272392833&4294967295,F=Q+(Z<<11&4294967295|Z>>>21),Z=$+(F^Q^q)+ae[11]+1839030562&4294967295,$=F+(Z<<16&4294967295|Z>>>16),Z=q+($^F^Q)+ae[14]+4259657740&4294967295,q=$+(Z<<23&4294967295|Z>>>9),Z=Q+(q^$^F)+ae[1]+2763975236&4294967295,Q=q+(Z<<4&4294967295|Z>>>28),Z=F+(Q^q^$)+ae[4]+1272893353&4294967295,F=Q+(Z<<11&4294967295|Z>>>21),Z=$+(F^Q^q)+ae[7]+4139469664&4294967295,$=F+(Z<<16&4294967295|Z>>>16),Z=q+($^F^Q)+ae[10]+3200236656&4294967295,q=$+(Z<<23&4294967295|Z>>>9),Z=Q+(q^$^F)+ae[13]+681279174&4294967295,Q=q+(Z<<4&4294967295|Z>>>28),Z=F+(Q^q^$)+ae[0]+3936430074&4294967295,F=Q+(Z<<11&4294967295|Z>>>21),Z=$+(F^Q^q)+ae[3]+3572445317&4294967295,$=F+(Z<<16&4294967295|Z>>>16),Z=q+($^F^Q)+ae[6]+76029189&4294967295,q=$+(Z<<23&4294967295|Z>>>9),Z=Q+(q^$^F)+ae[9]+3654602809&4294967295,Q=q+(Z<<4&4294967295|Z>>>28),Z=F+(Q^q^$)+ae[12]+3873151461&4294967295,F=Q+(Z<<11&4294967295|Z>>>21),Z=$+(F^Q^q)+ae[15]+530742520&4294967295,$=F+(Z<<16&4294967295|Z>>>16),Z=q+($^F^Q)+ae[2]+3299628645&4294967295,q=$+(Z<<23&4294967295|Z>>>9),Z=Q+($^(q|~F))+ae[0]+4096336452&4294967295,Q=q+(Z<<6&4294967295|Z>>>26),Z=F+(q^(Q|~$))+ae[7]+1126891415&4294967295,F=Q+(Z<<10&4294967295|Z>>>22),Z=$+(Q^(F|~q))+ae[14]+2878612391&4294967295,$=F+(Z<<15&4294967295|Z>>>17),Z=q+(F^($|~Q))+ae[5]+4237533241&4294967295,q=$+(Z<<21&4294967295|Z>>>11),Z=Q+($^(q|~F))+ae[12]+1700485571&4294967295,Q=q+(Z<<6&4294967295|Z>>>26),Z=F+(q^(Q|~$))+ae[3]+2399980690&4294967295,F=Q+(Z<<10&4294967295|Z>>>22),Z=$+(Q^(F|~q))+ae[10]+4293915773&4294967295,$=F+(Z<<15&4294967295|Z>>>17),Z=q+(F^($|~Q))+ae[1]+2240044497&4294967295,q=$+(Z<<21&4294967295|Z>>>11),Z=Q+($^(q|~F))+ae[8]+1873313359&4294967295,Q=q+(Z<<6&4294967295|Z>>>26),Z=F+(q^(Q|~$))+ae[15]+4264355552&4294967295,F=Q+(Z<<10&4294967295|Z>>>22),Z=$+(Q^(F|~q))+ae[6]+2734768916&4294967295,$=F+(Z<<15&4294967295|Z>>>17),Z=q+(F^($|~Q))+ae[13]+1309151649&4294967295,q=$+(Z<<21&4294967295|Z>>>11),Z=Q+($^(q|~F))+ae[4]+4149444226&4294967295,Q=q+(Z<<6&4294967295|Z>>>26),Z=F+(q^(Q|~$))+ae[11]+3174756917&4294967295,F=Q+(Z<<10&4294967295|Z>>>22),Z=$+(Q^(F|~q))+ae[2]+718787259&4294967295,$=F+(Z<<15&4294967295|Z>>>17),Z=q+(F^($|~Q))+ae[9]+3951481745&4294967295,B.g[0]=B.g[0]+Q&4294967295,B.g[1]=B.g[1]+($+(Z<<21&4294967295|Z>>>11))&4294967295,B.g[2]=B.g[2]+$&4294967295,B.g[3]=B.g[3]+F&4294967295}r.prototype.v=function(B,Q){Q===void 0&&(Q=B.length);const q=Q-this.blockSize,ae=this.C;let $=this.h,F=0;for(;F<Q;){if($==0)for(;F<=q;)o(this,B,F),F+=this.blockSize;if(typeof B=="string"){for(;F<Q;)if(ae[$++]=B.charCodeAt(F++),$==this.blockSize){o(this,ae),$=0;break}}else for(;F<Q;)if(ae[$++]=B[F++],$==this.blockSize){o(this,ae),$=0;break}}this.h=$,this.o+=Q},r.prototype.A=function(){var B=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);B[0]=128;for(var Q=1;Q<B.length-8;++Q)B[Q]=0;Q=this.o*8;for(var q=B.length-8;q<B.length;++q)B[q]=Q&255,Q/=256;for(this.v(B),B=Array(16),Q=0,q=0;q<4;++q)for(let ae=0;ae<32;ae+=8)B[Q++]=this.g[q]>>>ae&255;return B};function u(B,Q){var q=m;return Object.prototype.hasOwnProperty.call(q,B)?q[B]:q[B]=Q(B)}function f(B,Q){this.h=Q;const q=[];let ae=!0;for(let $=B.length-1;$>=0;$--){const F=B[$]|0;ae&&F==Q||(q[$]=F,ae=!1)}this.g=q}var m={};function g(B){return-128<=B&&B<128?u(B,function(Q){return new f([Q|0],Q<0?-1:0)}):new f([B|0],B<0?-1:0)}function v(B){if(isNaN(B)||!isFinite(B))return x;if(B<0)return I(v(-B));const Q=[];let q=1;for(let ae=0;B>=q;ae++)Q[ae]=B/q|0,q*=4294967296;return new f(Q,0)}function _(B,Q){if(B.length==0)throw Error("number format error: empty string");if(Q=Q||10,Q<2||36<Q)throw Error("radix out of range: "+Q);if(B.charAt(0)=="-")return I(_(B.substring(1),Q));if(B.indexOf("-")>=0)throw Error('number format error: interior "-" character');const q=v(Math.pow(Q,8));let ae=x;for(let F=0;F<B.length;F+=8){var $=Math.min(8,B.length-F);const Z=parseInt(B.substring(F,F+$),Q);$<8?($=v(Math.pow(Q,$)),ae=ae.j($).add(v(Z))):(ae=ae.j(q),ae=ae.add(v(Z)))}return ae}var x=g(0),T=g(1),C=g(16777216);n=f.prototype,n.m=function(){if(R(this))return-I(this).m();let B=0,Q=1;for(let q=0;q<this.g.length;q++){const ae=this.i(q);B+=(ae>=0?ae:4294967296+ae)*Q,Q*=4294967296}return B},n.toString=function(B){if(B=B||10,B<2||36<B)throw Error("radix out of range: "+B);if(L(this))return"0";if(R(this))return"-"+I(this).toString(B);const Q=v(Math.pow(B,6));var q=this;let ae="";for(;;){const $=re(q,Q).g;q=N(q,$.j(Q));let F=((q.g.length>0?q.g[0]:q.h)>>>0).toString(B);if(q=$,L(q))return F+ae;for(;F.length<6;)F="0"+F;ae=F+ae}},n.i=function(B){return B<0?0:B<this.g.length?this.g[B]:this.h};function L(B){if(B.h!=0)return!1;for(let Q=0;Q<B.g.length;Q++)if(B.g[Q]!=0)return!1;return!0}function R(B){return B.h==-1}n.l=function(B){return B=N(this,B),R(B)?-1:L(B)?0:1};function I(B){const Q=B.g.length,q=[];for(let ae=0;ae<Q;ae++)q[ae]=~B.g[ae];return new f(q,~B.h).add(T)}n.abs=function(){return R(this)?I(this):this},n.add=function(B){const Q=Math.max(this.g.length,B.g.length),q=[];let ae=0;for(let $=0;$<=Q;$++){let F=ae+(this.i($)&65535)+(B.i($)&65535),Z=(F>>>16)+(this.i($)>>>16)+(B.i($)>>>16);ae=Z>>>16,F&=65535,Z&=65535,q[$]=Z<<16|F}return new f(q,q[q.length-1]&-2147483648?-1:0)};function N(B,Q){return B.add(I(Q))}n.j=function(B){if(L(this)||L(B))return x;if(R(this))return R(B)?I(this).j(I(B)):I(I(this).j(B));if(R(B))return I(this.j(I(B)));if(this.l(C)<0&&B.l(C)<0)return v(this.m()*B.m());const Q=this.g.length+B.g.length,q=[];for(var ae=0;ae<2*Q;ae++)q[ae]=0;for(ae=0;ae<this.g.length;ae++)for(let $=0;$<B.g.length;$++){const F=this.i(ae)>>>16,Z=this.i(ae)&65535,U=B.i($)>>>16,ee=B.i($)&65535;q[2*ae+2*$]+=Z*ee,P(q,2*ae+2*$),q[2*ae+2*$+1]+=F*ee,P(q,2*ae+2*$+1),q[2*ae+2*$+1]+=Z*U,P(q,2*ae+2*$+1),q[2*ae+2*$+2]+=F*U,P(q,2*ae+2*$+2)}for(B=0;B<Q;B++)q[B]=q[2*B+1]<<16|q[2*B];for(B=Q;B<2*Q;B++)q[B]=0;return new f(q,0)};function P(B,Q){for(;(B[Q]&65535)!=B[Q];)B[Q+1]+=B[Q]>>>16,B[Q]&=65535,Q++}function W(B,Q){this.g=B,this.h=Q}function re(B,Q){if(L(Q))throw Error("division by zero");if(L(B))return new W(x,x);if(R(B))return Q=re(I(B),Q),new W(I(Q.g),I(Q.h));if(R(Q))return Q=re(B,I(Q)),new W(I(Q.g),Q.h);if(B.g.length>30){if(R(B)||R(Q))throw Error("slowDivide_ only works with positive integers.");for(var q=T,ae=Q;ae.l(B)<=0;)q=te(q),ae=te(ae);var $=ne(q,1),F=ne(ae,1);for(ae=ne(ae,2),q=ne(q,2);!L(ae);){var Z=F.add(ae);Z.l(B)<=0&&($=$.add(q),F=Z),ae=ne(ae,1),q=ne(q,1)}return Q=N(B,$.j(Q)),new W($,Q)}for($=x;B.l(Q)>=0;){for(q=Math.max(1,Math.floor(B.m()/Q.m())),ae=Math.ceil(Math.log(q)/Math.LN2),ae=ae<=48?1:Math.pow(2,ae-48),F=v(q),Z=F.j(Q);R(Z)||Z.l(B)>0;)q-=ae,F=v(q),Z=F.j(Q);L(F)&&(F=T),$=$.add(F),B=N(B,Z)}return new W($,B)}n.B=function(B){return re(this,B).h},n.and=function(B){const Q=Math.max(this.g.length,B.g.length),q=[];for(let ae=0;ae<Q;ae++)q[ae]=this.i(ae)&B.i(ae);return new f(q,this.h&B.h)},n.or=function(B){const Q=Math.max(this.g.length,B.g.length),q=[];for(let ae=0;ae<Q;ae++)q[ae]=this.i(ae)|B.i(ae);return new f(q,this.h|B.h)},n.xor=function(B){const Q=Math.max(this.g.length,B.g.length),q=[];for(let ae=0;ae<Q;ae++)q[ae]=this.i(ae)^B.i(ae);return new f(q,this.h^B.h)};function te(B){const Q=B.g.length+1,q=[];for(let ae=0;ae<Q;ae++)q[ae]=B.i(ae)<<1|B.i(ae-1)>>>31;return new f(q,B.h)}function ne(B,Q){const q=Q>>5;Q%=32;const ae=B.g.length-q,$=[];for(let F=0;F<ae;F++)$[F]=Q>0?B.i(F+q)>>>Q|B.i(F+q+1)<<32-Q:B.i(F+q);return new f($,B.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,MS=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=_,Iu=f}).apply(typeof fw<"u"?fw:typeof self<"u"?self:typeof window<"u"?window:{});var Gm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var LS,Yd,PS,sg,d0,FS,zS,BS;(function(){var n,e=Object.defineProperty;function t(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gm=="object"&&Gm];for(var O=0;O<b.length;++O){var X=b[O];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}var r=t(this);function o(b,O){if(O)e:{var X=r;b=b.split(".");for(var ue=0;ue<b.length-1;ue++){var je=b[ue];if(!(je in X))break e;X=X[je]}b=b[b.length-1],ue=X[b],O=O(ue),O!=ue&&O!=null&&e(X,b,{configurable:!0,writable:!0,value:O})}}o("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(b){return b||function(O){var X=[],ue;for(ue in O)Object.prototype.hasOwnProperty.call(O,ue)&&X.push([ue,O[ue]]);return X}});var u=u||{},f=this||self;function m(b){var O=typeof b;return O=="object"&&b!=null||O=="function"}function g(b,O,X){return b.call.apply(b.bind,arguments)}function v(b,O,X){return v=g,v.apply(null,arguments)}function _(b,O){var X=Array.prototype.slice.call(arguments,1);return function(){var ue=X.slice();return ue.push.apply(ue,arguments),b.apply(this,ue)}}function x(b,O){function X(){}X.prototype=O.prototype,b.Z=O.prototype,b.prototype=new X,b.prototype.constructor=b,b.Ob=function(ue,je,Ke){for(var ot=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)ot[Yt-2]=arguments[Yt];return O.prototype[je].apply(ue,ot)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function C(b){const O=b.length;if(O>0){const X=Array(O);for(let ue=0;ue<O;ue++)X[ue]=b[ue];return X}return[]}function L(b,O){for(let ue=1;ue<arguments.length;ue++){const je=arguments[ue];var X=typeof je;if(X=X!="object"?X:je?Array.isArray(je)?"array":X:"null",X=="array"||X=="object"&&typeof je.length=="number"){X=b.length||0;const Ke=je.length||0;b.length=X+Ke;for(let ot=0;ot<Ke;ot++)b[X+ot]=je[ot]}else b.push(je)}}class R{constructor(O,X){this.i=O,this.j=X,this.h=0,this.g=null}get(){let O;return this.h>0?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function I(b){f.setTimeout(()=>{throw b},0)}function N(){var b=B;let O=null;return b.g&&(O=b.g,b.g=b.g.next,b.g||(b.h=null),O.next=null),O}class P{constructor(){this.h=this.g=null}add(O,X){const ue=W.get();ue.set(O,X),this.h?this.h.next=ue:this.g=ue,this.h=ue}}var W=new R(()=>new re,b=>b.reset());class re{constructor(){this.next=this.g=this.h=null}set(O,X){this.h=O,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ne=!1,B=new P,Q=()=>{const b=Promise.resolve(void 0);te=()=>{b.then(q)}};function q(){for(var b;b=N();){try{b.h.call(b.g)}catch(X){I(X)}var O=W;O.j(b),O.h<100&&(O.h++,b.next=O.g,O.g=b)}ne=!1}function ae(){this.u=this.u,this.C=this.C}ae.prototype.u=!1,ae.prototype.dispose=function(){this.u||(this.u=!0,this.N())},ae.prototype[Symbol.dispose]=function(){this.dispose()},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(b,O){this.type=b,this.g=this.target=O,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var b=!1,O=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const X=()=>{};f.addEventListener("test",X,O),f.removeEventListener("test",X,O)}catch{}return b})();function Z(b){return/^[\s\xa0]*$/.test(b)}function U(b,O){$.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,O)}x(U,$),U.prototype.init=function(b,O){const X=this.type=b.type,ue=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=O,O=b.relatedTarget,O||(X=="mouseover"?O=b.fromElement:X=="mouseout"&&(O=b.toElement)),this.relatedTarget=O,ue?(this.clientX=ue.clientX!==void 0?ue.clientX:ue.pageX,this.clientY=ue.clientY!==void 0?ue.clientY:ue.pageY,this.screenX=ue.screenX||0,this.screenY=ue.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&U.Z.h.call(this)},U.prototype.h=function(){U.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),fe=0;function he(b,O,X,ue,je){this.listener=b,this.proxy=null,this.src=O,this.type=X,this.capture=!!ue,this.ha=je,this.key=++fe,this.da=this.fa=!1}function Pe(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Fe(b,O,X){for(const ue in b)O.call(X,b[ue],ue,b)}function le(b,O){for(const X in b)O.call(void 0,b[X],X,b)}function se(b){const O={};for(const X in b)O[X]=b[X];return O}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(b,O){let X,ue;for(let je=1;je<arguments.length;je++){ue=arguments[je];for(X in ue)b[X]=ue[X];for(let Ke=0;Ke<H.length;Ke++)X=H[Ke],Object.prototype.hasOwnProperty.call(ue,X)&&(b[X]=ue[X])}}function ge(b){this.src=b,this.g={},this.h=0}ge.prototype.add=function(b,O,X,ue,je){const Ke=b.toString();b=this.g[Ke],b||(b=this.g[Ke]=[],this.h++);const ot=$e(b,O,ue,je);return ot>-1?(O=b[ot],X||(O.fa=!1)):(O=new he(O,this.src,Ke,!!ue,je),O.fa=X,b.push(O)),O};function Ue(b,O){const X=O.type;if(X in b.g){var ue=b.g[X],je=Array.prototype.indexOf.call(ue,O,void 0),Ke;(Ke=je>=0)&&Array.prototype.splice.call(ue,je,1),Ke&&(Pe(O),b.g[X].length==0&&(delete b.g[X],b.h--))}}function $e(b,O,X,ue){for(let je=0;je<b.length;++je){const Ke=b[je];if(!Ke.da&&Ke.listener==O&&Ke.capture==!!X&&Ke.ha==ue)return je}return-1}var gt="closure_lm_"+(Math.random()*1e6|0),ht={};function dt(b,O,X,ue,je){if(Array.isArray(O)){for(let Ke=0;Ke<O.length;Ke++)dt(b,O[Ke],X,ue,je);return null}return X=pe(X),b&&b[ee]?b.J(O,X,m(ue)?!!ue.capture:!1,je):At(b,O,X,!1,ue,je)}function At(b,O,X,ue,je,Ke){if(!O)throw Error("Invalid event type");const ot=m(je)?!!je.capture:!!je;let Yt=He(b);if(Yt||(b[gt]=Yt=new ge(b)),X=Yt.add(O,X,ue,ot,Ke),X.proxy)return X;if(ue=_t(),X.proxy=ue,ue.src=b,ue.listener=X,b.addEventListener)F||(je=ot),je===void 0&&(je=!1),b.addEventListener(O.toString(),ue,je);else if(b.attachEvent)b.attachEvent(K(O.toString()),ue);else if(b.addListener&&b.removeListener)b.addListener(ue);else throw Error("addEventListener and attachEvent are unavailable.");return X}function _t(){function b(X){return O.call(b.src,b.listener,X)}const O=ze;return b}function Pt(b,O,X,ue,je){if(Array.isArray(O))for(var Ke=0;Ke<O.length;Ke++)Pt(b,O[Ke],X,ue,je);else ue=m(ue)?!!ue.capture:!!ue,X=pe(X),b&&b[ee]?(b=b.i,Ke=String(O).toString(),Ke in b.g&&(O=b.g[Ke],X=$e(O,X,ue,je),X>-1&&(Pe(O[X]),Array.prototype.splice.call(O,X,1),O.length==0&&(delete b.g[Ke],b.h--)))):b&&(b=He(b))&&(O=b.g[O.toString()],b=-1,O&&(b=$e(O,X,ue,je)),(X=b>-1?O[b]:null)&&Ht(X))}function Ht(b){if(typeof b!="number"&&b&&!b.da){var O=b.src;if(O&&O[ee])Ue(O.i,b);else{var X=b.type,ue=b.proxy;O.removeEventListener?O.removeEventListener(X,ue,b.capture):O.detachEvent?O.detachEvent(K(X),ue):O.addListener&&O.removeListener&&O.removeListener(ue),(X=He(O))?(Ue(X,b),X.h==0&&(X.src=null,O[gt]=null)):Pe(b)}}}function K(b){return b in ht?ht[b]:ht[b]="on"+b}function ze(b,O){if(b.da)b=!0;else{O=new U(O,this);const X=b.listener,ue=b.ha||b.src;b.fa&&Ht(b),b=X.call(ue,O)}return b}function He(b){return b=b[gt],b instanceof ge?b:null}var be="__closure_events_fn_"+(Math.random()*1e9>>>0);function pe(b){return typeof b=="function"?b:(b[be]||(b[be]=function(O){return b.handleEvent(O)}),b[be])}function ke(){ae.call(this),this.i=new ge(this),this.M=this,this.G=null}x(ke,ae),ke.prototype[ee]=!0,ke.prototype.removeEventListener=function(b,O,X,ue){Pt(this,b,O,X,ue)};function Me(b,O){var X,ue=b.G;if(ue)for(X=[];ue;ue=ue.G)X.push(ue);if(b=b.M,ue=O.type||O,typeof O=="string")O=new $(O,b);else if(O instanceof $)O.target=O.target||b;else{var je=O;O=new $(ue,b),A(O,je)}je=!0;let Ke,ot;if(X)for(ot=X.length-1;ot>=0;ot--)Ke=O.g=X[ot],je=Xe(Ke,ue,!0,O)&&je;if(Ke=O.g=b,je=Xe(Ke,ue,!0,O)&&je,je=Xe(Ke,ue,!1,O)&&je,X)for(ot=0;ot<X.length;ot++)Ke=O.g=X[ot],je=Xe(Ke,ue,!1,O)&&je}ke.prototype.N=function(){if(ke.Z.N.call(this),this.i){var b=this.i;for(const O in b.g){const X=b.g[O];for(let ue=0;ue<X.length;ue++)Pe(X[ue]);delete b.g[O],b.h--}}this.G=null},ke.prototype.J=function(b,O,X,ue){return this.i.add(String(b),O,!1,X,ue)},ke.prototype.K=function(b,O,X,ue){return this.i.add(String(b),O,!0,X,ue)};function Xe(b,O,X,ue){if(O=b.i.g[String(O)],!O)return!0;O=O.concat();let je=!0;for(let Ke=0;Ke<O.length;++Ke){const ot=O[Ke];if(ot&&!ot.da&&ot.capture==X){const Yt=ot.listener,nr=ot.ha||ot.src;ot.fa&&Ue(b.i,ot),je=Yt.call(nr,ue)!==!1&&je}}return je&&!ue.defaultPrevented}function Ve(b,O){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=v(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(O)>2147483647?-1:f.setTimeout(b,O||0)}function lt(b){b.g=Ve(()=>{b.g=null,b.i&&(b.i=!1,lt(b))},b.l);const O=b.h;b.h=null,b.m.apply(null,O)}class Ee extends ae{constructor(O,X){super(),this.m=O,this.l=X,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function we(b){ae.call(this),this.h=b,this.g={}}x(we,ae);var ie=[];function j(b){Fe(b.g,function(O,X){this.g.hasOwnProperty(X)&&Ht(O)},b),b.g={}}we.prototype.N=function(){we.Z.N.call(this),j(this)},we.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var G=f.JSON.stringify,ve=f.JSON.parse,D=class{stringify(b){return f.JSON.stringify(b,void 0)}parse(b){return f.JSON.parse(b,void 0)}};function Y(){}function ce(){}var me={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Se(){$.call(this,"d")}x(Se,$);function Ie(){$.call(this,"c")}x(Ie,$);var xe={},Te=null;function Oe(){return Te=Te||new ke}xe.Ia="serverreachability";function De(b){$.call(this,xe.Ia,b)}x(De,$);function ut(b){const O=Oe();Me(O,new De(O))}xe.STAT_EVENT="statevent";function vt(b,O){$.call(this,xe.STAT_EVENT,b),this.stat=O}x(vt,$);function ft(b){const O=Oe();Me(O,new vt(O,b))}xe.Ja="timingevent";function at(b,O){$.call(this,xe.Ja,b),this.size=O}x(at,$);function kt(b,O){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){b()},O)}function Rt(){this.g=!0}Rt.prototype.ua=function(){this.g=!1};function zt(b,O,X,ue,je,Ke){b.info(function(){if(b.g)if(Ke){var ot="",Yt=Ke.split("&");for(let nn=0;nn<Yt.length;nn++){var nr=Yt[nn].split("=");if(nr.length>1){const Wn=nr[0];nr=nr[1];const zi=Wn.split("_");ot=zi.length>=2&&zi[1]=="type"?ot+(Wn+"="+nr+"&"):ot+(Wn+"=redacted&")}}}else ot=null;else ot=Ke;return"XMLHTTP REQ ("+ue+") [attempt "+je+"]: "+O+`
`+X+`
`+ot})}function Nt(b,O,X,ue,je,Ke,ot){b.info(function(){return"XMLHTTP RESP ("+ue+") [ attempt "+je+"]: "+O+`
`+X+`
`+Ke+" "+ot})}function Xt(b,O,X,ue){b.info(function(){return"XMLHTTP TEXT ("+O+"): "+$n(b,X)+(ue?" "+ue:"")})}function on(b,O){b.info(function(){return"TIMEOUT: "+O})}Rt.prototype.info=function(){};function $n(b,O){if(!b.g)return O;if(!O)return null;try{const Ke=JSON.parse(O);if(Ke){for(b=0;b<Ke.length;b++)if(Array.isArray(Ke[b])){var X=Ke[b];if(!(X.length<2)){var ue=X[1];if(Array.isArray(ue)&&!(ue.length<1)){var je=ue[0];if(je!="noop"&&je!="stop"&&je!="close")for(let ot=1;ot<ue.length;ot++)ue[ot]=""}}}}return G(Ke)}catch{return O}}var Jn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},or={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Na;function Gi(){}x(Gi,Y),Gi.prototype.g=function(){return new XMLHttpRequest},Na=new Gi;function Yi(b){return encodeURIComponent(String(b))}function js(b){var O=1;b=b.split(":");const X=[];for(;O>0&&b.length;)X.push(b.shift()),O--;return b.length&&X.push(b.join(":")),X}function ti(b,O,X,ue){this.j=b,this.i=O,this.l=X,this.S=ue||1,this.V=new we(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var er={},tn={};function _r(b,O,X){b.M=1,b.A=Fa(et(O)),b.u=X,b.R=!0,Qr(b,null)}function Qr(b,O){b.F=Date.now(),Mi(b),b.B=et(b.A);var X=b.B,ue=b.S;Array.isArray(ue)||(ue=[String(ue)]),Io(X.i,"t",ue),b.C=0,X=b.j.L,b.h=new ni,b.g=Yc(b.j,X?O:null,!b.u),b.P>0&&(b.O=new Ee(v(b.Y,b,b.g),b.P)),O=b.V,X=b.g,ue=b.ba;var je="readystatechange";Array.isArray(je)||(je&&(ie[0]=je.toString()),je=ie);for(let Ke=0;Ke<je.length;Ke++){const ot=dt(X,je[Ke],ue||O.handleEvent,!1,O.h||O);if(!ot)break;O.g[ot.key]=ot}O=b.J?se(b.J):{},b.u?(b.v||(b.v="POST"),O["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,O)):(b.v="GET",b.g.ea(b.B,b.v,null,O)),ut(),zt(b.i,b.v,b.B,b.l,b.S,b.u)}ti.prototype.ba=function(b){b=b.target;const O=this.O;O&&Pi(b)==3?O.j():this.Y(b)},ti.prototype.Y=function(b){try{if(b==this.g)e:{const Yt=Pi(this.g),nr=this.g.ya(),nn=this.g.ca();if(!(Yt<3)&&(Yt!=3||this.g&&(this.h.h||this.g.la()||Dr(this.g)))){this.K||Yt!=4||nr==7||(nr==8||nn<=0?ut(3):ut(2)),ii(this);var O=this.g.ca();this.X=O;var X=ri(this);if(this.o=O==200,Nt(this.i,this.v,this.B,this.l,this.S,Yt,O),this.o){if(this.U&&!this.L){t:{if(this.g){var ue,je=this.g;if((ue=je.g?je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(ue)){var Ke=ue;break t}}Ke=null}if(b=Ke)Xt(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$r(this,b);else{this.o=!1,this.m=3,ft(12),Li(this),Hr(this);break e}}if(this.R){b=!0;let Wn;for(;!this.K&&this.C<X.length;)if(Wn=Oa(this,X),Wn==tn){Yt==4&&(this.m=4,ft(14),b=!1),Xt(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==er){this.m=4,ft(15),Xt(this.i,this.l,X,"[Invalid Chunk]"),b=!1;break}else Xt(this.i,this.l,Wn,null),$r(this,Wn);if(jr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||X.length!=0||this.h.h||(this.m=1,ft(16),b=!1),this.o=this.o&&b,!b)Xt(this.i,this.l,X,"[Invalid Chunked Response]"),Li(this),Hr(this);else if(X.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Oo(ot),ot.P=!0,ft(11))}}else Xt(this.i,this.l,X,null),$r(this,X);Yt==4&&Li(this),this.o&&!this.K&&(Yt==4?Wc(this.j,this):(this.o=!1,Mi(this)))}else ja(this.g),O==400&&X.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),Li(this),Hr(this)}}}catch{}};function ri(b){if(!jr(b))return b.g.la();const O=Dr(b.g);if(O==="")return"";let X="";const ue=O.length,je=Pi(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return Li(b),Hr(b),"";b.h.i=new f.TextDecoder}for(let Ke=0;Ke<ue;Ke++)b.h.h=!0,X+=b.h.i.decode(O[Ke],{stream:!(je&&Ke==ue-1)});return O.length=0,b.h.g+=X,b.C=0,b.h.g}function jr(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function Oa(b,O){var X=b.C,ue=O.indexOf(`
`,X);return ue==-1?tn:(X=Number(O.substring(X,ue)),isNaN(X)?er:(ue+=1,ue+X>O.length?tn:(O=O.slice(ue,ue+X),b.C=ue+X,O)))}ti.prototype.cancel=function(){this.K=!0,Li(this)};function Mi(b){b.T=Date.now()+b.H,fa(b,b.H)}function fa(b,O){if(b.D!=null)throw Error("WatchDog timer not null");b.D=kt(v(b.aa,b),O)}function ii(b){b.D&&(f.clearTimeout(b.D),b.D=null)}ti.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?(on(this.i,this.B),this.M!=2&&(ut(),ft(17)),Li(this),this.m=2,Hr(this)):fa(this,this.T-b)};function Hr(b){b.j.I==0||b.K||Wc(b.j,b)}function Li(b){ii(b);var O=b.O;O&&typeof O.dispose=="function"&&O.dispose(),b.O=null,j(b.V),b.g&&(O=b.g,b.g=null,O.abort(),O.dispose())}function $r(b,O){try{var X=b.j;if(X.I!=0&&(X.g==b||Xr(X.h,b))){if(!b.L&&Xr(X.h,b)&&X.I==3){try{var ue=X.Ba.g.parse(O)}catch{ue=null}if(Array.isArray(ue)&&ue.length==3){var je=ue;if(je[0]==0){e:if(!X.v){if(X.g)if(X.g.F+3e3<b.F)kl(X),Rr(X);else break e;qa(X),ft(18)}}else X.xa=je[1],0<X.xa-X.K&&je[2]<37500&&X.F&&X.A==0&&!X.C&&(X.C=kt(v(X.Va,X),6e3));xt(X.h)<=1&&X.ta&&(X.ta=void 0)}else Wa(X,11)}else if((b.L||X.g==b)&&kl(X),!Z(O))for(je=X.Ba.g.parse(O),O=0;O<je.length;O++){let nn=je[O];const Wn=nn[0];if(!(Wn<=X.K))if(X.K=Wn,nn=nn[1],X.I==2)if(nn[0]=="c"){X.M=nn[1],X.ba=nn[2];const zi=nn[3];zi!=null&&(X.ka=zi,X.j.info("VER="+X.ka));const Ya=nn[4];Ya!=null&&(X.za=Ya,X.j.info("SVER="+X.za));const Bi=nn[5];Bi!=null&&typeof Bi=="number"&&Bi>0&&(ue=1.5*Bi,X.O=ue,X.j.info("backChannelRequestTimeoutMs_="+ue)),ue=X;const Zi=b.g;if(Zi){const Mo=Zi.g?Zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mo){var Ke=ue.h;Ke.g||Mo.indexOf("spdy")==-1&&Mo.indexOf("quic")==-1&&Mo.indexOf("h2")==-1||(Ke.j=Ke.l,Ke.g=new Set,Ke.h&&(Co(Ke,Ke.h),Ke.h=null))}if(ue.G){const Dl=Zi.g?Zi.g.getResponseHeader("X-HTTP-Session-Id"):null;Dl&&(ue.wa=Dl,pn(ue.J,ue.G,Dl))}}X.I=3,X.l&&X.l.ra(),X.aa&&(X.T=Date.now()-b.F,X.j.info("Handshake RTT: "+X.T+"ms")),ue=X;var ot=b;if(ue.na=Ku(ue,ue.L?ue.ba:null,ue.W),ot.L){gi(ue.h,ot);var Yt=ot,nr=ue.O;nr&&(Yt.H=nr),Yt.D&&(ii(Yt),Mi(Yt)),ue.g=ot}else Xi(ue);X.i.length>0&&Ha(X)}else nn[0]!="stop"&&nn[0]!="close"||Wa(X,7);else X.I==3&&(nn[0]=="stop"||nn[0]=="close"?nn[0]=="stop"?Wa(X,7):Sl(X):nn[0]!="noop"&&X.l&&X.l.qa(nn),X.A=0)}}ut(4)}catch{}}var tr=class{constructor(b,O){this.g=b,this.map=O}};function bl(b){this.l=b||10,f.PerformanceNavigationTiming?(b=f.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Un(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function xt(b){return b.h?1:b.g?b.g.size:0}function Xr(b,O){return b.h?b.h==O:b.g?b.g.has(O):!1}function Co(b,O){b.g?b.g.add(O):b.h=O}function gi(b,O){b.h&&b.h==O?b.h=null:b.g&&b.g.has(O)&&b.g.delete(O)}bl.prototype.cancel=function(){if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function ln(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let O=b.i;for(const X of b.g.values())O=O.concat(X.G);return O}return C(b.i)}var Ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function La(b,O){if(b){b=b.split("&");for(let X=0;X<b.length;X++){const ue=b[X].indexOf("=");let je,Ke=null;ue>=0?(je=b[X].substring(0,ue),Ke=b[X].substring(ue+1)):je=b[X],O(je,Ke?decodeURIComponent(Ke.replace(/\+/g," ")):"")}}}function ai(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let O;b instanceof ai?(this.l=b.l,St(this,b.j),this.o=b.o,this.g=b.g,Pa(this,b.u),this.h=b.h,Ao(this,Wu(b.i)),this.m=b.m):b&&(O=String(b).match(Ma))?(this.l=!1,St(this,O[1]||"",!0),this.o=ha(O[2]||""),this.g=ha(O[3]||"",!0),Pa(this,O[4]),this.h=ha(O[5]||"",!0),Ao(this,O[6]||"",!0),this.m=ha(O[7]||"")):(this.l=!1,this.i=new Ki(null,this.l))}ai.prototype.toString=function(){const b=[];var O=this.j;O&&b.push(Mt(O,ko,!0),":");var X=this.g;return(X||O=="file")&&(b.push("//"),(O=this.o)&&b.push(Mt(O,ko,!0),"@"),b.push(Yi(X).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X=this.u,X!=null&&b.push(":",String(X))),(X=this.h)&&(this.g&&X.charAt(0)!="/"&&b.push("/"),b.push(Mt(X,X.charAt(0)=="/"?vi:Do,!0))),(X=this.i.toString())&&b.push("?",X),(X=this.m)&&b.push("#",Mt(X,Hu)),b.join("")},ai.prototype.resolve=function(b){const O=et(this);let X=!!b.j;X?St(O,b.j):X=!!b.o,X?O.o=b.o:X=!!b.g,X?O.g=b.g:X=b.u!=null;var ue=b.h;if(X)Pa(O,b.u);else if(X=!!b.h){if(ue.charAt(0)!="/")if(this.g&&!this.h)ue="/"+ue;else{var je=O.h.lastIndexOf("/");je!=-1&&(ue=O.h.slice(0,je+1)+ue)}if(je=ue,je==".."||je==".")ue="";else if(je.indexOf("./")!=-1||je.indexOf("/.")!=-1){ue=je.lastIndexOf("/",0)==0,je=je.split("/");const Ke=[];for(let ot=0;ot<je.length;){const Yt=je[ot++];Yt=="."?ue&&ot==je.length&&Ke.push(""):Yt==".."?((Ke.length>1||Ke.length==1&&Ke[0]!="")&&Ke.pop(),ue&&ot==je.length&&Ke.push("")):(Ke.push(Yt),ue=!0)}ue=Ke.join("/")}else ue=je}return X?O.h=ue:X=b.i.toString()!=="",X?Ao(O,Wu(b.i)):X=!!b.m,X&&(O.m=b.m),O};function et(b){return new ai(b)}function St(b,O,X){b.j=X?ha(O,!0):O,b.j&&(b.j=b.j.replace(/:$/,""))}function Pa(b,O){if(O){if(O=Number(O),isNaN(O)||O<0)throw Error("Bad port number "+O);b.u=O}else b.u=null}function Ao(b,O,X){O instanceof Ki?(b.i=O,wl(b.i,b.l)):(X||(O=Mt(O,us)),b.i=new Ki(O,b.l))}function pn(b,O,X){b.i.set(O,X)}function Fa(b){return pn(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function ha(b,O){return b?O?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Mt(b,O,X){return typeof b=="string"?(b=encodeURI(b).replace(O,yi),X&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function yi(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var ko=/[#\/\?@]/g,Do=/[#\?:]/g,vi=/[#\?]/g,us=/[#\?@]/g,Hu=/#/g;function Ki(b,O){this.h=this.g=null,this.i=b||null,this.j=!!O}function Zr(b){b.g||(b.g=new Map,b.h=0,b.i&&La(b.i,function(O,X){b.add(decodeURIComponent(O.replace(/\+/g," ")),X)}))}n=Ki.prototype,n.add=function(b,O){Zr(this),this.i=null,b=cs(this,b);let X=this.g.get(b);return X||this.g.set(b,X=[]),X.push(O),this.h+=1,this};function qu(b,O){Zr(b),O=cs(b,O),b.g.has(O)&&(b.i=null,b.h-=b.g.get(O).length,b.g.delete(O))}function Ro(b,O){return Zr(b),O=cs(b,O),b.g.has(O)}n.forEach=function(b,O){Zr(this),this.g.forEach(function(X,ue){X.forEach(function(je){b.call(O,je,ue,this)},this)},this)};function _l(b,O){Zr(b);let X=[];if(typeof O=="string")Ro(b,O)&&(X=X.concat(b.g.get(cs(b,O))));else for(b=Array.from(b.g.values()),O=0;O<b.length;O++)X=X.concat(b[O]);return X}n.set=function(b,O){return Zr(this),this.i=null,b=cs(this,b),Ro(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[O]),this.h+=1,this},n.get=function(b,O){return b?(b=_l(this,b),b.length>0?String(b[0]):O):O};function Io(b,O,X){qu(b,O),X.length>0&&(b.i=null,b.g.set(cs(b,O),C(X)),b.h+=X.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],O=Array.from(this.g.keys());for(let ue=0;ue<O.length;ue++){var X=O[ue];const je=Yi(X);X=_l(this,X);for(let Ke=0;Ke<X.length;Ke++){let ot=je;X[Ke]!==""&&(ot+="="+Yi(X[Ke])),b.push(ot)}}return this.i=b.join("&")};function Wu(b){const O=new Ki;return O.i=b.i,b.g&&(O.g=new Map(b.g),O.h=b.h),O}function cs(b,O){return O=String(O),b.j&&(O=O.toLowerCase()),O}function wl(b,O){O&&!b.j&&(Zr(b),b.i=null,b.g.forEach(function(X,ue){const je=ue.toLowerCase();ue!=je&&(qu(this,ue),Io(this,je,X))},b)),b.j=O}function da(b,O){const X=new Rt;if(f.Image){const ue=new Image;ue.onload=_(mr,X,"TestLoadImage: loaded",!0,O,ue),ue.onerror=_(mr,X,"TestLoadImage: error",!1,O,ue),ue.onabort=_(mr,X,"TestLoadImage: abort",!1,O,ue),ue.ontimeout=_(mr,X,"TestLoadImage: timeout",!1,O,ue),f.setTimeout(function(){ue.ontimeout&&ue.ontimeout()},1e4),ue.src=b}else O(!1)}function xl(b,O){const X=new Rt,ue=new AbortController,je=setTimeout(()=>{ue.abort(),mr(X,"TestPingServer: timeout",!1,O)},1e4);fetch(b,{signal:ue.signal}).then(Ke=>{clearTimeout(je),Ke.ok?mr(X,"TestPingServer: ok",!0,O):mr(X,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(je),mr(X,"TestPingServer: error",!1,O)})}function mr(b,O,X,ue,je){try{je&&(je.onload=null,je.onerror=null,je.onabort=null,je.ontimeout=null),ue(X)}catch{}}function Hs(){this.g=new D}function za(b){this.i=b.Sb||null,this.h=b.ab||!1}x(za,Y),za.prototype.g=function(){return new Ba(this.i,this.h)};function Ba(b,O){ke.call(this),this.H=b,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Ba,ke),n=Ba.prototype,n.open=function(b,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=O,this.readyState=1,pa(this)},n.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const O={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(O.body=b),(this.H||f).fetch(new Request(this.D,O)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},n.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,pa(this)),this.g&&(this.readyState=3,pa(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ua(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ua(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}n.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var O=b.value?b.value:new Uint8Array(0);(O=this.B.decode(O,{stream:!b.done}))&&(this.response=this.responseText+=O)}b.done?qs(this):pa(this),this.readyState==3&&Ua(this)}},n.Oa=function(b){this.g&&(this.response=this.responseText=b,qs(this))},n.Na=function(b){this.g&&(this.response=b,qs(this))},n.ga=function(){this.g&&qs(this)};function qs(b){b.readyState=4,b.l=null,b.j=null,b.B=null,pa(b)}n.setRequestHeader=function(b,O){this.A.append(b,O)},n.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],O=this.h.entries();for(var X=O.next();!X.done;)X=X.value,b.push(X[0]+": "+X[1]),X=O.next();return b.join(`\r
`)};function pa(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(Ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function Qi(b){let O="";return Fe(b,function(X,ue){O+=ue,O+=":",O+=X,O+=`\r
`}),O}function No(b,O,X){e:{for(ue in X){var ue=!1;break e}ue=!0}ue||(X=Qi(X),typeof b=="string"?X!=null&&Yi(X):pn(b,O,X))}function bn(b){ke.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(bn,ke);var ma=/^https?$/i,Gu=["POST","PUT"];n=bn.prototype,n.Fa=function(b){this.H=b},n.ea=function(b,O,X,ue){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);O=O?O.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Na.g(),this.g.onreadystatechange=T(v(this.Ca,this));try{this.B=!0,this.g.open(O,String(b),!0),this.B=!1}catch(Ke){Ws(this,Ke);return}if(b=X||"",X=new Map(this.headers),ue)if(Object.getPrototypeOf(ue)===Object.prototype)for(var je in ue)X.set(je,ue[je]);else if(typeof ue.keys=="function"&&typeof ue.get=="function")for(const Ke of ue.keys())X.set(Ke,ue.get(Ke));else throw Error("Unknown input type for opt_headers: "+String(ue));ue=Array.from(X.keys()).find(Ke=>Ke.toLowerCase()=="content-type"),je=f.FormData&&b instanceof f.FormData,!(Array.prototype.indexOf.call(Gu,O,void 0)>=0)||ue||je||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ke,ot]of X)this.g.setRequestHeader(Ke,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(Ke){Ws(this,Ke)}};function Ws(b,O){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=O,b.o=5,El(b),$i(b)}function El(b){b.A||(b.A=!0,Me(b,"complete"),Me(b,"error"))}n.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,Me(this,"complete"),Me(this,"abort"),$i(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),bn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Va(this):this.Xa())},n.Xa=function(){Va(this)};function Va(b){if(b.h&&typeof u<"u"){if(b.v&&Pi(b)==4)setTimeout(b.Ca.bind(b),0);else if(Me(b,"readystatechange"),Pi(b)==4){b.h=!1;try{const Ke=b.ca();e:switch(Ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var X;if(!(X=O)){var ue;if(ue=Ke===0){let ot=String(b.D).match(Ma)[1]||null;!ot&&f.self&&f.self.location&&(ot=f.self.location.protocol.slice(0,-1)),ue=!ma.test(ot?ot.toLowerCase():"")}X=ue}if(X)Me(b,"complete"),Me(b,"success");else{b.o=6;try{var je=Pi(b)>2?b.g.statusText:""}catch{je=""}b.l=je+" ["+b.ca()+"]",El(b)}}finally{$i(b)}}}}function $i(b,O){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const X=b.g;b.g=null,O||Me(b,"ready");try{X.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Pi(b){return b.g?b.g.readyState:0}n.ca=function(){try{return Pi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(b){if(this.g){var O=this.g.responseText;return b&&O.indexOf(b)==0&&(O=O.substring(b.length)),ve(O)}};function Dr(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function ja(b){const O={};b=(b.g&&Pi(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let ue=0;ue<b.length;ue++){if(Z(b[ue]))continue;var X=js(b[ue]);const je=X[0];if(X=X[1],typeof X!="string")continue;X=X.trim();const Ke=O[je]||[];O[je]=Ke,Ke.push(X)}le(O,function(ue){return ue.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(b,O,X){return X&&X.internalChannelParams&&X.internalChannelParams[b]||O}function Gs(b){this.za=0,this.i=[],this.j=new Rt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,b),this.Za=Fi("retryDelaySeedMs",1e4,b),this.Ta=Fi("forwardChannelMaxRetries",2,b),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new bl(b&&b.concurrentRequestLimit),this.Ba=new Hs,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Gs.prototype,n.ka=8,n.I=1,n.connect=function(b,O,X,ue){ft(0),this.W=b,this.H=O||{},X&&ue!==void 0&&(this.H.OSID=X,this.H.OAID=ue),this.F=this.X,this.J=Ku(this,null,this.W),Ha(this)};function Sl(b){if(Tl(b),b.I==3){var O=b.V++,X=et(b.J);if(pn(X,"SID",b.M),pn(X,"RID",O),pn(X,"TYPE","terminate"),bi(b,X),O=new ti(b,b.j,O),O.M=2,O.A=Fa(et(X)),X=!1,f.navigator&&f.navigator.sendBeacon)try{X=f.navigator.sendBeacon(O.A.toString(),"")}catch{}!X&&f.Image&&(new Image().src=O.A,X=!0),X||(O.g=Yc(O.j,null),O.g.ea(O.A)),O.F=Date.now(),Mi(O)}Yu(b)}function Rr(b){b.g&&(Oo(b),b.g.cancel(),b.g=null)}function Tl(b){Rr(b),b.v&&(f.clearTimeout(b.v),b.v=null),kl(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&f.clearTimeout(b.m),b.m=null)}function Ha(b){if(!Un(b.h)&&!b.m){b.m=!0;var O=b.Ea;te||Q(),ne||(te(),ne=!0),B.add(O,b),b.D=0}}function Ys(b,O){return xt(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=O.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=kt(v(b.Ea,b,O),Gc(b,b.D)),b.D++,!0)}n.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const je=new ti(this,this.j,b);let Ke=this.o;if(this.U&&(Ke?(Ke=se(Ke),A(Ke,this.U)):Ke=this.U),this.u!==null||this.R||(je.J=Ke,Ke=null),this.S)e:{for(var O=0,X=0;X<this.i.length;X++){t:{var ue=this.i[X];if("__data__"in ue.map&&(ue=ue.map.__data__,typeof ue=="string")){ue=ue.length;break t}ue=void 0}if(ue===void 0)break;if(O+=ue,O>4096){O=X;break e}if(O===4096||X===this.i.length-1){O=X+1;break e}}O=1e3}else O=1e3;O=Al(this,je,O),X=et(this.J),pn(X,"RID",b),pn(X,"CVER",22),this.G&&pn(X,"X-HTTP-Session-Id",this.G),bi(this,X),Ke&&(this.R?O="headers="+Yi(Qi(Ke))+"&"+O:this.u&&No(X,this.u,Ke)),Co(this.h,je),this.Ra&&pn(X,"TYPE","init"),this.S?(pn(X,"$req",O),pn(X,"SID","null"),je.U=!0,_r(je,X,null)):_r(je,X,O),this.I=2}}else this.I==3&&(b?Cl(this,b):this.i.length==0||Un(this.h)||Cl(this))};function Cl(b,O){var X;O?X=O.l:X=b.V++;const ue=et(b.J);pn(ue,"SID",b.M),pn(ue,"RID",X),pn(ue,"AID",b.K),bi(b,ue),b.u&&b.o&&No(ue,b.u,b.o),X=new ti(b,b.j,X,b.D+1),b.u===null&&(X.J=b.o),O&&(b.i=O.G.concat(b.i)),O=Al(b,X,1e3),X.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),Co(b.h,X),_r(X,ue,O)}function bi(b,O){b.H&&Fe(b.H,function(X,ue){pn(O,ue,X)}),b.l&&Fe({},function(X,ue){pn(O,ue,X)})}function Al(b,O,X){X=Math.min(b.i.length,X);const ue=b.l?v(b.l.Ka,b.l,b):null;e:{var je=b.i;let Yt=-1;for(;;){const nr=["count="+X];Yt==-1?X>0?(Yt=je[0].g,nr.push("ofs="+Yt)):Yt=0:nr.push("ofs="+Yt);let nn=!0;for(let Wn=0;Wn<X;Wn++){var Ke=je[Wn].g;const zi=je[Wn].map;if(Ke-=Yt,Ke<0)Yt=Math.max(0,je[Wn].g-100),nn=!1;else try{Ke="req"+Ke+"_"||"";try{var ot=zi instanceof Map?zi:Object.entries(zi);for(const[Ya,Bi]of ot){let Zi=Bi;m(Bi)&&(Zi=G(Bi)),nr.push(Ke+Ya+"="+encodeURIComponent(Zi))}}catch(Ya){throw nr.push(Ke+"type="+encodeURIComponent("_badmap")),Ya}}catch{ue&&ue(zi)}}if(nn){ot=nr.join("&");break e}}ot=void 0}return b=b.i.splice(0,X),O.G=b,ot}function Xi(b){if(!b.g&&!b.v){b.Y=1;var O=b.Da;te||Q(),ne||(te(),ne=!0),B.add(O,b),b.A=0}}function qa(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=kt(v(b.Da,b),Gc(b,b.A)),b.A++,!0)}n.Da=function(){if(this.v=null,fs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=kt(v(this.Wa,this),b)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),Rr(this),fs(this))};function Oo(b){b.B!=null&&(f.clearTimeout(b.B),b.B=null)}function fs(b){b.g=new ti(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var O=et(b.na);pn(O,"RID","rpc"),pn(O,"SID",b.M),pn(O,"AID",b.K),pn(O,"CI",b.F?"0":"1"),!b.F&&b.ia&&pn(O,"TO",b.ia),pn(O,"TYPE","xmlhttp"),bi(b,O),b.u&&b.o&&No(O,b.u,b.o),b.O&&(b.g.H=b.O);var X=b.g;b=b.ba,X.M=1,X.A=Fa(et(O)),X.u=null,X.R=!0,Qr(X,b)}n.Va=function(){this.C!=null&&(this.C=null,Rr(this),qa(this),ft(19))};function kl(b){b.C!=null&&(f.clearTimeout(b.C),b.C=null)}function Wc(b,O){var X=null;if(b.g==O){kl(b),Oo(b),b.g=null;var ue=2}else if(Xr(b.h,O))X=O.G,gi(b.h,O),ue=1;else return;if(b.I!=0){if(O.o)if(ue==1){X=O.u?O.u.length:0,O=Date.now()-O.F;var je=b.D;ue=Oe(),Me(ue,new at(ue,X)),Ha(b)}else Xi(b);else if(je=O.m,je==3||je==0&&O.X>0||!(ue==1&&Ys(b,O)||ue==2&&qa(b)))switch(X&&X.length>0&&(O=b.h,O.i=O.i.concat(X)),je){case 1:Wa(b,5);break;case 4:Wa(b,10);break;case 3:Wa(b,6);break;default:Wa(b,2)}}}function Gc(b,O){let X=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(X*=2),X*O}function Wa(b,O){if(b.j.info("Error code "+O),O==2){var X=v(b.bb,b),ue=b.Ua;const je=!ue;ue=new ai(ue||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||St(ue,"https"),Fa(ue),je?da(ue.toString(),X):xl(ue.toString(),X)}else ft(2);b.I=0,b.l&&b.l.pa(O),Yu(b),Tl(b)}n.bb=function(b){b?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Yu(b){if(b.I=0,b.ja=[],b.l){const O=ln(b.h);(O.length!=0||b.i.length!=0)&&(L(b.ja,O),L(b.ja,b.i),b.h.i.length=0,C(b.i),b.i.length=0),b.l.oa()}}function Ku(b,O,X){var ue=X instanceof ai?et(X):new ai(X);if(ue.g!="")O&&(ue.g=O+"."+ue.g),Pa(ue,ue.u);else{var je=f.location;ue=je.protocol,O=O?O+"."+je.hostname:je.hostname,je=+je.port;const Ke=new ai(null);ue&&St(Ke,ue),O&&(Ke.g=O),je&&Pa(Ke,je),X&&(Ke.h=X),ue=Ke}return X=b.G,O=b.wa,X&&O&&pn(ue,X,O),pn(ue,"VER",b.ka),bi(b,ue),ue}function Yc(b,O,X){if(O&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return O=b.Aa&&!b.ma?new bn(new za({ab:X})):new bn(b.ma),O.Fa(b.L),O}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kc(){}n=Kc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ks(){}Ks.prototype.g=function(b,O){return new si(b,O)};function si(b,O){ke.call(this),this.g=new Gs(O),this.l=b,this.h=O&&O.messageUrlParams||null,b=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(b?b["X-WebChannel-Content-Type"]=O.messageContentType:b={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.sa&&(b?b["X-WebChannel-Client-Profile"]=O.sa:b={"X-WebChannel-Client-Profile":O.sa}),this.g.U=b,(b=O&&O.Qb)&&!Z(b)&&(this.g.u=b),this.A=O&&O.supportsCrossDomainXhr||!1,this.v=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!Z(O)&&(this.g.G=O,b=this.h,b!==null&&O in b&&(b=this.h,O in b&&delete b[O])),this.j=new Ga(this)}x(si,ke),si.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},si.prototype.close=function(){Sl(this.g)},si.prototype.o=function(b){var O=this.g;if(typeof b=="string"){var X={};X.__data__=b,b=X}else this.v&&(X={},X.__data__=G(b),b=X);O.i.push(new tr(O.Ya++,b)),O.I==3&&Ha(O)},si.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,si.Z.N.call(this)};function Qu(b){Se.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var O=b.__sm__;if(O){e:{for(const X in O){b=X;break e}b=void 0}(this.i=b)&&(b=this.i,O=O!==null&&b in O?O[b]:void 0),this.data=O}else this.data=b}x(Qu,Se);function Qc(){Ie.call(this),this.status=1}x(Qc,Ie);function Ga(b){this.g=b}x(Ga,Kc),Ga.prototype.ra=function(){Me(this.g,"a")},Ga.prototype.qa=function(b){Me(this.g,new Qu(b))},Ga.prototype.pa=function(b){Me(this.g,new Qc)},Ga.prototype.oa=function(){Me(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,si.prototype.send=si.prototype.o,si.prototype.open=si.prototype.m,si.prototype.close=si.prototype.close,BS=function(){return new Ks},zS=function(){return Oe()},FS=xe,d0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Jn.NO_ERROR=0,Jn.TIMEOUT=8,Jn.HTTP_ERROR=6,sg=Jn,or.COMPLETE="complete",PS=or,ce.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",ke.prototype.listen=ke.prototype.J,Yd=ce,bn.prototype.listenOnce=bn.prototype.K,bn.prototype.getLastError=bn.prototype.Ha,bn.prototype.getLastErrorCode=bn.prototype.ya,bn.prototype.getStatus=bn.prototype.ca,bn.prototype.getResponseJson=bn.prototype.La,bn.prototype.getResponseText=bn.prototype.la,bn.prototype.send=bn.prototype.ea,bn.prototype.setWithCredentials=bn.prototype.Fa,LS=bn}).apply(typeof Gm<"u"?Gm:typeof self<"u"?self:typeof window<"u"?window:{});class Ri{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ri.UNAUTHENTICATED=new Ri(null),Ri.GOOGLE_CREDENTIALS=new Ri("google-credentials-uid"),Ri.FIRST_PARTY=new Ri("first-party-uid"),Ri.MOCK_USER=new Ri("mock-user");let xh="12.8.0";function AI(n){xh=n}const Lc=new t1("@firebase/firestore");function Qf(){return Lc.logLevel}function Et(n,...e){if(Lc.logLevel<=fn.DEBUG){const t=e.map(i1);Lc.debug(`Firestore (${xh}): ${n}`,...t)}}function hl(n,...e){if(Lc.logLevel<=fn.ERROR){const t=e.map(i1);Lc.error(`Firestore (${xh}): ${n}`,...t)}}function lh(n,...e){if(Lc.logLevel<=fn.WARN){const t=e.map(i1);Lc.warn(`Firestore (${xh}): ${n}`,...t)}}function i1(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Bt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,US(n,r,t)}function US(n,e,t){let r=`FIRESTORE (${xh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw hl(r),new Error(r)}function Cn(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||US(e,o,r)}function qt(n,e){return n}const Je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends yl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class VS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ri.UNAUTHENTICATED)))}shutdown(){}}class DI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class RI{constructor(e){this.t=e,this.currentUser=Ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Cn(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let u=new yo;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yo,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{Et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Et("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yo)}}),0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Cn(typeof r.accessToken=="string",31837,{l:r}),new VS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Cn(e===null||typeof e=="string",2055,{h:e}),new Ri(e)}}class II{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ri.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class NI{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new II(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ri.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ps(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Cn(this.o===void 0,3512);const r=u=>{u.error!=null&&Et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Et("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{Et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Cn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new hw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function MI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class a1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=MI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%62))}return r}}function hn(n,e){return n<e?-1:n>e?1:0}function p0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),u=e.charAt(r);if(o!==u)return Nv(o)===Nv(u)?hn(o,u):Nv(o)?1:-1}return hn(n.length,e.length)}const LI=55296,PI=57343;function Nv(n){const e=n.charCodeAt(0);return e>=LI&&e<=PI}function uh(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}const m0="__name__";class ho{constructor(e,t,r){t===void 0?t=0:t>e.length&&Bt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Bt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ho.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ho?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=ho.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return hn(e.length,t.length)}static compareSegments(e,t){const r=ho.isNumericId(e),o=ho.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?ho.extractNumericId(e).compare(ho.extractNumericId(t)):p0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Iu.fromString(e.substring(4,e.length-2))}}class qn extends ho{construct(e,t,r){return new qn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new bt(Je.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new qn(t)}static emptyPath(){return new qn([])}}const FI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pi extends ho{construct(e,t,r){return new pi(e,t,r)}static isValidIdentifier(e){return FI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m0}static keyField(){return new pi([m0])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(r.length===0)throw new bt(Je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new bt(Je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new bt(Je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new bt(Je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pi(t)}static emptyPath(){return new pi([])}}class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(qn.fromString(e))}static fromName(e){return new Ot(qn.fromString(e).popFirst(5))}static empty(){return new Ot(qn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new qn(e.slice()))}}function jS(n,e,t){if(!t)throw new bt(Je.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zI(n,e,t,r){if(e===!0&&r===!0)throw new bt(Je.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function dw(n){if(!Ot.isDocumentKey(n))throw new bt(Je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pw(n){if(Ot.isDocumentKey(n))throw new bt(Je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function HS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function $g(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Bt(12329,{type:typeof n})}function ka(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new bt(Je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$g(n);throw new bt(Je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ur(n,e){const t={typeString:n};return e&&(t.value=e),t}function Ap(n,e){if(!HS(n))throw new bt(Je.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const f=n[r];if(o&&typeof f!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){t=`Expected '${r}' field to equal '${u.value}'`;break}}if(t)throw new bt(Je.INVALID_ARGUMENT,t);return!0}const mw=-62135596800,gw=1e6;class Zn{static now(){return Zn.fromMillis(Date.now())}static fromDate(e){return Zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*gw);return new Zn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new bt(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new bt(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mw)throw new bt(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new bt(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gw}_compareTo(e){return this.seconds===e.seconds?hn(this.nanoseconds,e.nanoseconds):hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ap(e,Zn._jsonSchema))return new Zn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zn._jsonSchemaVersion="firestore/timestamp/1.0",Zn._jsonSchema={type:Ur("string",Zn._jsonSchemaVersion),seconds:Ur("number"),nanoseconds:Ur("number")};class Gt{static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new Zn(0,0))}static max(){return new Gt(new Zn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fp=-1;function BI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Gt.fromTimestamp(r===1e9?new Zn(t+1,0):new Zn(t,r));return new Ou(o,Ot.empty(),e)}function UI(n){return new Ou(n.readTime,n.key,fp)}class Ou{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ou(Gt.min(),Ot.empty(),fp)}static max(){return new Ou(Gt.max(),Ot.empty(),fp)}}function VI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ot.comparator(n.documentKey,e.documentKey),t!==0?t:hn(n.largestBatchId,e.largestBatchId))}const jI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eh(n){if(n.code!==Je.FAILED_PRECONDITION||n.message!==jI)throw n;Et("LocalStore","Unexpectedly lost primary lease")}class st{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new st(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof st?t:st.resolve(t)}catch(t){return st.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):st.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):st.reject(t)}static resolve(e){return new st(((t,r)=>{t(e)}))}static reject(e){return new st(((t,r)=>{r(e)}))}static waitFor(e){return new st(((t,r)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&t()}),(g=>r(g)))})),f=!0,u===o&&t()}))}static or(e){let t=st.resolve(!1);for(const r of e)t=t.next((o=>o?st.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,u)=>{r.push(t.call(this,o,u))})),this.waitFor(r)}static mapArray(e,t){return new st(((r,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const v=g;t(e[v]).next((_=>{f[v]=_,++m,m===u&&r(f)}),(_=>o(_)))}}))}static doWhile(e,t){return new st(((r,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):r()};u()}))}}function qI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sh(n){return n.name==="IndexedDbTransactionError"}class Xg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xg.ce=-1;const s1=-1;function Zg(n){return n==null}function Eg(n){return n===0&&1/n==-1/0}function WI(n){return typeof n=="number"&&Number.isInteger(n)&&!Eg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const qS="";function GI(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yw(e)),e=YI(n.get(t),e);return yw(e)}function YI(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="";break;case qS:t+="";break;default:t+=u}}return t}function yw(n){return n+qS+""}function vw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Uu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KI(n,e){const t=[];for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.push(e(n[r],r,n));return t}function WS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class dr{constructor(e,t){this.comparator=e,this.root=t||di.EMPTY}insert(e,t){return new dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,di.BLACK,null,null))}remove(e){return new dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ym(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ym(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ym(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ym(this.root,e,this.comparator,!0)}}class Ym{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class di{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??di.RED,this.left=o??di.EMPTY,this.right=u??di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new di(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return di.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Bt(27949);return e+(this.isRed()?0:1)}}di.EMPTY=null,di.RED=!0,di.BLACK=!1;di.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt(57766)}get value(){throw Bt(16141)}get color(){throw Bt(16727)}get left(){throw Bt(29726)}get right(){throw Bt(36894)}copy(e,t,r,o,u){return this}insert(e,t,r){return new di(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kr{constructor(e){this.comparator=e,this.data=new dr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bw(this.data.getIterator())}getIteratorFrom(e){return new bw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Kr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Kr(this.comparator);return t.data=e,t}}class bw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ca{constructor(e){this.fields=e,e.sort(pi.comparator)}static empty(){return new Ca([])}unionWith(e){let t=new Kr(pi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ca(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class GS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new GS("Invalid base64 string: "+u):u}})(e);return new mi(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new mi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mi.EMPTY_BYTE_STRING=new mi("");const QI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mu(n){if(Cn(!!n,39018),typeof n=="string"){let e=0;const t=QI.exec(n);if(Cn(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Sr(n.seconds),nanos:Sr(n.nanos)}}function Sr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Lu(n){return typeof n=="string"?mi.fromBase64String(n):mi.fromUint8Array(n)}const YS="server_timestamp",KS="__type__",QS="__previous_value__",$S="__local_write_time__";function Jg(n){return(n?.mapValue?.fields||{})[KS]?.stringValue===YS}function ey(n){const e=n.mapValue.fields[QS];return Jg(e)?ey(e):e}function hp(n){const e=Mu(n.mapValue.fields[$S].timestampValue);return new Zn(e.seconds,e.nanos)}class $I{constructor(e,t,r,o,u,f,m,g,v,_,x){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=_,this.apiKey=x}}const Sg="(default)";class dp{constructor(e,t){this.projectId=e,this.database=t||Sg}static empty(){return new dp("","")}get isDefaultDatabase(){return this.database===Sg}isEqual(e){return e instanceof dp&&e.projectId===this.projectId&&e.database===this.database}}function XI(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new bt(Je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dp(n.options.projectId,e)}const XS="__type__",ZI="__max__",Km={mapValue:{}},ZS="__vector__",Tg="value";function Pu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jg(n)?4:eN(n)?9007199254740991:JI(n)?10:11:Bt(28295,{value:n})}function xo(n,e){if(n===e)return!0;const t=Pu(n);if(t!==Pu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hp(n).isEqual(hp(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Mu(o.timestampValue),m=Mu(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,u){return Lu(o.bytesValue).isEqual(Lu(u.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,u){return Sr(o.geoPointValue.latitude)===Sr(u.geoPointValue.latitude)&&Sr(o.geoPointValue.longitude)===Sr(u.geoPointValue.longitude)})(n,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Sr(o.integerValue)===Sr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Sr(o.doubleValue),m=Sr(u.doubleValue);return f===m?Eg(f)===Eg(m):isNaN(f)&&isNaN(m)}return!1})(n,e);case 9:return uh(n.arrayValue.values||[],e.arrayValue.values||[],xo);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(vw(f)!==vw(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!xo(f[g],m[g])))return!1;return!0})(n,e);default:return Bt(52216,{left:n})}}function pp(n,e){return(n.values||[]).find((t=>xo(t,e)))!==void 0}function ch(n,e){if(n===e)return 0;const t=Pu(n),r=Pu(e);if(t!==r)return hn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return hn(n.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Sr(u.integerValue||u.doubleValue),g=Sr(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(n,e);case 3:return _w(n.timestampValue,e.timestampValue);case 4:return _w(hp(n),hp(e));case 5:return p0(n.stringValue,e.stringValue);case 6:return(function(u,f){const m=Lu(u),g=Lu(f);return m.compareTo(g)})(n.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let v=0;v<m.length&&v<g.length;v++){const _=hn(m[v],g[v]);if(_!==0)return _}return hn(m.length,g.length)})(n.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=hn(Sr(u.latitude),Sr(f.latitude));return m!==0?m:hn(Sr(u.longitude),Sr(f.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ww(n.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},v=m[Tg]?.arrayValue,_=g[Tg]?.arrayValue,x=hn(v?.values?.length||0,_?.values?.length||0);return x!==0?x:ww(v,_)})(n.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Km.mapValue&&f===Km.mapValue)return 0;if(u===Km.mapValue)return 1;if(f===Km.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),v=f.fields||{},_=Object.keys(v);g.sort(),_.sort();for(let x=0;x<g.length&&x<_.length;++x){const T=p0(g[x],_[x]);if(T!==0)return T;const C=ch(m[g[x]],v[_[x]]);if(C!==0)return C}return hn(g.length,_.length)})(n.mapValue,e.mapValue);default:throw Bt(23264,{he:t})}}function _w(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return hn(n,e);const t=Mu(n),r=Mu(e),o=hn(t.seconds,r.seconds);return o!==0?o:hn(t.nanos,r.nanos)}function ww(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const u=ch(t[o],r[o]);if(u)return u}return hn(t.length,r.length)}function fh(n){return g0(n)}function g0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Mu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Lu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ot.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const u of t.values||[])o?o=!1:r+=",",r+=g0(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${g0(t.fields[f])}`;return o+"}"})(n.mapValue):Bt(61005,{value:n})}function og(n){switch(Pu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ey(n);return e?16+og(e):16;case 5:return 2*n.stringValue.length;case 6:return Lu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+og(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Uu(r.fields,((u,f)=>{o+=u.length+og(f)})),o})(n.mapValue);default:throw Bt(13486,{value:n})}}function Cg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function y0(n){return!!n&&"integerValue"in n}function o1(n){return!!n&&"arrayValue"in n}function xw(n){return!!n&&"nullValue"in n}function Ew(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lg(n){return!!n&&"mapValue"in n}function JI(n){return(n?.mapValue?.fields||{})[XS]?.stringValue===ZS}function Jd(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Uu(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Jd(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jd(n.arrayValue.values[t]);return e}return{...n}}function eN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ZI}class Wi{constructor(e){this.value=e}static empty(){return new Wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!lg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jd(t)}setAll(e){let t=pi.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,r,o),r={},o=[],t=m.popLast()}f?r[m.lastSegment()]=Jd(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());lg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];lg(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Uu(t,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new Wi(Jd(this.value))}}function JS(n){const e=[];return Uu(n.fields,((t,r)=>{const o=new pi([t]);if(lg(r)){const u=JS(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Ca(e)}class Ii{constructor(e,t,r,o,u,f,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ii(e,0,Gt.min(),Gt.min(),Gt.min(),Wi.empty(),0)}static newFoundDocument(e,t,r,o){return new Ii(e,1,t,Gt.min(),r,o,0)}static newNoDocument(e,t){return new Ii(e,2,t,Gt.min(),Gt.min(),Wi.empty(),0)}static newUnknownDocument(e,t){return new Ii(e,3,t,Gt.min(),Gt.min(),Wi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(e,t){this.position=e,this.inclusive=t}}function Sw(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],f=n.position[o];if(u.field.isKeyField()?r=Ot.comparator(Ot.fromName(f.referenceValue),t.key):r=ch(f,t.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Tw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xo(n.position[t],e.position[t]))return!1;return!0}class mp{constructor(e,t="asc"){this.field=e,this.dir=t}}function tN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class eT{}class Br extends eT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new rN(e,t,r):t==="array-contains"?new sN(e,r):t==="in"?new oN(e,r):t==="not-in"?new lN(e,r):t==="array-contains-any"?new uN(e,r):new Br(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new iN(e,r):new aN(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ch(t,this.value)):t!==null&&Pu(this.value)===Pu(t)&&this.matchesComparison(ch(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vs extends eT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Vs(e,t)}matches(e){return tT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tT(n){return n.op==="and"}function nT(n){return nN(n)&&tT(n)}function nN(n){for(const e of n.filters)if(e instanceof Vs)return!1;return!0}function v0(n){if(n instanceof Br)return n.field.canonicalString()+n.op.toString()+fh(n.value);if(nT(n))return n.filters.map((e=>v0(e))).join(",");{const e=n.filters.map((t=>v0(t))).join(",");return`${n.op}(${e})`}}function rT(n,e){return n instanceof Br?(function(r,o){return o instanceof Br&&r.op===o.op&&r.field.isEqual(o.field)&&xo(r.value,o.value)})(n,e):n instanceof Vs?(function(r,o){return o instanceof Vs&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&rT(f,o.filters[m])),!0):!1})(n,e):void Bt(19439)}function iT(n){return n instanceof Br?(function(t){return`${t.field.canonicalString()} ${t.op} ${fh(t.value)}`})(n):n instanceof Vs?(function(t){return t.op.toString()+" {"+t.getFilters().map(iT).join(" ,")+"}"})(n):"Filter"}class rN extends Br{constructor(e,t,r){super(e,t,r),this.key=Ot.fromName(r.referenceValue)}matches(e){const t=Ot.comparator(e.key,this.key);return this.matchesComparison(t)}}class iN extends Br{constructor(e,t){super(e,"in",t),this.keys=aT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class aN extends Br{constructor(e,t){super(e,"not-in",t),this.keys=aT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function aT(n,e){return(e.arrayValue?.values||[]).map((t=>Ot.fromName(t.referenceValue)))}class sN extends Br{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return o1(t)&&pp(t.arrayValue,this.value)}}class oN extends Br{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pp(this.value.arrayValue,t)}}class lN extends Br{constructor(e,t){super(e,"not-in",t)}matches(e){if(pp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pp(this.value.arrayValue,t)}}class uN extends Br{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!o1(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>pp(this.value.arrayValue,r)))}}class cN{constructor(e,t=null,r=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Cw(n,e=null,t=[],r=[],o=null,u=null,f=null){return new cN(n,e,t,r,o,u,f)}function l1(n){const e=qt(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>v0(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Zg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>fh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>fh(r))).join(",")),e.Te=t}return e.Te}function u1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Tw(n.startAt,e.startAt)&&Tw(n.endAt,e.endAt)}function b0(n){return Ot.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Vc{constructor(e,t=null,r=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function fN(n,e,t,r,o,u,f,m){return new Vc(n,e,t,r,o,u,f,m)}function ty(n){return new Vc(n)}function Aw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function hN(n){return Ot.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function c1(n){return n.collectionGroup!==null}function Jf(n){const e=qt(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Kr(pi.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new mp(u,r))})),t.has(pi.keyField().canonicalString())||e.Ie.push(new mp(pi.keyField(),r))}return e.Ie}function vo(n){const e=qt(n);return e.Ee||(e.Ee=sT(e,Jf(n))),e.Ee}function dN(n){const e=qt(n);return e.Re||(e.Re=sT(e,n.explicitOrderBy)),e.Re}function sT(n,e){if(n.limitType==="F")return Cw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new mp(o.field,u)}));const t=n.endAt?new hh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new hh(n.startAt.position,n.startAt.inclusive):null;return Cw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _0(n,e){const t=n.filters.concat([e]);return new Vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function pN(n,e){const t=n.explicitOrderBy.concat([e]);return new Vc(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Ag(n,e,t){return new Vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function mN(n,e){return new Vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,e,n.endAt)}function ny(n,e){return u1(vo(n),vo(e))&&n.limitType===e.limitType}function oT(n){return`${l1(vo(n))}|lt:${n.limitType}`}function $f(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>iT(o))).join(", ")}]`),Zg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>fh(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>fh(o))).join(",")),`Target(${r})`})(vo(n))}; limitType=${n.limitType})`}function ry(n,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Ot.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,e)&&(function(r,o){for(const u of Jf(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,g){const v=Sw(f,m,g);return f.inclusive?v<=0:v<0})(r.startAt,Jf(r),o)||r.endAt&&!(function(f,m,g){const v=Sw(f,m,g);return f.inclusive?v>=0:v>0})(r.endAt,Jf(r),o))})(n,e)}function gN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lT(n){return(e,t)=>{let r=!1;for(const o of Jf(n)){const u=yN(o,e,t);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function yN(n,e,t){const r=n.field.isKeyField()?Ot.comparator(e.key,t.key):(function(u,f,m){const g=f.data.field(u),v=m.data.field(u);return g!==null&&v!==null?ch(g,v):Bt(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Bt(19790,{direction:n.dir})}}class jc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Uu(this.inner,((t,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return WS(this.inner)}size(){return this.innerSize}}const vN=new dr(Ot.comparator);function dl(){return vN}const uT=new dr(Ot.comparator);function Kd(...n){let e=uT;for(const t of n)e=e.insert(t.key,t);return e}function cT(n){let e=uT;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function kc(){return ep()}function fT(){return ep()}function ep(){return new jc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const bN=new dr(Ot.comparator),_N=new Kr(Ot.comparator);function dn(...n){let e=_N;for(const t of n)e=e.add(t);return e}const wN=new Kr(hn);function xN(){return wN}function f1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eg(e)?"-0":e}}function hT(n){return{integerValue:""+n}}function EN(n,e){return WI(e)?hT(e):f1(n,e)}class iy{constructor(){this._=void 0}}function SN(n,e,t){return n instanceof gp?(function(o,u){const f={fields:{[KS]:{stringValue:YS},[$S]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jg(u)&&(u=ey(u)),u&&(f.fields[QS]=u),{mapValue:f}})(t,e):n instanceof yp?pT(n,e):n instanceof vp?mT(n,e):(function(o,u){const f=dT(o,u),m=kw(f)+kw(o.Ae);return y0(f)&&y0(o.Ae)?hT(m):f1(o.serializer,m)})(n,e)}function TN(n,e,t){return n instanceof yp?pT(n,e):n instanceof vp?mT(n,e):t}function dT(n,e){return n instanceof kg?(function(r){return y0(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class gp extends iy{}class yp extends iy{constructor(e){super(),this.elements=e}}function pT(n,e){const t=gT(e);for(const r of n.elements)t.some((o=>xo(o,r)))||t.push(r);return{arrayValue:{values:t}}}class vp extends iy{constructor(e){super(),this.elements=e}}function mT(n,e){let t=gT(e);for(const r of n.elements)t=t.filter((o=>!xo(o,r)));return{arrayValue:{values:t}}}class kg extends iy{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function kw(n){return Sr(n.integerValue||n.doubleValue)}function gT(n){return o1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class CN{constructor(e,t){this.field=e,this.transform=t}}function AN(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof yp&&o instanceof yp||r instanceof vp&&o instanceof vp?uh(r.elements,o.elements,xo):r instanceof kg&&o instanceof kg?xo(r.Ae,o.Ae):r instanceof gp&&o instanceof gp})(n.transform,e.transform)}class kN{constructor(e,t){this.version=e,this.transformResults=t}}class Da{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Da}static exists(e){return new Da(void 0,e)}static updateTime(e){return new Da(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ug(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ay{}function yT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sy(n.key,Da.none()):new kp(n.key,n.data,Da.none());{const t=n.data,r=Wi.empty();let o=new Kr(pi.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new Vu(n.key,r,new Ca(o.toArray()),Da.none())}}function DN(n,e,t){n instanceof kp?(function(o,u,f){const m=o.value.clone(),g=Rw(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(n,e,t):n instanceof Vu?(function(o,u,f){if(!ug(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Rw(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(vT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(n,e,t):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,t)}function tp(n,e,t,r){return n instanceof kp?(function(u,f,m,g){if(!ug(u.precondition,f))return m;const v=u.value.clone(),_=Iw(u.fieldTransforms,g,f);return v.setAll(_),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(n,e,t,r):n instanceof Vu?(function(u,f,m,g){if(!ug(u.precondition,f))return m;const v=Iw(u.fieldTransforms,g,f),_=f.data;return _.setAll(vT(u)),_.setAll(v),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(n,e,t,r):(function(u,f,m){return ug(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(n,e,t)}function RN(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=dT(r.transform,o||null);u!=null&&(t===null&&(t=Wi.empty()),t.set(r.field,u))}return t||null}function Dw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&uh(r,o,((u,f)=>AN(u,f)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class kp extends ay{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vu extends ay{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vT(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Rw(n,e,t){const r=new Map;Cn(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let o=0;o<t.length;o++){const u=n[o],f=u.transform,m=e.data.field(u.field);r.set(u.field,TN(f,m,t[o]))}return r}function Iw(n,e,t){const r=new Map;for(const o of n){const u=o.transform,f=t.data.field(o.field);r.set(o.field,SN(u,f,e))}return r}class sy extends ay{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IN extends ay{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NN{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&DN(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=tp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=tp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=fT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const g=yT(f,m);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Gt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),dn())}isEqual(e){return this.batchId===e.batchId&&uh(this.mutations,e.mutations,((t,r)=>Dw(t,r)))&&uh(this.baseMutations,e.baseMutations,((t,r)=>Dw(t,r)))}}class h1{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Cn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return bN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new h1(e,t,r,o)}}class ON{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MN{constructor(e,t,r){this.alias=e,this.aggregateType=t,this.fieldPath=r}}class LN{constructor(e,t){this.count=e,this.unchangedNames=t}}var Fr,gn;function PN(n){switch(n){case Je.OK:return Bt(64938);case Je.CANCELLED:case Je.UNKNOWN:case Je.DEADLINE_EXCEEDED:case Je.RESOURCE_EXHAUSTED:case Je.INTERNAL:case Je.UNAVAILABLE:case Je.UNAUTHENTICATED:return!1;case Je.INVALID_ARGUMENT:case Je.NOT_FOUND:case Je.ALREADY_EXISTS:case Je.PERMISSION_DENIED:case Je.FAILED_PRECONDITION:case Je.ABORTED:case Je.OUT_OF_RANGE:case Je.UNIMPLEMENTED:case Je.DATA_LOSS:return!0;default:return Bt(15467,{code:n})}}function bT(n){if(n===void 0)return hl("GRPC error has no .code"),Je.UNKNOWN;switch(n){case Fr.OK:return Je.OK;case Fr.CANCELLED:return Je.CANCELLED;case Fr.UNKNOWN:return Je.UNKNOWN;case Fr.DEADLINE_EXCEEDED:return Je.DEADLINE_EXCEEDED;case Fr.RESOURCE_EXHAUSTED:return Je.RESOURCE_EXHAUSTED;case Fr.INTERNAL:return Je.INTERNAL;case Fr.UNAVAILABLE:return Je.UNAVAILABLE;case Fr.UNAUTHENTICATED:return Je.UNAUTHENTICATED;case Fr.INVALID_ARGUMENT:return Je.INVALID_ARGUMENT;case Fr.NOT_FOUND:return Je.NOT_FOUND;case Fr.ALREADY_EXISTS:return Je.ALREADY_EXISTS;case Fr.PERMISSION_DENIED:return Je.PERMISSION_DENIED;case Fr.FAILED_PRECONDITION:return Je.FAILED_PRECONDITION;case Fr.ABORTED:return Je.ABORTED;case Fr.OUT_OF_RANGE:return Je.OUT_OF_RANGE;case Fr.UNIMPLEMENTED:return Je.UNIMPLEMENTED;case Fr.DATA_LOSS:return Je.DATA_LOSS;default:return Bt(39323,{code:n})}}(gn=Fr||(Fr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";function FN(){return new TextEncoder}const zN=new Iu([4294967295,4294967295],0);function Nw(n){const e=FN().encode(n),t=new MS;return t.update(e),new Uint8Array(t.digest())}function Ow(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Iu([t,r],0),new Iu([o,u],0)]}class d1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Qd(`Invalid padding: ${t}`);if(r<0)throw new Qd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Qd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Iu.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Iu.fromNumber(r)));return o.compare(zN)===1&&(o=new Iu([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Nw(e),[r,o]=Ow(t);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new d1(u,o,t);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const t=Nw(e),[r,o]=Ow(t);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.be(f)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class oy{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Dp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new oy(Gt.min(),o,new dr(hn),dl(),dn())}}class Dp{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Dp(r,t,dn(),dn(),dn())}}class cg{constructor(e,t,r,o){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=o}}class _T{constructor(e,t){this.targetId=e,this.Ce=t}}class wT{constructor(e,t,r=mi.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Mw{constructor(){this.ve=0,this.Fe=Lw(),this.Me=mi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dn(),t=dn(),r=dn();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Bt(38017,{changeType:u})}})),new Dp(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=Lw()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Cn(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class BN{constructor(e){this.Ge=e,this.ze=new Map,this.je=dl(),this.He=Qm(),this.Je=Qm(),this.Ze=new dr(hn)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Bt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(b0(u))if(r===0){const f=new Ot(u.path);this.et(t,f,Ii.newNoDocument(f,Gt.min()))}else Cn(r===1,20013,{expectedCount:r});else{const f=this._t(t);if(f!==r){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=Lu(r).toUint8Array()}catch(g){if(g instanceof GS)return lh("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new d1(f,o,u)}catch(g){return lh(g instanceof Qd?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&b0(m.target)){const g=new Ot(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Ii.newNoDocument(g,e))}u.Be&&(t.set(f,u.ke()),u.Ke())}}));let r=dn();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new oy(e,t,this.Ze,this.je,r);return this.je=dl(),this.He=Qm(),this.Je=Qm(),this.Ze=new dr(hn),o}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Mw,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Kr(hn),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Kr(hn),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Et("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Mw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Qm(){return new dr(Ot.comparator)}function Lw(){return new dr(Ot.comparator)}const UN={asc:"ASCENDING",desc:"DESCENDING"},VN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jN={and:"AND",or:"OR"};class HN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function w0(n,e){return n.useProto3Json||Zg(e)?e:{value:e}}function Dg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qN(n,e){return Dg(n,e.toTimestamp())}function bo(n){return Cn(!!n,49232),Gt.fromTimestamp((function(t){const r=Mu(t);return new Zn(r.seconds,r.nanos)})(n))}function p1(n,e){return x0(n,e).canonicalString()}function x0(n,e){const t=(function(o){return new qn(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function ET(n){const e=qn.fromString(n);return Cn(DT(e),10190,{key:e.toString()}),e}function E0(n,e){return p1(n.databaseId,e.path)}function Ov(n,e){const t=ET(e);if(t.get(1)!==n.databaseId.projectId)throw new bt(Je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new bt(Je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ot(TT(t))}function ST(n,e){return p1(n.databaseId,e)}function WN(n){const e=ET(n);return e.length===4?qn.emptyPath():TT(e)}function S0(n){return new qn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TT(n){return Cn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Pw(n,e,t){return{name:E0(n,e),fields:t.value.mapValue.fields}}function GN(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Bt(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,_){return v.useProto3Json?(Cn(_===void 0||typeof _=="string",58123),mi.fromBase64String(_||"")):(Cn(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),mi.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(v){const _=v.code===void 0?Je.UNKNOWN:bT(v.code);return new bt(_,v.message||"")})(f);t=new wT(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Ov(n,r.document.name),u=bo(r.document.updateTime),f=r.document.createTime?bo(r.document.createTime):Gt.min(),m=new Wi({mapValue:{fields:r.document.fields}}),g=Ii.newFoundDocument(o,u,f,m),v=r.targetIds||[],_=r.removedTargetIds||[];t=new cg(v,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Ov(n,r.document),u=r.readTime?bo(r.readTime):Gt.min(),f=Ii.newNoDocument(o,u),m=r.removedTargetIds||[];t=new cg([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Ov(n,r.document),u=r.removedTargetIds||[];t=new cg([],u,o,null)}else{if(!("filter"in e))return Bt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new LN(o,u),m=r.targetId;t=new _T(m,f)}}return t}function YN(n,e){let t;if(e instanceof kp)t={update:Pw(n,e.key,e.value)};else if(e instanceof sy)t={delete:E0(n,e.key)};else if(e instanceof Vu)t={update:Pw(n,e.key,e.data),updateMask:n3(e.fieldMask)};else{if(!(e instanceof IN))return Bt(16599,{dt:e.type});t={verify:E0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof gp)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yp)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vp)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kg)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Bt(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:qN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Bt(27497)})(n,e.precondition)),t}function KN(n,e){return n&&n.length>0?(Cn(e!==void 0,14353),n.map((t=>(function(o,u){let f=o.updateTime?bo(o.updateTime):bo(u);return f.isEqual(Gt.min())&&(f=bo(u)),new kN(f,o.transformResults||[])})(t,e)))):[]}function QN(n,e){return{documents:[ST(n,e.path)]}}function CT(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ST(n,o);const u=(function(v){if(v.length!==0)return kT(Vs.create(v,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const f=(function(v){if(v.length!==0)return v.map((_=>(function(T){return{field:xu(T.field),direction:JN(T.dir)}})(_)))})(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=w0(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function $N(n,e,t,r){const{ft:o,parent:u}=CT(n,e),f={},m=[];let g=0;return t.forEach((v=>{const _="aggregate_"+g++;f[_]=v.alias,v.aggregateType==="count"?m.push({alias:_,count:{}}):v.aggregateType==="avg"?m.push({alias:_,avg:{field:xu(v.fieldPath)}}):v.aggregateType==="sum"&&m.push({alias:_,sum:{field:xu(v.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:m,structuredQuery:o.structuredQuery},parent:o.parent},gt:f,parent:u}}function XN(n){let e=WN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Cn(r===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=(function(x){const T=AT(x);return T instanceof Vs&&nT(T)?T.getFilters():[T]})(t.where));let f=[];t.orderBy&&(f=(function(x){return x.map((T=>(function(L){return new mp(Xf(L.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(T)))})(t.orderBy));let m=null;t.limit&&(m=(function(x){let T;return T=typeof x=="object"?x.value:x,Zg(T)?null:T})(t.limit));let g=null;t.startAt&&(g=(function(x){const T=!!x.before,C=x.values||[];return new hh(C,T)})(t.startAt));let v=null;return t.endAt&&(v=(function(x){const T=!x.before,C=x.values||[];return new hh(C,T)})(t.endAt)),fN(e,o,f,u,m,"F",g,v)}function ZN(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function AT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Xf(t.unaryFilter.field);return Br.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Xf(t.unaryFilter.field);return Br.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xf(t.unaryFilter.field);return Br.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Xf(t.unaryFilter.field);return Br.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bt(61313);default:return Bt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Br.create(Xf(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bt(58110);default:return Bt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Vs.create(t.compositeFilter.filters.map((r=>AT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Bt(1026)}})(t.compositeFilter.op))})(n):Bt(30097,{filter:n})}function JN(n){return UN[n]}function e3(n){return VN[n]}function t3(n){return jN[n]}function xu(n){return{fieldPath:n.canonicalString()}}function Xf(n){return pi.fromServerFormat(n.fieldPath)}function kT(n){return n instanceof Br?(function(t){if(t.op==="=="){if(Ew(t.value))return{unaryFilter:{field:xu(t.field),op:"IS_NAN"}};if(xw(t.value))return{unaryFilter:{field:xu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ew(t.value))return{unaryFilter:{field:xu(t.field),op:"IS_NOT_NAN"}};if(xw(t.value))return{unaryFilter:{field:xu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xu(t.field),op:e3(t.op),value:t.value}}})(n):n instanceof Vs?(function(t){const r=t.getFilters().map((o=>kT(o)));return r.length===1?r[0]:{compositeFilter:{op:t3(t.op),filters:r}}})(n):Bt(54877,{filter:n})}function n3(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function DT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function RT(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Au{constructor(e,t,r,o,u=Gt.min(),f=Gt.min(),m=mi.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Au(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class r3{constructor(e){this.yt=e}}function i3(n){const e=XN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ag(e,e.limit,"L"):e}class a3{constructor(){this.Sn=new s3}addToCollectionParentIndex(e,t){return this.Sn.add(t),st.resolve()}getCollectionParents(e,t){return st.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return st.resolve()}deleteFieldIndex(e,t){return st.resolve()}deleteAllFieldIndexes(e){return st.resolve()}createTargetIndexes(e,t){return st.resolve()}getDocumentsMatchingTarget(e,t){return st.resolve(null)}getIndexType(e,t){return st.resolve(0)}getFieldIndexes(e,t){return st.resolve([])}getNextCollectionGroupToUpdate(e){return st.resolve(null)}getMinOffset(e,t){return st.resolve(Ou.min())}getMinOffsetFromCollectionGroup(e,t){return st.resolve(Ou.min())}updateCollectionGroup(e,t,r){return st.resolve()}updateIndexEntries(e,t){return st.resolve()}}class s3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Kr(qn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Kr(qn.comparator)).toArray()}}const Fw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IT=41943040;class la{static withCacheSize(e){return new la(e,la.DEFAULT_COLLECTION_PERCENTILE,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}la.DEFAULT_COLLECTION_PERCENTILE=10,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,la.DEFAULT=new la(IT,la.DEFAULT_COLLECTION_PERCENTILE,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),la.DISABLED=new la(-1,0,0);class dh{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new dh(0)}static ar(){return new dh(-1)}}const zw="LruGarbageCollector",o3=1048576;function Bw([n,e],[t,r]){const o=hn(n,t);return o===0?hn(e,r):o}class l3{constructor(e){this.Pr=e,this.buffer=new Kr(Bw),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Bw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class u3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Et(zw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Sh(t)?Et(zw,"Ignoring IndexedDB error during garbage collection: ",t):await Eh(t)}await this.Ar(3e5)}))}}class c3{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return st.resolve(Xg.ce);const r=new l3(t);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Et("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(Fw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fw):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,o,u,f,m,g,v;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,f=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(r=x,m=Date.now(),this.removeTargets(e,r,t)))).next((x=>(u=x,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(v=Date.now(),Qf()<=fn.DEBUG&&Et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${x} documents in `+(v-g)+`ms
Total Duration: ${v-_}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:x}))))}}function f3(n,e){return new c3(n,e)}class h3{constructor(){this.changes=new jc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ii.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?st.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class d3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class p3{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&tp(r.mutation,o,Ca.empty(),Zn.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,dn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=dn()){const o=kc();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((u=>{let f=Kd();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,t){const r=kc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,dn())))}populateOverlays(e,t,r){const o=[];return r.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{t.set(f,m)}))}))}computeViews(e,t,r,o){let u=dl();const f=ep(),m=(function(){return ep()})();return t.forEach(((g,v)=>{const _=r.get(v.key);o.has(v.key)&&(_===void 0||_.mutation instanceof Vu)?u=u.insert(v.key,v):_!==void 0?(f.set(v.key,_.mutation.getFieldMask()),tp(_.mutation,v,_.mutation.getFieldMask(),Zn.now())):f.set(v.key,Ca.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((v,_)=>f.set(v,_))),t.forEach(((v,_)=>m.set(v,new d3(_,f.get(v)??null)))),m)))}recalculateAndSaveOverlays(e,t){const r=ep();let o=new dr(((f,m)=>f-m)),u=dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((f=>{for(const m of f)m.keys().forEach((g=>{const v=t.get(g);if(v===null)return;let _=r.get(g)||Ca.empty();_=m.applyToLocalView(v,_),r.set(g,_);const x=(o.get(m.batchId)||dn()).add(g);o=o.insert(m.batchId,x)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,_=g.value,x=fT();_.forEach((T=>{if(!u.has(T)){const C=yT(t.get(T),r.get(T));C!==null&&x.set(T,C),u=u.add(T)}})),f.push(this.documentOverlayCache.saveOverlays(e,v,x))}return st.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return hN(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):c1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):st.resolve(kc());let m=fp,g=u;return f.next((v=>st.forEach(v,((_,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),u.get(_)?st.resolve():this.remoteDocumentCache.getEntry(e,_).next((T=>{g=g.insert(_,T)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,g,v,dn()))).next((_=>({batchId:m,changes:cT(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ot(t)).next((r=>{let o=Kd();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const u=t.collectionGroup;let f=Kd();return this.indexManager.getCollectionParents(e,u).next((m=>st.forEach(m,(g=>{const v=(function(x,T){return new Vc(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((_=>{_.forEach(((x,T)=>{f=f.insert(x,T)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,u,o)))).next((f=>{u.forEach(((g,v)=>{const _=v.getKey();f.get(_)===null&&(f=f.insert(_,Ii.newInvalidDocument(_)))}));let m=Kd();return f.forEach(((g,v)=>{const _=u.get(g);_!==void 0&&tp(_.mutation,v,Ca.empty(),Zn.now()),ry(t,v)&&(m=m.insert(g,v))})),m}))}}class m3{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return st.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:bo(o.createTime)}})(t)),st.resolve()}getNamedQuery(e,t){return st.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:i3(o.bundledQuery),readTime:bo(o.readTime)}})(t)),st.resolve()}}class g3{constructor(){this.overlays=new dr(Ot.comparator),this.Lr=new Map}getOverlay(e,t){return st.resolve(this.overlays.get(t))}getOverlays(e,t){const r=kc();return st.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,u)=>{this.bt(e,t,u)})),st.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),st.resolve()}getOverlaysForCollection(e,t,r){const o=kc(),u=t.length+1,f=new Ot(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return st.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new dr(((v,_)=>v-_));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let _=u.get(v.largestBatchId);_===null&&(_=kc(),u=u.insert(v.largestBatchId,_)),_.set(v.getKey(),v)}}const m=kc(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,_)=>m.set(v,_))),!(m.size()>=o)););return st.resolve(m)}bt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new ON(t,r));let u=this.Lr.get(t);u===void 0&&(u=dn(),this.Lr.set(t,u)),this.Lr.set(t,u.add(r.key))}}class y3{constructor(){this.sessionToken=mi.EMPTY_BYTE_STRING}getSessionToken(e){return st.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,st.resolve()}}class m1{constructor(){this.kr=new Kr(ei.Kr),this.qr=new Kr(ei.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new ei(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new ei(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Ot(new qn([])),r=new ei(t,e),o=new ei(t,e+1),u=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Ot(new qn([])),r=new ei(t,e),o=new ei(t,e+1);let u=dn();return this.qr.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const t=new ei(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ei{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Ot.comparator(e.key,t.key)||hn(e.Hr,t.Hr)}static Ur(e,t){return hn(e.Hr,t.Hr)||Ot.comparator(e.key,t.key)}}class v3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Kr(ei.Kr)}checkEmpty(e){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new NN(u,t,r,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new ei(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return st.resolve(f)}lookupMutationBatch(e,t){return st.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Xr(r),u=o<0?0:o;return st.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?s1:this.Yn-1)}getAllMutationBatches(e){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ei(t,0),o=new ei(t,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),st.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Kr(hn);return t.forEach((o=>{const u=new ei(o,0),f=new ei(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{r=r.add(m.Hr)}))})),st.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Ot.isDocumentKey(u)||(u=u.child(""));const f=new ei(new Ot(u),0);let m=new Kr(hn);return this.Jr.forEachWhile((g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(m=m.add(g.Hr)),!0)}),f),st.resolve(this.Yr(m))}Yr(e){const t=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Cn(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return st.forEach(t.mutations,(o=>{const u=new ei(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new ei(t,0),o=this.Jr.firstAfterOrEqual(r);return st.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,st.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class b3{constructor(e){this.ti=e,this.docs=(function(){return new dr(Ot.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,f=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return st.resolve(r?r.document.mutableCopy():Ii.newInvalidDocument(t))}getEntries(e,t){let r=dl();return t.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Ii.newInvalidDocument(o))})),st.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=dl();const f=t.path,m=new Ot(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:_}}=g.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||VI(UI(_),r)<=0||(o.has(_.key)||ry(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return st.resolve(u)}getAllFromCollectionGroup(e,t,r,o){Bt(9500)}ni(e,t){return st.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new _3(this)}getSize(e){return st.resolve(this.size)}}class _3 extends h3{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),st.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class w3{constructor(e){this.persistence=e,this.ri=new jc((t=>l1(t)),u1),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.ii=0,this.si=new m1,this.targetCount=0,this.oi=dh._r()}forEachTarget(e,t){return this.ri.forEach(((r,o)=>t(o))),st.resolve()}getLastRemoteSnapshotVersion(e){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return st.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),st.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new dh(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,st.resolve()}updateTargetData(e,t){return this.lr(t),st.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,st.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=t&&r.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),st.waitFor(u).next((()=>o))}getTargetCount(e){return st.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return st.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),st.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),st.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),st.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return st.resolve(r)}containsKey(e,t){return st.resolve(this.si.containsKey(t))}}class NT{constructor(e,t){this._i={},this.overlays={},this.ai=new Xg(0),this.ui=!1,this.ui=!0,this.ci=new y3,this.referenceDelegate=e(this),this.li=new w3(this),this.indexManager=new a3,this.remoteDocumentCache=(function(o){return new b3(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new r3(t),this.Pi=new m3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new g3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new v3(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){Et("MemoryPersistence","Starting transaction:",e);const o=new x3(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,t){return st.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class x3 extends HI{constructor(e){super(),this.currentSequenceNumber=e}}class g1{constructor(e){this.persistence=e,this.Ri=new m1,this.Ai=null}static Vi(e){return new g1(e)}get di(){if(this.Ai)return this.Ai;throw Bt(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),st.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),st.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),st.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,(r=>{const o=Ot.fromPath(r);return this.mi(e,o).next((u=>{u||t.removeEntry(o,Gt.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return st.or([()=>st.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Rg{constructor(e,t){this.persistence=e,this.fi=new jc((r=>GI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=f3(this,t)}static Vi(e,t){return new Rg(e,t)}Ti(){}Ii(e){return st.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return st.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((u=>u?st.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,t).next((m=>{m||(r++,u.removeEntry(f,Gt.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),st.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),st.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),st.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),st.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=og(e.data.value)),t}wr(e,t,r){return st.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return st.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class y1{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=o}static Es(e,t){let r=dn(),o=dn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new y1(e,t.fromCache,r,o)}}class E3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class S3{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return oR()?8:qI(Ni())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const u={result:null};return this.gs(e,t).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,t,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new E3;return this.ys(e,t,f).next((m=>{if(u.result=m,this.As)return this.ws(e,t,f,m.size)}))})).next((()=>u.result))}ws(e,t,r,o){return r.documentReadCount<this.Vs?(Qf()<=fn.DEBUG&&Et("QueryEngine","SDK will not create cache indexes for query:",$f(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),st.resolve()):(Qf()<=fn.DEBUG&&Et("QueryEngine","Query:",$f(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Qf()<=fn.DEBUG&&Et("QueryEngine","The SDK decides to create cache indexes for query:",$f(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vo(t))):st.resolve())}gs(e,t){if(Aw(t))return st.resolve(null);let r=vo(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Ag(t,null,"F"),r=vo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=dn(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const v=this.bs(t,m);return this.Ss(t,v,f,g.readTime)?this.gs(e,Ag(t,null,"F")):this.Ds(e,v,t,g)}))))})))))}ps(e,t,r,o){return Aw(t)||o.isEqual(Gt.min())?st.resolve(null):this.fs.getDocuments(e,r).next((u=>{const f=this.bs(t,u);return this.Ss(t,f,r,o)?st.resolve(null):(Qf()<=fn.DEBUG&&Et("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$f(t)),this.Ds(e,f,t,BI(o,fp)).next((m=>m)))}))}bs(e,t){let r=new Kr(lT(e));return t.forEach(((o,u)=>{ry(e,u)&&(r=r.add(u))})),r}Ss(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,t,r){return Qf()<=fn.DEBUG&&Et("QueryEngine","Using full collection scan to execute query:",$f(t)),this.fs.getDocumentsMatchingQuery(e,t,Ou.min(),r)}Ds(e,t,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((u=>(t.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const v1="LocalStore",T3=3e8;class C3{constructor(e,t,r,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new dr(hn),this.Fs=new jc((u=>l1(u)),u1),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p3(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function A3(n,e,t,r){return new C3(n,e,t,r)}async function OT(n,e){const t=qt(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let g=dn();for(const v of o){f.push(v.batchId);for(const _ of v.mutations)g=g.add(_.key)}for(const v of u){m.push(v.batchId);for(const _ of v.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(r,g).next((v=>({Ns:v,removedBatchIds:f,addedBatchIds:m})))}))}))}function k3(n,e){const t=qt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=t.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,v,_){const x=v.batch,T=x.keys();let C=st.resolve();return T.forEach((L=>{C=C.next((()=>_.getEntry(g,L))).next((R=>{const I=v.docVersions.get(L);Cn(I!==null,48541),R.version.compareTo(I)<0&&(x.applyToRemoteDocument(R,v),R.isValidDocument()&&(R.setReadTime(v.commitVersion),_.addEntry(R)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(g,x)))})(t,r,e,u).next((()=>u.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=dn();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(g=g.add(m.batch.mutations[v].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function MT(n){const e=qt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function D3(n,e){const t=qt(n),r=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const m=[];e.targetChanges.forEach(((_,x)=>{const T=o.get(x);if(!T)return;m.push(t.li.removeMatchingKeys(u,_.removedDocuments,x).next((()=>t.li.addMatchingKeys(u,_.addedDocuments,x))));let C=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?C=C.withResumeToken(mi.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,r)),o=o.insert(x,C),(function(R,I,N){return R.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=T3?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(T,C,_)&&m.push(t.li.updateTargetData(u,C))}));let g=dl(),v=dn();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(R3(u,f,e.documentUpdates).next((_=>{g=_.Bs,v=_.Ls}))),!r.isEqual(Gt.min())){const _=t.li.getLastRemoteSnapshotVersion(u).next((x=>t.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(_)}return st.waitFor(m).next((()=>f.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,g,v))).next((()=>g))})).then((u=>(t.vs=o,u)))}function R3(n,e,t){let r=dn(),o=dn();return t.forEach((u=>r=r.add(u))),e.getEntries(n,r).next((u=>{let f=dl();return t.forEach(((m,g)=>{const v=u.get(m);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Gt.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):Et(v1,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function I3(n,e){const t=qt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=s1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function N3(n,e){const t=qt(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.li.getTargetData(r,e).next((u=>u?(o=u,st.resolve(o)):t.li.allocateTargetId(r).next((f=>(o=new Au(e,f,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function T0(n,e,t){const r=qt(n),o=r.vs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Sh(f))throw f;Et(v1,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function Uw(n,e,t){const r=qt(n);let o=Gt.min(),u=dn();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,v,_){const x=qt(g),T=x.Fs.get(_);return T!==void 0?st.resolve(x.vs.get(T)):x.li.getTargetData(v,_)})(r,f,vo(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,t?o:Gt.min(),t?u:dn()))).next((m=>(O3(r,gN(e),m),{documents:m,ks:u})))))}function O3(n,e,t){let r=n.Ms.get(e)||Gt.min();t.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Ms.set(e,r)}class Vw{constructor(){this.activeTargetIds=xN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M3{constructor(){this.vo=new Vw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Vw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class L3{Mo(e){}shutdown(){}}const jw="ConnectivityMonitor";class Hw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Et(jw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Et(jw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $m=null;function C0(){return $m===null?$m=(function(){return 268435456+Math.round(2147483648*Math.random())})():$m++,"0x"+$m.toString(16)}const Mv="RestConnection",P3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class F3{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Sg?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,t,r,o,u){const f=C0(),m=this.Qo(e,t.toUriEncodedString());Et(Mv,`Sending RPC '${e}' ${f}:`,m,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:v}=new URL(m),_=_h(v);return this.zo(e,m,g,r,_).then((x=>(Et(Mv,`Received RPC '${e}' ${f}: `,x),x)),(x=>{throw lh(Mv,`RPC '${e}' ${f} failed with error: `,x,"url: ",m,"request:",r),x}))}jo(e,t,r,o,u,f){return this.Wo(e,t,r,o,u)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}Qo(e,t){const r=P3[e];let o=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class z3{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Di="WebChannelConnection",zd=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class eh extends F3{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!eh.c_){const e=zS();zd(e,FS.STAT_EVENT,(t=>{t.stat===d0.PROXY?Et(Di,"STAT_EVENT: detected buffering proxy"):t.stat===d0.NOPROXY&&Et(Di,"STAT_EVENT: detected no buffering proxy")})),eh.c_=!0}}zo(e,t,r,o,u){const f=C0();return new Promise(((m,g)=>{const v=new LS;v.setWithCredentials(!0),v.listenOnce(PS.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case sg.NO_ERROR:const x=v.getResponseJson();Et(Di,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(x)),m(x);break;case sg.TIMEOUT:Et(Di,`RPC '${e}' ${f} timed out`),g(new bt(Je.DEADLINE_EXCEEDED,"Request time out"));break;case sg.HTTP_ERROR:const T=v.getStatus();if(Et(Di,`RPC '${e}' ${f} failed with status:`,T,"response text:",v.getResponseText()),T>0){let C=v.getResponseJson();Array.isArray(C)&&(C=C[0]);const L=C?.error;if(L&&L.status&&L.message){const R=(function(N){const P=N.toLowerCase().replace(/_/g,"-");return Object.values(Je).indexOf(P)>=0?P:Je.UNKNOWN})(L.status);g(new bt(R,L.message))}else g(new bt(Je.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new bt(Je.UNAVAILABLE,"Connection failed."));break;default:Bt(9055,{l_:e,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Et(Di,`RPC '${e}' ${f} completed.`)}}));const _=JSON.stringify(o);Et(Di,`RPC '${e}' ${f} sending request:`,o),v.send(t,"POST",_,r,15)}))}T_(e,t,r){const o=C0(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const v=u.join("");Et(Di,`Creating RPC '${e}' stream ${o}: ${v}`,m);const _=f.createWebChannel(v,m);this.I_(_);let x=!1,T=!1;const C=new z3({Ho:L=>{T?Et(Di,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(x||(Et(Di,`Opening RPC '${e}' stream ${o} transport.`),_.open(),x=!0),Et(Di,`RPC '${e}' stream ${o} sending:`,L),_.send(L))},Jo:()=>_.close()});return zd(_,Yd.EventType.OPEN,(()=>{T||(Et(Di,`RPC '${e}' stream ${o} transport opened.`),C.i_())})),zd(_,Yd.EventType.CLOSE,(()=>{T||(T=!0,Et(Di,`RPC '${e}' stream ${o} transport closed`),C.o_(),this.E_(_))})),zd(_,Yd.EventType.ERROR,(L=>{T||(T=!0,lh(Di,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),C.o_(new bt(Je.UNAVAILABLE,"The operation could not be completed")))})),zd(_,Yd.EventType.MESSAGE,(L=>{if(!T){const R=L.data[0];Cn(!!R,16349);const I=R,N=I?.error||I[0]?.error;if(N){Et(Di,`RPC '${e}' stream ${o} received error:`,N);const P=N.status;let W=(function(ne){const B=Fr[ne];if(B!==void 0)return bT(B)})(P),re=N.message;W===void 0&&(W=Je.INTERNAL,re="Unknown error status: "+P+" with message "+N.message),T=!0,C.o_(new bt(W,re)),_.close()}else Et(Di,`RPC '${e}' stream ${o} received:`,R),C.__(R)}})),eh.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return BS()}}function B3(n){return new eh(n)}function Lv(){return typeof document<"u"?document:null}function ly(n){return new HN(n,!0)}eh.c_=!1;class LT{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&Et("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const qw="PersistentStream";class PT{constructor(e,t,r,o,u,f,m,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Je.RESOURCE_EXHAUSTED?(hl(t.toString()),hl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new bt(Je.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Et(qw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Et(qw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class U3 extends PT{constructor(e,t,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,f),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=GN(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Gt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Gt.min():f.readTime?bo(f.readTime):Gt.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=S0(this.serializer),t.addTarget=(function(u,f){let m;const g=f.target;if(m=b0(g)?{documents:QN(u,g)}:{query:CT(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=xT(u,f.resumeToken);const v=w0(u,f.expectedCount);v!==null&&(m.expectedCount=v)}else if(f.snapshotVersion.compareTo(Gt.min())>0){m.readTime=Dg(u,f.snapshotVersion.toTimestamp());const v=w0(u,f.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,e);const r=ZN(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=S0(this.serializer),t.removeTarget=e,this.K_(t)}}class V3 extends PT{constructor(e,t,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Cn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Cn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Cn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=KN(e.writeResults,e.commitTime),r=bo(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=S0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>YN(this.serializer,r)))};this.K_(t)}}class j3{}class H3 extends j3{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new bt(Je.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,x0(t,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new bt(Je.UNKNOWN,u.toString())}))}jo(e,t,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,x0(t,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new bt(Je.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function q3(n,e,t,r){return new H3(n,e,t,r)}class W3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hl(t),this.aa=!1):Et("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pc="RemoteStore";class G3{constructor(e,t,r,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{Hc(this)&&(Et(Pc,"Restarting streams for network reachability change."),await(async function(g){const v=qt(g);v.Ea.add(4),await Rp(v),v.Va.set("Unknown"),v.Ea.delete(4),await uy(v)})(this))}))})),this.Va=new W3(r,o)}}async function uy(n){if(Hc(n))for(const e of n.Ra)await e(!0)}async function Rp(n){for(const e of n.Ra)await e(!1)}function FT(n,e){const t=qt(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),x1(t)?w1(t):Th(t).O_()&&_1(t,e))}function b1(n,e){const t=qt(n),r=Th(t);t.Ia.delete(e),r.O_()&&zT(t,e),t.Ia.size===0&&(r.O_()?r.L_():Hc(t)&&t.Va.set("Unknown"))}function _1(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Th(n).Z_(e)}function zT(n,e){n.da.$e(e),Th(n).X_(e)}function w1(n){n.da=new BN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Th(n).start(),n.Va.ua()}function x1(n){return Hc(n)&&!Th(n).x_()&&n.Ia.size>0}function Hc(n){return qt(n).Ea.size===0}function BT(n){n.da=void 0}async function Y3(n){n.Va.set("Online")}async function K3(n){n.Ia.forEach(((e,t)=>{_1(n,e)}))}async function Q3(n,e){BT(n),x1(n)?(n.Va.ha(e),w1(n)):n.Va.set("Unknown")}async function $3(n,e,t){if(n.Va.set("Online"),e instanceof wT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(n,e)}catch(r){Et(Pc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ig(n,r)}else if(e instanceof cg?n.da.Xe(e):e instanceof _T?n.da.st(e):n.da.tt(e),!t.isEqual(Gt.min()))try{const r=await MT(n.localStore);t.compareTo(r)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ia.get(v);_&&u.Ia.set(v,_.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,v)=>{const _=u.Ia.get(g);if(!_)return;u.Ia.set(g,_.withResumeToken(mi.EMPTY_BYTE_STRING,_.snapshotVersion)),zT(u,g);const x=new Au(_.target,g,v,_.sequenceNumber);_1(u,x)})),u.remoteSyncer.applyRemoteEvent(m)})(n,t)}catch(r){Et(Pc,"Failed to raise snapshot:",r),await Ig(n,r)}}async function Ig(n,e,t){if(!Sh(e))throw e;n.Ea.add(1),await Rp(n),n.Va.set("Offline"),t||(t=()=>MT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Et(Pc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await uy(n)}))}function UT(n,e){return e().catch((t=>Ig(n,t,e)))}async function cy(n){const e=qt(n),t=Fu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:s1;for(;X3(e);)try{const o=await I3(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,Z3(e,o)}catch(o){await Ig(e,o)}VT(e)&&jT(e)}function X3(n){return Hc(n)&&n.Ta.length<10}function Z3(n,e){n.Ta.push(e);const t=Fu(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function VT(n){return Hc(n)&&!Fu(n).x_()&&n.Ta.length>0}function jT(n){Fu(n).start()}async function J3(n){Fu(n).ra()}async function eO(n){const e=Fu(n);for(const t of n.Ta)e.ea(t.mutations)}async function tO(n,e,t){const r=n.Ta.shift(),o=h1.from(r,e,t);await UT(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await cy(n)}async function nO(n,e){e&&Fu(n).Y_&&await(async function(r,o){if((function(f){return PN(f)&&f!==Je.ABORTED})(o.code)){const u=r.Ta.shift();Fu(r).B_(),await UT(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await cy(r)}})(n,e),VT(n)&&jT(n)}async function Ww(n,e){const t=qt(n);t.asyncQueue.verifyOperationInProgress(),Et(Pc,"RemoteStore received new credentials");const r=Hc(t);t.Ea.add(3),await Rp(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await uy(t)}async function rO(n,e){const t=qt(n);e?(t.Ea.delete(2),await uy(t)):e||(t.Ea.add(2),await Rp(t),t.Va.set("Unknown"))}function Th(n){return n.ma||(n.ma=(function(t,r,o){const u=qt(t);return u.sa(),new U3(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:Y3.bind(null,n),Yo:K3.bind(null,n),t_:Q3.bind(null,n),J_:$3.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),x1(n)?w1(n):n.Va.set("Unknown")):(await n.ma.stop(),BT(n))}))),n.ma}function Fu(n){return n.fa||(n.fa=(function(t,r,o){const u=qt(t);return u.sa(),new V3(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:J3.bind(null,n),t_:nO.bind(null,n),ta:eO.bind(null,n),na:tO.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await cy(n)):(await n.fa.stop(),n.Ta.length>0&&(Et(Pc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class E1{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new yo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,u){const f=Date.now()+r,m=new E1(e,t,f,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new bt(Je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S1(n,e){if(hl("AsyncQueue",`${e}: ${n}`),Sh(n))return new bt(Je.UNAVAILABLE,`${e}: ${n}`);throw n}class th{static emptySet(e){return new th(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ot.comparator(t.key,r.key):(t,r)=>Ot.comparator(t.key,r.key),this.keyedMap=Kd(),this.sortedSet=new dr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof th)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new th;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Gw{constructor(){this.ga=new dr(Ot.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Bt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class ph{constructor(e,t,r,o,u,f,m,g,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,o,u){const f=[];return t.forEach((m=>{f.push({type:0,doc:m})})),new ph(e,t,th.emptySet(t),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ny(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class iO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class aO{constructor(){this.queries=Yw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=qt(t),u=o.queries;o.queries=Yw(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(r)}))})(this,new bt(Je.ABORTED,"Firestore shutting down"))}}function Yw(){return new jc((n=>oT(n)),ny)}async function T1(n,e){const t=qt(n);let r=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.Da()&&(r=2):(u=new iO,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=S1(f,`Initialization of query '${$f(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.ba.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&A1(t)}async function C1(n,e){const t=qt(n),r=e.query;let o=3;const u=t.queries.get(r);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function sO(n,e){const t=qt(n);let r=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(r=!0);f.wa=o}}r&&A1(t)}function oO(n,e,t){const r=qt(n),o=r.queries.get(e);if(o)for(const u of o.ba)u.onError(t);r.queries.delete(e)}function A1(n){n.Ca.forEach((e=>{e.next()}))}var A0,Kw;(Kw=A0||(A0={})).Ma="default",Kw.Cache="cache";class k1{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ph(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ph.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==A0.Cache}}class HT{constructor(e){this.key=e}}class qT{constructor(e){this.key=e}}class lO{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=dn(),this.mutatedKeys=dn(),this.eu=lT(e),this.tu=new th(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new Gw,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,x)=>{const T=o.get(_),C=ry(this.query,x)?x:null,L=!!T&&this.mutatedKeys.has(T.key),R=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let I=!1;T&&C?T.data.isEqual(C.data)?L!==R&&(r.track({type:3,doc:C}),I=!0):this.su(T,C)||(r.track({type:2,doc:C}),I=!0,(g&&this.eu(C,g)>0||v&&this.eu(C,v)<0)&&(m=!0)):!T&&C?(r.track({type:0,doc:C}),I=!0):T&&!C&&(r.track({type:1,doc:T}),I=!0,(g||v)&&(m=!0)),I&&(C?(f=f.add(C),u=R?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{tu:f,iu:r,Ss:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((_,x)=>(function(C,L){const R=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt(20277,{Vt:I})}};return R(C)-R(L)})(_.type,x.type)||this.eu(_.doc,x.doc))),this.ou(r),o=o??!1;const m=t&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,v=g!==this.Xa;return this.Xa=g,f.length!==0||v?{snapshot:new ph(this.query,e.tu,u,f,e.mutatedKeys,g===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Gw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=dn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new qT(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new HT(r))})),t}cu(e){this.Za=e.ks,this.Ya=dn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ph.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const D1="SyncEngine";class uO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class cO{constructor(e){this.key=e,this.hu=!1}}class fO{constructor(e,t,r,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new jc((m=>oT(m)),ny),this.Iu=new Map,this.Eu=new Set,this.Ru=new dr(Ot.comparator),this.Au=new Map,this.Vu=new m1,this.du={},this.mu=new Map,this.fu=dh.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hO(n,e,t=!0){const r=$T(n);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await WT(r,e,t,!0),o}async function dO(n,e){const t=$T(n);await WT(t,e,!0,!1)}async function WT(n,e,t,r){const o=await N3(n.localStore,vo(e)),u=o.targetId,f=n.sharedClientState.addLocalQueryTarget(u,t);let m;return r&&(m=await pO(n,e,u,f==="current",o.resumeToken)),n.isPrimaryClient&&t&&FT(n.remoteStore,o),m}async function pO(n,e,t,r,o){n.pu=(x,T,C)=>(async function(R,I,N,P){let W=I.view.ru(N);W.Ss&&(W=await Uw(R.localStore,I.query,!1).then((({documents:B})=>I.view.ru(B,W))));const re=P&&P.targetChanges.get(I.targetId),te=P&&P.targetMismatches.get(I.targetId)!=null,ne=I.view.applyChanges(W,R.isPrimaryClient,re,te);return $w(R,I.targetId,ne.au),ne.snapshot})(n,x,T,C);const u=await Uw(n.localStore,e,!0),f=new lO(e,u.ks),m=f.ru(u.documents),g=Dp.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),v=f.applyChanges(m,n.isPrimaryClient,g);$w(n,t,v.au);const _=new uO(e,t,f);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function mO(n,e,t){const r=qt(n),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!ny(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await T0(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&b1(r.remoteStore,o.targetId),k0(r,o.targetId)})).catch(Eh)):(k0(r,o.targetId),await T0(r.localStore,o.targetId,!0))}async function gO(n,e){const t=qt(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),b1(t.remoteStore,r.targetId))}async function yO(n,e,t){const r=SO(n);try{const o=await(function(f,m){const g=qt(f),v=Zn.now(),_=m.reduce(((C,L)=>C.add(L.key)),dn());let x,T;return g.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let L=dl(),R=dn();return g.xs.getEntries(C,_).next((I=>{L=I,L.forEach(((N,P)=>{P.isValidDocument()||(R=R.add(N))}))})).next((()=>g.localDocuments.getOverlayedDocuments(C,L))).next((I=>{x=I;const N=[];for(const P of m){const W=RN(P,x.get(P.key).overlayedDocument);W!=null&&N.push(new Vu(P.key,W,JS(W.value.mapValue),Da.exists(!0)))}return g.mutationQueue.addMutationBatch(C,v,N,m)})).next((I=>{T=I;const N=I.applyToLocalDocumentSet(x,R);return g.documentOverlayCache.saveOverlays(C,I.batchId,N)}))})).then((()=>({batchId:T.batchId,changes:cT(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let v=f.du[f.currentUser.toKey()];v||(v=new dr(hn)),v=v.insert(m,g),f.du[f.currentUser.toKey()]=v})(r,o.batchId,t),await Ip(r,o.changes),await cy(r.remoteStore)}catch(o){const u=S1(o,"Failed to persist write");t.reject(u)}}async function GT(n,e){const t=qt(n);try{const r=await D3(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=t.Au.get(u);f&&(Cn(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Cn(f.hu,14607):o.removedDocuments.size>0&&(Cn(f.hu,42227),f.hu=!1))})),await Ip(t,r,e)}catch(r){await Eh(r)}}function Qw(n,e,t){const r=qt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=qt(f);g.onlineState=m;let v=!1;g.queries.forEach(((_,x)=>{for(const T of x.ba)T.va(m)&&(v=!0)})),v&&A1(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vO(n,e,t){const r=qt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new dr(Ot.comparator);f=f.insert(u,Ii.newNoDocument(u,Gt.min()));const m=dn().add(u),g=new oy(Gt.min(),new Map,new dr(hn),f,m);await GT(r,g),r.Ru=r.Ru.remove(u),r.Au.delete(e),R1(r)}else await T0(r.localStore,e,!1).then((()=>k0(r,e,t))).catch(Eh)}async function bO(n,e){const t=qt(n),r=e.batch.batchId;try{const o=await k3(t.localStore,e);KT(t,r,null),YT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ip(t,o)}catch(o){await Eh(o)}}async function _O(n,e,t){const r=qt(n);try{const o=await(function(f,m){const g=qt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let _;return g.mutationQueue.lookupMutationBatch(v,m).next((x=>(Cn(x!==null,37113),_=x.keys(),g.mutationQueue.removeMutationBatch(v,x)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,_,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,_))).next((()=>g.localDocuments.getDocuments(v,_)))}))})(r.localStore,e);KT(r,e,t),YT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ip(r,o)}catch(o){await Eh(o)}}function YT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function KT(n,e,t){const r=qt(n);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function k0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||QT(n,r)}))}function QT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(b1(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),R1(n))}function $w(n,e,t){for(const r of t)r instanceof HT?(n.Vu.addReference(r.key,e),wO(n,r)):r instanceof qT?(Et(D1,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||QT(n,r.key)):Bt(19791,{wu:r})}function wO(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(Et(D1,"New document in limbo: "+t),n.Eu.add(r),R1(n))}function R1(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ot(qn.fromString(e)),r=n.fu.next();n.Au.set(r,new cO(t)),n.Ru=n.Ru.insert(t,r),FT(n.remoteStore,new Au(vo(ty(t.path)),r,"TargetPurposeLimboResolution",Xg.ce))}}async function Ip(n,e,t){const r=qt(n),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{f.push(r.pu(g,e,t).then((v=>{if((v||t)&&r.isPrimaryClient){const _=v?!v.fromCache:t?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(v){o.push(v);const _=y1.Es(g.targetId,v);u.push(_)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(g,v){const _=qt(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>st.forEach(v,(T=>st.forEach(T.Ts,(C=>_.persistence.referenceDelegate.addReference(x,T.targetId,C))).next((()=>st.forEach(T.Is,(C=>_.persistence.referenceDelegate.removeReference(x,T.targetId,C)))))))))}catch(x){if(!Sh(x))throw x;Et(v1,"Failed to update sequence numbers: "+x)}for(const x of v){const T=x.targetId;if(!x.fromCache){const C=_.vs.get(T),L=C.snapshotVersion,R=C.withLastLimboFreeSnapshotVersion(L);_.vs=_.vs.insert(T,R)}}})(r.localStore,u))}async function xO(n,e){const t=qt(n);if(!t.currentUser.isEqual(e)){Et(D1,"User change. New user:",e.toKey());const r=await OT(t.localStore,e);t.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new bt(Je.CANCELLED,f))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ip(t,r.Ns)}}function EO(n,e){const t=qt(n),r=t.Au.get(e);if(r&&r.hu)return dn().add(r.key);{let o=dn();const u=t.Iu.get(e);if(!u)return o;for(const f of u){const m=t.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function $T(n){const e=qt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vO.bind(null,e),e.Pu.J_=sO.bind(null,e.eventManager),e.Pu.yu=oO.bind(null,e.eventManager),e}function SO(n){const e=qt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_O.bind(null,e),e}class Ng{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ly(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return A3(this.persistence,new S3,e.initialUser,this.serializer)}Cu(e){return new NT(g1.Vi,this.serializer)}Du(e){return new M3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ng.provider={build:()=>new Ng};class TO extends Ng{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Cn(this.persistence.referenceDelegate instanceof Rg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new u3(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?la.withCacheSize(this.cacheSizeBytes):la.DEFAULT;return new NT((r=>Rg.Vi(r,t)),this.serializer)}}class D0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xO.bind(null,this.syncEngine),await rO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aO})()}createDatastore(e){const t=ly(e.databaseInfo.databaseId),r=B3(e.databaseInfo);return q3(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,u,f,m){return new G3(r,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>Qw(this.syncEngine,t,0)),(function(){return Hw.v()?new Hw:new L3})())}createSyncEngine(e,t){return(function(o,u,f,m,g,v,_){const x=new fO(o,u,f,m,g,v);return _&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=qt(t);Et(Pc,"RemoteStore shutting down."),r.Ea.add(5),await Rp(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}D0.provider={build:()=>new D0};class I1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const zu="FirestoreClient";class CO{constructor(e,t,r,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=o,this.user=Ri.UNAUTHENTICATED,this.clientId=a1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{Et(zu,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(Et(zu,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=S1(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Pv(n,e){n.asyncQueue.verifyOperationInProgress(),Et(zu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await OT(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Xw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await AO(n);Et(zu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Ww(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>Ww(e.remoteStore,o))),n._onlineComponents=e}async function AO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Et(zu,"Using user provided OfflineComponentProvider");try{await Pv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Je.FAILED_PRECONDITION||o.code===Je.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;lh("Error using user provided cache. Falling back to memory cache: "+t),await Pv(n,new Ng)}}else Et(zu,"Using default OfflineComponentProvider"),await Pv(n,new TO(void 0));return n._offlineComponents}async function N1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Et(zu,"Using user provided OnlineComponentProvider"),await Xw(n,n._uninitializedComponentsProvider._online)):(Et(zu,"Using default OnlineComponentProvider"),await Xw(n,new D0))),n._onlineComponents}function kO(n){return N1(n).then((e=>e.syncEngine))}function DO(n){return N1(n).then((e=>e.datastore))}async function Og(n){const e=await N1(n),t=e.eventManager;return t.onListen=hO.bind(null,e.syncEngine),t.onUnlisten=mO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gO.bind(null,e.syncEngine),t}function RO(n,e,t,r){const o=new I1(r),u=new k1(e,o,t);return n.asyncQueue.enqueueAndForget((async()=>T1(await Og(n),u))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>C1(await Og(n),u)))}}function IO(n,e,t={}){const r=new yo;return n.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,v){const _=new I1({next:T=>{_.Nu(),f.enqueueAndForget((()=>C1(u,x)));const C=T.docs.has(m);!C&&T.fromCache?v.reject(new bt(Je.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&g&&g.source==="server"?v.reject(new bt(Je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(T)},error:T=>v.reject(T)}),x=new k1(ty(m.path),_,{includeMetadataChanges:!0,Ka:!0});return T1(u,x)})(await Og(n),n.asyncQueue,e,t,r))),r.promise}function NO(n,e,t={}){const r=new yo;return n.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,v){const _=new I1({next:T=>{_.Nu(),f.enqueueAndForget((()=>C1(u,x))),T.fromCache&&g.source==="server"?v.reject(new bt(Je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(T)},error:T=>v.reject(T)}),x=new k1(m,_,{includeMetadataChanges:!0,Ka:!0});return T1(u,x)})(await Og(n),n.asyncQueue,e,t,r))),r.promise}function OO(n,e,t){const r=new yo;return n.asyncQueue.enqueueAndForget((async()=>{try{const o=await DO(n);r.resolve((async function(f,m,g){const v=qt(f),{request:_,gt:x,parent:T}=$N(v.serializer,dN(m),g);v.connection.Ko||delete _.parent;const C=(await v.jo("RunAggregationQuery",v.serializer.databaseId,T,_,1)).filter((R=>!!R.result));Cn(C.length===1,64727);const L=C[0].result?.aggregateFields;return Object.keys(L).reduce(((R,I)=>(R[x[I]]=L[I],R)),{})})(o,e,t))}catch(o){r.reject(o)}})),r.promise}function MO(n,e){const t=new yo;return n.asyncQueue.enqueueAndForget((async()=>yO(await kO(n),e,t))),t.promise}function XT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const LO="ComponentProvider",Zw=new Map;function PO(n,e,t,r,o){return new $I(n,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,XT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const ZT="firestore.googleapis.com",Jw=!0;class ex{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new bt(Je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZT,this.ssl=Jw}else this.host=e.host,this.ssl=e.ssl??Jw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o3)throw new bt(Je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new bt(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new bt(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new bt(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fy{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ex({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bt(Je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new bt(Je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ex(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kI;switch(r.type){case"firstParty":return new NI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new bt(Je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Zw.get(t);r&&(Et(LO,"Removing Datastore"),Zw.delete(t),r.terminate())})(this),Promise.resolve()}}function FO(n,e,t,r={}){n=ka(n,fy);const o=_h(e),u=n._getSettings(),f={...u,emulatorOptions:n._getEmulatorOptions()},m=`${e}:${t}`;o&&(CS(`https://${m}`),AS("Firestore",!0)),u.host!==ZT&&u.host!==m&&lh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:r};if(!Oc(g,f)&&(n._setSettings(g),r.mockUserToken)){let v,_;if(typeof r.mockUserToken=="string")v=r.mockUserToken,_=Ri.MOCK_USER;else{v=ZD(r.mockUserToken,n._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new bt(Je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ri(x)}n._authCredentials=new DI(new VS(v,_))}}class To{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new To(this.firestore,e,this._query)}}class Tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tr(this.firestore,e,this._key)}toJSON(){return{type:Tr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Ap(t,Tr._jsonSchema))return new Tr(e,r||null,new Ot(qn.fromString(t.referencePath)))}}Tr._jsonSchemaVersion="firestore/documentReference/1.0",Tr._jsonSchema={type:Ur("string",Tr._jsonSchemaVersion),referencePath:Ur("string")};class Nu extends To{constructor(e,t,r){super(e,t,ty(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tr(this.firestore,null,new Ot(e))}withConverter(e){return new Nu(this.firestore,e,this._path)}}function bp(n,e,...t){if(n=Vr(n),jS("collection","path",e),n instanceof fy){const r=qn.fromString(e,...t);return pw(r),new Nu(n,null,r)}{if(!(n instanceof Tr||n instanceof Nu))throw new bt(Je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qn.fromString(e,...t));return pw(r),new Nu(n.firestore,null,r)}}function _p(n,e,...t){if(n=Vr(n),arguments.length===1&&(e=a1.newId()),jS("doc","path",e),n instanceof fy){const r=qn.fromString(e,...t);return dw(r),new Tr(n,null,new Ot(r))}{if(!(n instanceof Tr||n instanceof Nu))throw new bt(Je.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qn.fromString(e,...t));return dw(r),new Tr(n.firestore,n instanceof Nu?n.converter:null,new Ot(r))}}const tx="AsyncQueue";class nx{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LT(this,"async_queue_retry"),this._c=()=>{const r=Lv();r&&Et(tx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Lv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Lv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new yo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Sh(e))throw e;Et(tx,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,hl("INTERNAL UNHANDLED ERROR: ",rx(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=E1.createAndSchedule(this,e,t,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Bt(47125,{Pc:rx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function rx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class pl extends fy{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new nx,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nx(e),this._firestoreClient=void 0,await e}}}function zO(n,e){const t=typeof n=="object"?n:IS(),r=typeof n=="string"?n:Sg,o=r1(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=$D("firestore");u&&FO(o,...u)}return o}function Ch(n){if(n._terminated)throw new bt(Je.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||BO(n),n._firestoreClient}function BO(n){const e=n._freezeSettings(),t=PO(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new CO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class ss{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ss(mi.fromBase64String(e))}catch(t){throw new bt(Je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ss(mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ss._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ap(e,ss._jsonSchema))return ss.fromBase64String(e.bytes)}}ss._jsonSchemaVersion="firestore/bytes/1.0",ss._jsonSchema={type:Ur("string",ss._jsonSchemaVersion),bytes:Ur("string")};class hy{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new bt(Je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function np(){return new hy(m0)}class dy{constructor(e){this._methodName=e}}class _o{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new bt(Je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new bt(Je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return hn(this._lat,e._lat)||hn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_o._jsonSchemaVersion}}static fromJSON(e){if(Ap(e,_o._jsonSchema))return new _o(e.latitude,e.longitude)}}_o._jsonSchemaVersion="firestore/geoPoint/1.0",_o._jsonSchema={type:Ur("string",_o._jsonSchemaVersion),latitude:Ur("number"),longitude:Ur("number")};class zs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ap(e,zs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new zs(e.vectorValues);throw new bt(Je.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zs._jsonSchemaVersion="firestore/vectorValue/1.0",zs._jsonSchema={type:Ur("string",zs._jsonSchemaVersion),vectorValues:Ur("object")};const UO=/^__.*__$/;class VO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Vu(e,this.data,this.fieldMask,t,this.fieldTransforms):new kp(e,this.data,t,this.fieldTransforms)}}class JT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Vu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt(40011,{dataSource:n})}}class O1{constructor(e,t,r,o,u,f){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new O1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Mg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(eC(this.dataSource)&&UO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class jO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ly(e)}createContext(e,t,r,o=!1){return new O1({dataSource:e,methodName:t,targetDoc:r,path:pi.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function py(n){const e=n._freezeSettings(),t=ly(n._databaseId);return new jO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function tC(n,e,t,r,o,u={}){const f=n.createContext(u.merge||u.mergeFields?2:0,e,t,o);L1("Data must be an object, but it was:",f,r);const m=rC(r,f);let g,v;if(u.merge)g=new Ca(f.fieldMask),v=f.fieldTransforms;else if(u.mergeFields){const _=[];for(const x of u.mergeFields){const T=Fc(e,x,t);if(!f.contains(T))throw new bt(Je.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);sC(_,T)||_.push(T)}g=new Ca(_),v=f.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,v=f.fieldTransforms;return new VO(new Wi(m),g,v)}class my extends dy{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof my}}class M1 extends dy{_toFieldTransform(e){return new CN(e.path,new gp)}isEqual(e){return e instanceof M1}}function HO(n,e,t,r){const o=n.createContext(1,e,t);L1("Data must be an object, but it was:",o,r);const u=[],f=Wi.empty();Uu(r,((g,v)=>{const _=aC(e,g,t);v=Vr(v);const x=o.childContextForFieldPath(_);if(v instanceof my)u.push(_);else{const T=Np(v,x);T!=null&&(u.push(_),f.set(_,T))}}));const m=new Ca(u);return new JT(f,m,o.fieldTransforms)}function qO(n,e,t,r,o,u){const f=n.createContext(1,e,t),m=[Fc(e,r,t)],g=[o];if(u.length%2!=0)throw new bt(Je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)m.push(Fc(e,u[T])),g.push(u[T+1]);const v=[],_=Wi.empty();for(let T=m.length-1;T>=0;--T)if(!sC(v,m[T])){const C=m[T];let L=g[T];L=Vr(L);const R=f.childContextForFieldPath(C);if(L instanceof my)v.push(C);else{const I=Np(L,R);I!=null&&(v.push(C),_.set(C,I))}}const x=new Ca(v);return new JT(_,x,f.fieldTransforms)}function nC(n,e,t,r=!1){return Np(t,n.createContext(r?4:3,e))}function Np(n,e){if(iC(n=Vr(n)))return L1("Unsupported field value:",e,n),rC(n,e);if(n instanceof dy)return(function(r,o){if(!eC(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let g=Np(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(n,e)}return(function(r,o){if((r=Vr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Zn.fromDate(r);return{timestampValue:Dg(o.serializer,u)}}if(r instanceof Zn){const u=new Zn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dg(o.serializer,u)}}if(r instanceof _o)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ss)return{bytesValue:xT(o.serializer,r._byteString)};if(r instanceof Tr){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:p1(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof zs)return(function(f,m){const g=f instanceof zs?f.toArray():f;return{mapValue:{fields:{[XS]:{stringValue:ZS},[Tg]:{arrayValue:{values:g.map((_=>{if(typeof _!="number")throw m.createError("VectorValues must only contain numeric values.");return f1(m.serializer,_)}))}}}}}})(r,o);if(RT(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${$g(r)}`)})(n,e)}function rC(n,e){const t={};return WS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uu(n,((r,o)=>{const u=Np(o,e.childContextForField(r));u!=null&&(t[r]=u)})),{mapValue:{fields:t}}}function iC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zn||n instanceof _o||n instanceof ss||n instanceof Tr||n instanceof dy||n instanceof zs||RT(n))}function L1(n,e,t){if(!iC(t)||!HS(t)){const r=$g(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Fc(n,e,t){if((e=Vr(e))instanceof hy)return e._internalPath;if(typeof e=="string")return aC(n,e);throw Mg("Field path arguments must be of type string or ",n,!1,void 0,t)}const WO=new RegExp("[~\\*/\\[\\]]");function aC(n,e,t){if(e.search(WO)>=0)throw Mg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hy(...e.split("."))._internalPath}catch{throw Mg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mg(n,e,t,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new bt(Je.INVALID_ARGUMENT,m+n+g)}function sC(n,e){return n.some((t=>t.isEqual(e)))}class GO{convertValue(e,t="none"){switch(Pu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Bt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Uu(e,((o,u)=>{r[o]=this.convertValue(u,t)})),r}convertVectorValue(e){const t=e.fields?.[Tg].arrayValue?.values?.map((r=>Sr(r.doubleValue)));return new zs(t)}convertGeoPoint(e){return new _o(Sr(e.latitude),Sr(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ey(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hp(e));default:return null}}convertTimestamp(e){const t=Mu(e);return new Zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=qn.fromString(e);Cn(DT(r),9688,{name:e});const o=new dp(r.get(1),r.get(3)),u=new Ot(r.popFirst(5));return o.isEqual(t)||hl(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}class gy extends GO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ss(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,t)}}function oC(){return new M1("serverTimestamp")}const ix="@firebase/firestore",ax="4.10.0";function sx(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class YO{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class KO{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new Wi({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class P1{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Fc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class QO extends P1{data(){return super.data()}}function lC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new bt(Je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F1{}class yy extends F1{}function rp(n,e,...t){let r=[];e instanceof F1&&r.push(e),r=r.concat(t),(function(u){const f=u.filter((g=>g instanceof z1)).length,m=u.filter((g=>g instanceof vy)).length;if(f>1||f>0&&m>0)throw new bt(Je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class vy extends yy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new vy(e,t,r)}_apply(e){const t=this._parse(e);return uC(e._query,t),new To(e.firestore,e.converter,_0(e._query,t))}_parse(e){const t=py(e.firestore);return(function(u,f,m,g,v,_,x){let T;if(v.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new bt(Je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){lx(x,_);const L=[];for(const R of x)L.push(ox(g,u,R));T={arrayValue:{values:L}}}else T=ox(g,u,x)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||lx(x,_),T=nC(m,f,x,_==="in"||_==="not-in");return Br.create(v,_,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ip(n,e,t){const r=e,o=Fc("where",n);return vy._create(o,r,t)}class z1 extends F1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new z1(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Vs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)uC(f,g),f=_0(f,g)})(e._query,t),new To(e.firestore,e.converter,_0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class B1 extends yy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new B1(e,t)}_apply(e){const t=(function(o,u,f){if(o.startAt!==null)throw new bt(Je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new bt(Je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mp(u,f)})(e._query,this._field,this._direction);return new To(e.firestore,e.converter,pN(e._query,t))}}function $O(n,e="asc"){const t=e,r=Fc("orderBy",n);return B1._create(r,t)}class U1 extends yy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new U1(e,t,r)}_apply(e){return new To(e.firestore,e.converter,Ag(e._query,this._limit,this._limitType))}}function XO(n){return U1._create("limit",n,"F")}class V1 extends yy{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new V1(e,t,r)}_apply(e){const t=JO(e,this.type,this._docOrFields,this._inclusive);return new To(e.firestore,e.converter,mN(e._query,t))}}function ZO(...n){return V1._create("startAfter",n,!1)}function JO(n,e,t,r){if(t[0]=Vr(t[0]),t[0]instanceof P1)return(function(u,f,m,g,v){if(!g)throw new bt(Je.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const _=[];for(const x of Jf(u))if(x.field.isKeyField())_.push(Cg(f,g.key));else{const T=g.data.field(x.field);if(Jg(T))throw new bt(Je.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){const C=x.field.canonicalString();throw new bt(Je.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${C}' (used as the orderBy) does not exist.`)}_.push(T)}return new hh(_,v)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=py(n.firestore);return(function(f,m,g,v,_,x){const T=f.explicitOrderBy;if(_.length>T.length)throw new bt(Je.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const C=[];for(let L=0;L<_.length;L++){const R=_[L];if(T[L].field.isKeyField()){if(typeof R!="string")throw new bt(Je.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof R}`);if(!c1(f)&&R.indexOf("/")!==-1)throw new bt(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${R}' contains a slash.`);const I=f.path.child(qn.fromString(R));if(!Ot.isDocumentKey(I))throw new bt(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const N=new Ot(I);C.push(Cg(m,N))}else{const I=nC(g,v,R);C.push(I)}}return new hh(C,x)})(n._query,n.firestore._databaseId,o,e,t,r)}}function ox(n,e,t){if(typeof(t=Vr(t))=="string"){if(t==="")throw new bt(Je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c1(e)&&t.indexOf("/")!==-1)throw new bt(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(qn.fromString(t));if(!Ot.isDocumentKey(r))throw new bt(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cg(n,new Ot(r))}if(t instanceof Tr)return Cg(n,t._key);throw new bt(Je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$g(t)}.`)}function lx(n,e){if(!Array.isArray(n)||n.length===0)throw new bt(Je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uC(n,e){const t=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new bt(Je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new bt(Je.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function cC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}function eM(){return new YO("count")}function fC(n){return tM(n,{count:eM()})}function tM(n,e){const t=ka(n.firestore,pl),r=Ch(t),o=KI(e,((u,f)=>new MN(f,u.aggregateType,u._internalFieldPath)));return OO(r,n._query,o).then((u=>(function(m,g,v){const _=new gy(m);return new KO(g,_,v)})(t,n,u)))}class $d{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rc extends P1{constructor(e,t,r,o,u,f){super(e,t,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Fc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new bt(Je.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Rc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Rc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rc._jsonSchema={type:Ur("string",Rc._jsonSchemaVersion),bundleSource:Ur("string","DocumentSnapshot"),bundleName:Ur("string"),bundle:Ur("string")};class fg extends Rc{data(e={}){return super.data(e)}}class Ic{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new $d(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new fg(this._firestore,this._userDataWriter,r.key,r,new $d(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new bt(Je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new fg(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $d(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new fg(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $d(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,_=-1;return m.type!==0&&(v=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),_=f.indexOf(m.doc.key)),{type:nM(m.type),doc:g,oldIndex:v,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new bt(Je.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ic._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=a1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt(61501,{type:n})}}Ic._jsonSchemaVersion="firestore/querySnapshot/1.0",Ic._jsonSchema={type:Ur("string",Ic._jsonSchemaVersion),bundleSource:Ur("string","QuerySnapshot"),bundleName:Ur("string"),bundle:Ur("string")};class rM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=py(e)}set(e,t,r){this._verifyNotCommitted();const o=Fv(e,this._firestore),u=cC(o.converter,t,r),f=tC(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,r);return this._mutations.push(f.toMutation(o._key,Da.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Fv(e,this._firestore);let f;return f=typeof(t=Vr(t))=="string"||t instanceof hy?qO(this._dataReader,"WriteBatch.update",u._key,t,r,o):HO(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(f.toMutation(u._key,Da.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Fv(e,this._firestore);return this._mutations=this._mutations.concat(new sy(t._key,Da.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new bt(Je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fv(n,e){if((n=Vr(n)).firestore!==e)throw new bt(Je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function iM(n){n=ka(n,Tr);const e=ka(n.firestore,pl),t=Ch(e);return IO(t,n._key).then((r=>hC(e,n,r)))}function j1(n){n=ka(n,To);const e=ka(n.firestore,pl),t=Ch(e),r=new gy(e);return lC(n._query),NO(t,n._query).then((o=>new Ic(e,r,n,o)))}function aM(n,e,t){n=ka(n,Tr);const r=ka(n.firestore,pl),o=cC(n.converter,e,t),u=py(r);return H1(r,[tC(u,"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Da.none())])}function sM(n){return H1(ka(n.firestore,pl),[new sy(n._key,Da.none())])}function oM(n,...e){n=Vr(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||sx(e[r])||(t=e[r++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(sx(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let u,f,m;if(n instanceof Tr)f=ka(n.firestore,pl),m=ty(n._key.path),u={next:v=>{e[r]&&e[r](hC(f,n,v))},error:e[r+1],complete:e[r+2]};else{const v=ka(n,To);f=ka(v.firestore,pl),m=v._query;const _=new gy(f);u={next:x=>{e[r]&&e[r](new Ic(f,_,v,x))},error:e[r+1],complete:e[r+2]},lC(n._query)}const g=Ch(f);return RO(g,m,o,u)}function H1(n,e){const t=Ch(n);return MO(t,e)}function hC(n,e,t){const r=t.docs.get(e._key),o=new gy(n);return new Rc(n,o,e._key,r,new $d(t.hasPendingWrites,t.fromCache),e.converter)}function dC(n){return n=ka(n,pl),Ch(n),new rM(n,(e=>H1(n,e)))}(function(e,t=!0){AI(wh),oh(new Mc("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new pl(new RI(r.getProvider("auth-internal")),new OI(f,r.getProvider("app-check-internal")),XI(f,o),f);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ru(ix,ax,e),Ru(ix,ax,"esm2020")})();function pC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lM=pC,mC=new Tp("auth","Firebase",pC());const Lg=new t1("@firebase/auth");function uM(n,...e){Lg.logLevel<=fn.WARN&&Lg.warn(`Auth (${wh}): ${n}`,...e)}function hg(n,...e){Lg.logLevel<=fn.ERROR&&Lg.error(`Auth (${wh}): ${n}`,...e)}function Eo(n,...e){throw W1(n,...e)}function Bs(n,...e){return W1(n,...e)}function q1(n,e,t){const r={...lM(),[e]:t};return new Tp("auth","Firebase",r).create(e,{appName:n.name})}function Nc(n){return q1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cM(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Eo(n,"argument-error"),q1(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function W1(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return mC.create(n,...e)}function jt(n,e,...t){if(!n)throw W1(e,...t)}function ol(n){const e="INTERNAL ASSERTION FAILED: "+n;throw hg(e),new Error(e)}function ml(n,e){n||ol(e)}function R0(){return typeof self<"u"&&self.location?.href||""}function fM(){return ux()==="http:"||ux()==="https:"}function ux(){return typeof self<"u"&&self.location?.protocol||null}function hM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fM()||iR()||"connection"in navigator)?navigator.onLine:!0}function dM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Op{constructor(e,t){this.shortDelay=e,this.longDelay=t,ml(t>e,"Short delay should be less than long delay!"),this.isMobile=tR()||aR()}get(){return hM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function G1(n,e){ml(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class gC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ol("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ol("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ol("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gM=new Op(3e4,6e4);function Y1(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ah(n,e,t,r,o={}){return yC(n,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const m=Cp({key:n.config.apiKey,...f}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:g,...u};return rR()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&_h(n.emulatorConfig.host)&&(v.credentials="include"),gC.fetch()(await vC(n,n.config.apiHost,t,m),v)})}async function yC(n,e,t){n._canInitEmulator=!1;const r={...pM,...e};try{const o=new vM(n),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xm(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,v]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xm(n,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Xm(n,"email-already-in-use",f);if(g==="USER_DISABLED")throw Xm(n,"user-disabled",f);const _=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw q1(n,_,v);Eo(n,_)}}catch(o){if(o instanceof yl)throw o;Eo(n,"network-request-failed",{message:String(o)})}}async function yM(n,e,t,r,o={}){const u=await Ah(n,e,t,r,o);return"mfaPendingCredential"in u&&Eo(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function vC(n,e,t,r){const o=`${e}${t}?${r}`,u=n,f=u.config.emulator?G1(n.config,o):`${n.config.apiScheme}://${o}`;return mM.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class vM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Bs(this.auth,"network-request-failed")),gM.get())})}}function Xm(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Bs(n,e,r);return o.customData._tokenResponse=t,o}async function bM(n,e){return Ah(n,"POST","/v1/accounts:delete",e)}async function Pg(n,e){return Ah(n,"POST","/v1/accounts:lookup",e)}function ap(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _M(n,e=!1){const t=Vr(n),r=await t.getIdToken(e),o=K1(r);jt(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:ap(zv(o.auth_time)),issuedAtTime:ap(zv(o.iat)),expirationTime:ap(zv(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function zv(n){return Number(n)*1e3}function K1(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return hg("JWT malformed, contained fewer than 3 sections"),null;try{const o=xS(t);return o?JSON.parse(o):(hg("Failed to decode base64 JWT payload"),null)}catch(o){return hg("Caught error parsing JWT payload as JSON",o?.toString()),null}}function cx(n){const e=K1(n);return jt(e,"internal-error"),jt(typeof e.exp<"u","internal-error"),jt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wp(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof yl&&wM(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function wM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class xM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class I0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ap(this.lastLoginAt),this.creationTime=ap(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fg(n){const e=n.auth,t=await n.getIdToken(),r=await wp(n,Pg(e,{idToken:t}));jt(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?bC(o.providerUserInfo):[],f=SM(n.providerData,u),m=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!f?.length,v=m?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new I0(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,_)}async function EM(n){const e=Vr(n);await Fg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SM(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function bC(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function TM(n,e){const t=await yC(n,{},async()=>{const r=Cp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,f=await vC(n,o,"/v1/token",`key=${u}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return n.emulatorConfig&&_h(n.emulatorConfig.host)&&(g.credentials="include"),gC.fetch()(f,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function CM(n,e){return Ah(n,"POST","/v2/accounts:revokeToken",Y1(n,e))}class nh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){jt(e.idToken,"internal-error"),jt(typeof e.idToken<"u","internal-error"),jt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){jt(e.length!==0,"internal-error");const t=cx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:u}=await TM(e,t);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:u}=t,f=new nh;return r&&(jt(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(jt(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(jt(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nh,this.toJSON())}_performRefresh(){return ol("not implemented")}}function bu(n,e){jt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Fs{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new xM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new I0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await wp(this,this.stsTokenManager.getToken(this.auth,e));return jt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _M(this,e)}reload(){return EM(this)}_assign(e){this!==e&&(jt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Fg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ps(this.auth.app))return Promise.reject(Nc(this.auth));const e=await this.getIdToken();return await wp(this,bM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,f=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,v=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:x,emailVerified:T,isAnonymous:C,providerData:L,stsTokenManager:R}=t;jt(x&&R,e,"internal-error");const I=nh.fromJSON(this.name,R);jt(typeof x=="string",e,"internal-error"),bu(r,e.name),bu(o,e.name),jt(typeof T=="boolean",e,"internal-error"),jt(typeof C=="boolean",e,"internal-error"),bu(u,e.name),bu(f,e.name),bu(m,e.name),bu(g,e.name),bu(v,e.name),bu(_,e.name);const N=new Fs({uid:x,auth:e,email:o,emailVerified:T,displayName:r,isAnonymous:C,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:I,createdAt:v,lastLoginAt:_});return L&&Array.isArray(L)&&(N.providerData=L.map(P=>({...P}))),g&&(N._redirectEventId=g),N}static async _fromIdTokenResponse(e,t,r=!1){const o=new nh;o.updateFromServerResponse(t);const u=new Fs({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Fg(u),u}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];jt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?bC(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new nh;m.updateFromIdToken(r);const g=new Fs({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new I0(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,v),g}}const fx=new Map;function ll(n){ml(n instanceof Function,"Expected a class definition");let e=fx.get(n);return e?(ml(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fx.set(n,e),e)}class _C{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_C.type="NONE";const hx=_C;function dg(n,e,t){return`firebase:${n}:${e}:${t}`}class rh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=dg(this.userKey,o.apiKey,u),this.fullPersistenceKey=dg("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Pg(this.auth,{idToken:e}).catch(()=>{});return t?Fs._fromGetAccountInfoResponse(this.auth,t,e):null}return Fs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new rh(ll(hx),e,r);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||ll(hx);const f=dg(r,e.config.apiKey,e.name);let m=null;for(const v of t)try{const _=await v._get(f);if(_){let x;if(typeof _=="string"){const T=await Pg(e,{idToken:_}).catch(()=>{});if(!T)break;x=await Fs._fromGetAccountInfoResponse(e,T,_)}else x=Fs._fromJSON(e,_);v!==u&&(m=x),u=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new rh(u,e,r):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async v=>{if(v!==u)try{await v._remove(f)}catch{}})),new rh(u,e,r))}}function dx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CC(e))return"Blackberry";if(AC(e))return"Webos";if(xC(e))return"Safari";if((e.includes("chrome/")||EC(e))&&!e.includes("edge/"))return"Chrome";if(TC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function wC(n=Ni()){return/firefox\//i.test(n)}function xC(n=Ni()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EC(n=Ni()){return/crios\//i.test(n)}function SC(n=Ni()){return/iemobile/i.test(n)}function TC(n=Ni()){return/android/i.test(n)}function CC(n=Ni()){return/blackberry/i.test(n)}function AC(n=Ni()){return/webos/i.test(n)}function Q1(n=Ni()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function AM(n=Ni()){return Q1(n)&&!!window.navigator?.standalone}function kM(){return sR()&&document.documentMode===10}function kC(n=Ni()){return Q1(n)||TC(n)||AC(n)||CC(n)||/windows phone/i.test(n)||SC(n)}function DC(n,e=[]){let t;switch(n){case"Browser":t=dx(Ni());break;case"Worker":t=`${dx(Ni())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wh}/${r}`}class DM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function RM(n,e={}){return Ah(n,"GET","/v2/passwordPolicy",Y1(n,e))}const IM=6;class NM{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??IM,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class OM{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new px(this),this.idTokenSubscription=new px(this),this.beforeStateQueue=new DM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ll(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Pg(this,{idToken:e}),r=await Fs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ps(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ps(this.app))return Promise.reject(Nc(this));const t=e?Vr(e):null;return t&&jt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&jt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ps(this.app)?Promise.reject(Nc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ps(this.app)?Promise.reject(Nc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ll(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RM(this),t=new NM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tp("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await CM(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ll(e)||this._popupRedirectResolver;jt(t,this,"argument-error"),this.redirectPersistenceManager=await rh.create(this,[ll(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,r,o);return()=>{f=!0,g()}}else{const g=e.addObserver(t);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function by(n){return Vr(n)}class px{constructor(e){this.auth=e,this.observer=null,this.addObserver=pR(t=>this.observer=t)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MM(n){$1=n}function LM(n){return $1.loadJS(n)}function PM(){return $1.gapiScript}function FM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function zM(n,e){const t=r1(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Oc(u,e??{}))return o;Eo(o,"already-initialized")}return t.initialize({options:e})}function BM(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ll);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function UM(n,e,t){const r=by(n);jt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=RC(e),{host:f,port:m}=VM(e),g=m===null?"":`:${m}`,v={url:`${u}//${f}${g}/`},_=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){jt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),jt(Oc(v,r.config.emulator)&&Oc(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,_h(f)?(CS(`${u}//${f}${g}`),AS("Auth",!0)):jM()}function RC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function VM(n){const e=RC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:mx(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:mx(f)}}}function mx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function jM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class IC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ol("not implemented")}_getIdTokenResponse(e){return ol("not implemented")}_linkToIdToken(e,t){return ol("not implemented")}_getReauthenticationResolver(e){return ol("not implemented")}}async function ih(n,e){return yM(n,"POST","/v1/accounts:signInWithIdp",Y1(n,e))}const HM="http://localhost";class zc extends IC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Eo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=t;if(!r||!o)return null;const f=new zc(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return ih(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ih(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ih(e,t)}buildRequest(){const e={requestUri:HM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cp(t)}return e}}class X1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Mp extends X1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Eu extends Mp{constructor(){super("facebook.com")}static credential(e){return zc._fromParams({providerId:Eu.PROVIDER_ID,signInMethod:Eu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eu.credentialFromTaggedObject(e)}static credentialFromError(e){return Eu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eu.credential(e.oauthAccessToken)}catch{return null}}}Eu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Eu.PROVIDER_ID="facebook.com";class sl extends Mp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zc._fromParams({providerId:sl.PROVIDER_ID,signInMethod:sl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sl.credentialFromTaggedObject(e)}static credentialFromError(e){return sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return sl.credential(t,r)}catch{return null}}}sl.GOOGLE_SIGN_IN_METHOD="google.com";sl.PROVIDER_ID="google.com";class Su extends Mp{constructor(){super("github.com")}static credential(e){return zc._fromParams({providerId:Su.PROVIDER_ID,signInMethod:Su.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Su.credentialFromTaggedObject(e)}static credentialFromError(e){return Su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Su.credential(e.oauthAccessToken)}catch{return null}}}Su.GITHUB_SIGN_IN_METHOD="github.com";Su.PROVIDER_ID="github.com";class Tu extends Mp{constructor(){super("twitter.com")}static credential(e,t){return zc._fromParams({providerId:Tu.PROVIDER_ID,signInMethod:Tu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Tu.credentialFromTaggedObject(e)}static credentialFromError(e){return Tu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Tu.credential(t,r)}catch{return null}}}Tu.TWITTER_SIGN_IN_METHOD="twitter.com";Tu.PROVIDER_ID="twitter.com";class mh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const u=await Fs._fromIdTokenResponse(e,r,o),f=gx(r);return new mh({user:u,providerId:f,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=gx(r);return new mh({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function gx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class zg extends yl{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,zg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new zg(e,t,r,o)}}function NC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?zg._fromErrorAndOperation(n,u,e,r):u})}async function qM(n,e,t=!1){const r=await wp(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return mh._forOperation(n,"link",r)}async function WM(n,e,t=!1){const{auth:r}=n;if(Ps(r.app))return Promise.reject(Nc(r));const o="reauthenticate";try{const u=await wp(n,NC(r,o,e,n),t);jt(u.idToken,r,"internal-error");const f=K1(u.idToken);jt(f,r,"internal-error");const{sub:m}=f;return jt(n.uid===m,r,"user-mismatch"),mh._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Eo(r,"user-mismatch"),u}}async function GM(n,e,t=!1){if(Ps(n.app))return Promise.reject(Nc(n));const r="signIn",o=await NC(n,r,e),u=await mh._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(u.user),u}function YM(n,e,t,r){return Vr(n).onIdTokenChanged(e,t,r)}function KM(n,e,t){return Vr(n).beforeAuthStateChanged(e,t)}function QM(n,e,t,r){return Vr(n).onAuthStateChanged(e,t,r)}function yx(n){return Vr(n).signOut()}const Bg="__sak";class OC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bg,"1"),this.storage.removeItem(Bg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $M=1e3,XM=10;class MC extends OC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!t&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);kM()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,XM):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},$M)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}MC.type="LOCAL";const ZM=MC;class LC extends OC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}LC.type="SESSION";const PC=LC;function JM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class _y{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new _y(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!f?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async v=>v(t.origin,u)),g=await JM(m);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_y.receivers=[];function Z1(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class eL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const v=Z1("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(x){const T=x;if(T.data.eventId===v)switch(T.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(T.data.response);break;default:clearTimeout(_),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function wo(){return window}function tL(n){wo().location.href=n}function FC(){return typeof wo().WorkerGlobalScope<"u"&&typeof wo().importScripts=="function"}async function nL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rL(){return navigator?.serviceWorker?.controller||null}function iL(){return FC()?self:null}const zC="firebaseLocalStorageDb",aL=1,Ug="firebaseLocalStorage",BC="fbase_key";class Lp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wy(n,e){return n.transaction([Ug],e?"readwrite":"readonly").objectStore(Ug)}function sL(){const n=indexedDB.deleteDatabase(zC);return new Lp(n).toPromise()}function N0(){const n=indexedDB.open(zC,aL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ug,{keyPath:BC})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ug)?e(r):(r.close(),await sL(),e(await N0()))})})}async function vx(n,e,t){const r=wy(n,!0).put({[BC]:e,value:t});return new Lp(r).toPromise()}async function oL(n,e){const t=wy(n,!1).get(e),r=await new Lp(t).toPromise();return r===void 0?null:r.value}function bx(n,e){const t=wy(n,!0).delete(e);return new Lp(t).toPromise()}const lL=800,uL=3;class UC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await N0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>uL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_y._getInstance(iL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nL(),!this.activeServiceWorker)return;this.sender=new eL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await N0();return await vx(e,Bg,"1"),await bx(e,Bg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>vx(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>oL(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>bx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=wy(o,!1).getAll();return new Lp(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UC.type="LOCAL";const cL=UC;new Op(3e4,6e4);function VC(n,e){return e?ll(e):(jt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class J1 extends IC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ih(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ih(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ih(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fL(n){return GM(n.auth,new J1(n),n.bypassAuthState)}function hL(n){const{auth:e,user:t}=n;return jt(t,e,"internal-error"),WM(t,new J1(n),n.bypassAuthState)}async function dL(n){const{auth:e,user:t}=n;return jt(t,e,"internal-error"),qM(t,new J1(n),n.bypassAuthState)}class jC{constructor(e,t,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:t,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fL;case"linkViaPopup":case"linkViaRedirect":return dL;case"reauthViaPopup":case"reauthViaRedirect":return hL;default:Eo(this.auth,"internal-error")}}resolve(e){ml(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ml(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pL=new Op(2e3,1e4);async function mL(n,e,t){if(Ps(n.app))return Promise.reject(Bs(n,"operation-not-supported-in-this-environment"));const r=by(n);cM(n,e,X1);const o=VC(r,t);return new Dc(r,"signInViaPopup",e,o).executeNotNull()}class Dc extends jC{constructor(e,t,r,o,u){super(e,t,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Dc.currentPopupAction&&Dc.currentPopupAction.cancel(),Dc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return jt(e,this.auth,"internal-error"),e}async onExecution(){ml(this.filter.length===1,"Popup operations only handle one event");const e=Z1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pL.get())};e()}}Dc.currentPopupAction=null;const gL="pendingRedirect",pg=new Map;class yL extends jC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=pg.get(this.auth._key());if(!e){try{const r=await vL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}pg.set(this.auth._key(),e)}return this.bypassAuthState||pg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vL(n,e){const t=wL(e),r=_L(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function bL(n,e){pg.set(n._key(),e)}function _L(n){return ll(n._redirectPersistence)}function wL(n){return dg(gL,n.config.apiKey,n.name)}async function xL(n,e,t=!1){if(Ps(n.app))return Promise.reject(Nc(n));const r=by(n),o=VC(r,e),f=await new yL(r,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const EL=600*1e3;class SL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!HC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Bs(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EL&&this.cachedEventUids.clear(),this.cachedEventUids.has(_x(e))}saveEventToCache(e){this.cachedEventUids.add(_x(e)),this.lastProcessedEventTime=Date.now()}}function _x(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function HC({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function TL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HC(n);default:return!1}}async function CL(n,e={}){return Ah(n,"GET","/v1/projects",e)}const AL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kL=/^https?/;async function DL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await CL(n);for(const t of e)try{if(RL(t))return}catch{}Eo(n,"unauthorized-domain")}function RL(n){const e=R0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===r}if(!kL.test(t))return!1;if(AL.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const IL=new Op(3e4,6e4);function wx(){const n=wo().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function NL(n){return new Promise((e,t)=>{function r(){wx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wx(),t(Bs(n,"network-request-failed"))},timeout:IL.get()})}if(wo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(wo().gapi?.load)r();else{const o=FM("iframefcb");return wo()[o]=()=>{gapi.load?r():t(Bs(n,"network-request-failed"))},LM(`${PM()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw mg=null,e})}let mg=null;function OL(n){return mg=mg||NL(n),mg}const ML=new Op(5e3,15e3),LL="__/auth/iframe",PL="emulator/auth/iframe",FL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BL(n){const e=n.config;jt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?G1(e,PL):`https://${n.config.authDomain}/${LL}`,r={apiKey:e.apiKey,appName:n.name,v:wh},o=zL.get(n.config.apiHost);o&&(r.eid=o);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${Cp(r).slice(1)}`}async function UL(n){const e=await OL(n),t=wo().gapi;return jt(t,n,"internal-error"),e.open({where:document.body,url:BL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FL,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Bs(n,"network-request-failed"),m=wo().setTimeout(()=>{u(f)},ML.get());function g(){wo().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(f)})}))}const VL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jL=500,HL=600,qL="_blank",WL="http://localhost";class xx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GL(n,e,t,r=jL,o=HL){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...VL,width:r.toString(),height:o.toString(),top:u,left:f},v=Ni().toLowerCase();t&&(m=EC(v)?qL:t),wC(v)&&(e=e||WL,g.scrollbars="yes");const _=Object.entries(g).reduce((T,[C,L])=>`${T}${C}=${L},`,"");if(AM(v)&&m!=="_self")return YL(e||"",m),new xx(null);const x=window.open(e||"",m,_);jt(x,n,"popup-blocked");try{x.focus()}catch{}return new xx(x)}function YL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const KL="__/auth/handler",QL="emulator/auth/handler",$L=encodeURIComponent("fac");async function Ex(n,e,t,r,o,u){jt(n.config.authDomain,n,"auth-domain-config-required"),jt(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:wh,eventId:o};if(e instanceof X1){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",dR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,x]of Object.entries({}))f[_]=x}if(e instanceof Mp){const _=e.getScopes().filter(x=>x!=="");_.length>0&&(f.scopes=_.join(","))}n.tenantId&&(f.tid=n.tenantId);const m=f;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const g=await n._getAppCheckToken(),v=g?`#${$L}=${encodeURIComponent(g)}`:"";return`${XL(n)}?${Cp(m).slice(1)}${v}`}function XL({config:n}){return n.emulator?G1(n,QL):`https://${n.authDomain}/${KL}`}const Bv="webStorageSupport";class ZL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PC,this._completeRedirectFn=xL,this._overrideRedirectResult=bL}async _openPopup(e,t,r,o){ml(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Ex(e,t,r,R0(),o);return GL(e,u,Z1())}async _openRedirect(e,t,r,o){await this._originValidation(e);const u=await Ex(e,t,r,R0(),o);return tL(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ml(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await UL(e),r=new SL(e);return t.register("authEvent",o=>(jt(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bv,{type:Bv},o=>{const u=o?.[0]?.[Bv];u!==void 0&&t(!!u),Eo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kC()||xC()||Q1()}}const JL=ZL;var Sx="@firebase/auth",Tx="1.12.0";class e4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function t4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n4(n){oh(new Mc("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;jt(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DC(n)},v=new OM(r,o,u,g);return BM(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),oh(new Mc("auth-internal",e=>{const t=by(e.getProvider("auth").getImmediate());return(r=>new e4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ru(Sx,Tx,t4(n)),Ru(Sx,Tx,"esm2020")}const r4=300,i4=TS("authIdTokenMaxAge")||r4;let Cx=null;const a4=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>i4)return;const o=t?.token;Cx!==o&&(Cx=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function s4(n=IS()){const e=r1(n,"auth");if(e.isInitialized())return e.getImmediate();const t=zM(n,{popupRedirectResolver:JL,persistence:[cL,ZM,PC]}),r=TS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=a4(u.toString());KM(t,f,()=>f(t.currentUser)),YM(t,m=>f(m))}}const o=ES("auth");return o&&UM(t,`http://${o}`),t}function o4(){return document.getElementsByTagName("head")?.[0]??document}MM({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const u=Bs("internal-error");u.customData=o,t(u)},r.type="text/javascript",r.charset="UTF-8",o4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n4("Browser");const l4={apiKey:"AIzaSyACKFKodpIU-5jFaT3ZM84UFXZAF554vdQ",authDomain:"journal-viewer-xander.firebaseapp.com",projectId:"journal-viewer-xander",storageBucket:"journal-viewer-xander.firebasestorage.app",messagingSenderId:"801333115291",appId:"1:801333115291:web:2ebfb5333dbcc41ae9c93e"},qC=RS(l4),os=zO(qC),Zm=s4(qC),u4=new sl,WC=Ae.createContext();function vl(){return Ae.useContext(WC)}function c4({children:n}){const[e,t]=Ae.useState(null),[r,o]=Ae.useState(!0);function u(){return mL(Zm,u4)}function f(){return yx(Zm)}Ae.useEffect(()=>{const g=["xanderwiles@gmail.com"];return QM(Zm,_=>{_&&!_.email.endsWith("@xanderwiles.com")&&!g.includes(_.email)?(alert("Access restricted to authorized users only."),yx(Zm),t(null)):t(_),o(!1)})},[]);const m={currentUser:e,login:u,logout:f};return ye.jsx(WC.Provider,{value:m,children:!r&&n})}const GC=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();const f4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const h4=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());const Ax=n=>{const e=h4(n);return e.charAt(0).toUpperCase()+e.slice(1)};var d4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const p4=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const m4=Ae.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:f,...m},g)=>Ae.createElement("svg",{ref:g,...d4,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:GC("lucide",o),...!u&&!p4(m)&&{"aria-hidden":"true"},...m},[...f.map(([v,_])=>Ae.createElement(v,_)),...Array.isArray(u)?u:[u]]));const pr=(n,e)=>{const t=Ae.forwardRef(({className:r,...o},u)=>Ae.createElement(m4,{ref:u,iconNode:e,className:GC(`lucide-${f4(Ax(n))}`,`lucide-${n}`,r),...o}));return t.displayName=Ax(n),t};const g4=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],y4=pr("archive",g4);const v4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],b4=pr("arrow-left",v4);const _4=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],w4=pr("book",_4);const x4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xy=pr("calendar",x4);const E4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],O0=pr("chevron-left",E4);const S4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],M0=pr("chevron-right",S4);const T4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Vg=pr("circle-alert",T4);const C4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eb=pr("circle-check-big",C4);const A4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],k4=pr("copy",A4);const D4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],kx=pr("download",D4);const R4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Dx=pr("file-text",R4);const I4=[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]],N4=pr("folder-input",I4);const O4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],M4=pr("info",O4);const L4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],P4=pr("layers",L4);const F4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],YC=pr("loader-circle",F4);const z4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],B4=pr("log-out",z4);const U4=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],V4=pr("pen-tool",U4);const j4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Rx=pr("pen",j4);const H4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],q4=pr("save",H4);const W4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gg=pr("search",W4);const G4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Y4=pr("triangle-alert",G4);const K4=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Q4=pr("wrench",K4);const $4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ey=pr("x",$4),KC=Ae.createContext(null);function X4({children:n}){const[e,t]=Ae.useState([]),r=Ae.useCallback((g,v="info",_=5e3)=>{const x=Date.now();t(T=>[...T,{id:x,message:g,type:v}]),_&&setTimeout(()=>{o(x)},_)},[]),o=Ae.useCallback(g=>{t(v=>v.filter(_=>_.id!==g))},[]),u=Ae.useCallback(g=>r(g,"success"),[r]),f=Ae.useCallback(g=>r(g,"error"),[r]),m=Ae.useCallback(g=>r(g,"info"),[r]);return ye.jsxs(KC.Provider,{value:{addToast:r,removeToast:o,success:u,error:f,info:m},children:[n,ye.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-sm pointer-events-none",children:e.map(g=>ye.jsxs("div",{className:`
                            pointer-events-auto flex items-start gap-3 p-4 rounded-lg shadow-lg border backdrop-blur-md transition-all duration-300 animate-slide-in
                            ${g.type==="success"?"bg-green-500/10 border-green-500/20 text-green-200":""}
                            ${g.type==="error"?"bg-red-500/10 border-red-500/20 text-red-200":""}
                            ${g.type==="info"?"bg-blue-500/10 border-blue-500/20 text-blue-200":""}
                        `,children:[g.type==="success"&&ye.jsx(eb,{className:"w-5 h-5 shrink-0 text-green-400"}),g.type==="error"&&ye.jsx(Vg,{className:"w-5 h-5 shrink-0 text-red-400"}),g.type==="info"&&ye.jsx(M4,{className:"w-5 h-5 shrink-0 text-blue-400"}),ye.jsx("p",{className:"text-sm font-medium",children:g.message}),ye.jsx("button",{onClick:()=>o(g.id),className:"shrink-0 opacity-70 hover:opacity-100 transition-opacity",children:ye.jsx(Ey,{className:"w-4 h-4"})})]},g.id))})]})}function Z4(){const n=Ae.useContext(KC);if(!n)throw new Error("useToast must be used within a ToastProvider");return n}const QC=Ae.createContext();function $C(){return Ae.useContext(QC)}function J4({children:n}){const[e,t]=Ae.useState(!1),[r,o]=Ae.useState(null),m={isBackupOpen:e,backupMessage:r,openBackup:(g=null)=>{o(g),t(!0)},closeBackup:()=>{t(!1),o(null)}};return ye.jsx(QC.Provider,{value:m,children:n})}function e6(){const{login:n}=vl(),[e,t]=Ae.useState(""),r=Uc();async function o(){try{t(""),await n(),r("/")}catch(u){t("Failed to sign in: "+u.message)}}return ye.jsx("div",{className:"flex items-center justify-center min-h-screen bg-bg text-text",children:ye.jsxs("div",{className:"p-8 rounded-lg bg-surface shadow-lg max-w-sm w-full border border-border text-center",children:[ye.jsx("h2",{className:"text-3xl font-serif text-primary mb-6",children:"Journal Login"}),e&&ye.jsx("div",{className:"bg-red-500/20 text-red-200 p-3 rounded mb-4 text-sm",children:e}),ye.jsxs("button",{onClick:o,className:"w-full bg-primary hover:bg-primary-variant text-white font-bold py-3 px-4 rounded transition duration-200 flex items-center justify-center gap-2",children:[ye.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:ye.jsx("path",{fill:"currentColor",d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})}),"Sign In with Google"]}),ye.jsx("p",{className:"mt-6 text-text-muted text-sm",children:"Strictly private. Authorized users only."})]})})}const XC=6048e5,t6=864e5,tb=6e4,nb=36e5,n6=1e3,Ix=Symbol.for("constructDateFrom");function kr(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&Ix in n?n[Ix](e):n instanceof Date?new n.constructor(e):new Date(e)}function Qn(n,e){return kr(e||n,n)}function jg(n,e,t){const r=Qn(n,t?.in);return isNaN(e)?kr(t?.in||n,NaN):(e&&r.setDate(r.getDate()+e),r)}let r6={};function kh(){return r6}function Bu(n,e){const t=kh(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,o=Qn(n,e?.in),u=o.getDay(),f=(u<r?7:0)+u-r;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function gh(n,e){return Bu(n,{...e,weekStartsOn:1})}function ZC(n,e){const t=Qn(n,e?.in),r=t.getFullYear(),o=kr(t,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const u=gh(o),f=kr(t,0);f.setFullYear(r,0,4),f.setHours(0,0,0,0);const m=gh(f);return t.getTime()>=u.getTime()?r+1:t.getTime()>=m.getTime()?r:r-1}function Hg(n){const e=Qn(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function JC(n,...e){const t=kr.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function Nx(n,e){const t=Qn(n,e?.in);return t.setHours(0,0,0,0),t}function i6(n,e,t){const[r,o]=JC(t?.in,n,e),u=Nx(r),f=Nx(o),m=+u-Hg(u),g=+f-Hg(f);return Math.round((m-g)/t6)}function a6(n,e){const t=ZC(n,e),r=kr(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),gh(r)}function s6(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function o6(n){return!(!s6(n)&&typeof n!="number"||isNaN(+Qn(n)))}function l6(n,e){const[t,r]=JC(n,e.start,e.end);return{start:t,end:r}}function u6(n,e){const{start:t,end:r}=l6(e?.in,n);let o=+t>+r;const u=o?+t:+r,f=o?r:t;f.setHours(0,0,0,0),f.setDate(1);let m=1;const g=[];for(;+f<=u;)g.push(kr(t,f)),f.setMonth(f.getMonth()+m);return o?g.reverse():g}function c6(n,e){const t=Qn(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function f6(n,e){const t=Qn(n,e?.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function eA(n,e){const t=Qn(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const h6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},d6=(n,e,t)=>{let r;const o=h6[n];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Uv(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const p6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},m6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},g6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},y6={date:Uv({formats:p6,defaultWidth:"full"}),time:Uv({formats:m6,defaultWidth:"full"}),dateTime:Uv({formats:g6,defaultWidth:"full"})},v6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},b6=(n,e,t,r)=>v6[n];function Bd(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let o;if(r==="formatting"&&n.formattingValues){const f=n.defaultFormattingWidth||n.defaultWidth,m=t?.width?String(t.width):f;o=n.formattingValues[m]||n.formattingValues[f]}else{const f=n.defaultWidth,m=t?.width?String(t.width):n.defaultWidth;o=n.values[m]||n.values[f]}const u=n.argumentCallback?n.argumentCallback(e):e;return o[u]}}const _6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},w6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},x6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},E6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},S6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},T6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},C6=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},A6={ordinalNumber:C6,era:Bd({values:_6,defaultWidth:"wide"}),quarter:Bd({values:w6,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Bd({values:x6,defaultWidth:"wide"}),day:Bd({values:E6,defaultWidth:"wide"}),dayPeriod:Bd({values:S6,defaultWidth:"wide",formattingValues:T6,defaultFormattingWidth:"wide"})};function Ud(n){return(e,t={})=>{const r=t.width,o=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],u=e.match(o);if(!u)return null;const f=u[0],m=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],g=Array.isArray(m)?D6(m,x=>x.test(f)):k6(m,x=>x.test(f));let v;v=n.valueCallback?n.valueCallback(g):g,v=t.valueCallback?t.valueCallback(v):v;const _=e.slice(f.length);return{value:v,rest:_}}}function k6(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function D6(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function R6(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const o=r[0],u=e.match(n.parsePattern);if(!u)return null;let f=n.valueCallback?n.valueCallback(u[0]):u[0];f=t.valueCallback?t.valueCallback(f):f;const m=e.slice(o.length);return{value:f,rest:m}}}const I6=/^(\d+)(th|st|nd|rd)?/i,N6=/\d+/i,O6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},M6={any:[/^b/i,/^(a|c)/i]},L6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},P6={any:[/1/i,/2/i,/3/i,/4/i]},F6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},z6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},B6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},U6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},V6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},j6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},H6={ordinalNumber:R6({matchPattern:I6,parsePattern:N6,valueCallback:n=>parseInt(n,10)}),era:Ud({matchPatterns:O6,defaultMatchWidth:"wide",parsePatterns:M6,defaultParseWidth:"any"}),quarter:Ud({matchPatterns:L6,defaultMatchWidth:"wide",parsePatterns:P6,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ud({matchPatterns:F6,defaultMatchWidth:"wide",parsePatterns:z6,defaultParseWidth:"any"}),day:Ud({matchPatterns:B6,defaultMatchWidth:"wide",parsePatterns:U6,defaultParseWidth:"any"}),dayPeriod:Ud({matchPatterns:V6,defaultMatchWidth:"any",parsePatterns:j6,defaultParseWidth:"any"})},tA={code:"en-US",formatDistance:d6,formatLong:y6,formatRelative:b6,localize:A6,match:H6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function q6(n,e){const t=Qn(n,e?.in);return i6(t,eA(t))+1}function nA(n,e){const t=Qn(n,e?.in),r=+gh(t)-+a6(t);return Math.round(r/XC)+1}function rb(n,e){const t=Qn(n,e?.in),r=t.getFullYear(),o=kh(),u=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,f=kr(e?.in||n,0);f.setFullYear(r+1,0,u),f.setHours(0,0,0,0);const m=Bu(f,e),g=kr(e?.in||n,0);g.setFullYear(r,0,u),g.setHours(0,0,0,0);const v=Bu(g,e);return+t>=+m?r+1:+t>=+v?r:r-1}function W6(n,e){const t=kh(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,o=rb(n,e),u=kr(e?.in||n,0);return u.setFullYear(o,0,r),u.setHours(0,0,0,0),Bu(u,e)}function rA(n,e){const t=Qn(n,e?.in),r=+Bu(t,e)-+W6(t,e);return Math.round(r/XC)+1}function Nn(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const _u={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Nn(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Nn(t+1,2)},d(n,e){return Nn(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Nn(n.getHours()%12||12,e.length)},H(n,e){return Nn(n.getHours(),e.length)},m(n,e){return Nn(n.getMinutes(),e.length)},s(n,e){return Nn(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),o=Math.trunc(r*Math.pow(10,t-3));return Nn(o,e.length)}},Gf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ox={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),o=r>0?r:1-r;return t.ordinalNumber(o,{unit:"year"})}return _u.y(n,e)},Y:function(n,e,t,r){const o=rb(n,r),u=o>0?o:1-o;if(e==="YY"){const f=u%100;return Nn(f,2)}return e==="Yo"?t.ordinalNumber(u,{unit:"year"}):Nn(u,e.length)},R:function(n,e){const t=ZC(n);return Nn(t,e.length)},u:function(n,e){const t=n.getFullYear();return Nn(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Nn(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Nn(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return _u.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Nn(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const o=rA(n,r);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):Nn(o,e.length)},I:function(n,e,t){const r=nA(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Nn(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):_u.d(n,e)},D:function(n,e,t){const r=q6(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Nn(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const o=n.getDay(),u=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Nn(u,2);case"eo":return t.ordinalNumber(u,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const o=n.getDay(),u=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Nn(u,e.length);case"co":return t.ordinalNumber(u,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),o=r===0?7:r;switch(e){case"i":return String(o);case"ii":return Nn(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const o=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let o;switch(r===12?o=Gf.noon:r===0?o=Gf.midnight:o=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let o;switch(r>=17?o=Gf.evening:r>=12?o=Gf.afternoon:r>=4?o=Gf.morning:o=Gf.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return _u.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):_u.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Nn(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Nn(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):_u.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):_u.s(n,e)},S:function(n,e){return _u.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Lx(r);case"XXXX":case"XX":return Ac(r);default:return Ac(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return Lx(r);case"xxxx":case"xx":return Ac(r);default:return Ac(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Mx(r,":");default:return"GMT"+Ac(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Mx(r,":");default:return"GMT"+Ac(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Nn(r,e.length)},T:function(n,e,t){return Nn(+n,e.length)}};function Mx(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),o=Math.trunc(r/60),u=r%60;return u===0?t+String(o):t+String(o)+e+Nn(u,2)}function Lx(n,e){return n%60===0?(n>0?"-":"+")+Nn(Math.abs(n)/60,2):Ac(n,e)}function Ac(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),o=Nn(Math.trunc(r/60),2),u=Nn(r%60,2);return t+o+e+u}const Px=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},iA=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},G6=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],o=t[2];if(!o)return Px(n,e);let u;switch(r){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",Px(r,e)).replace("{{time}}",iA(o,e))},L0={p:iA,P:G6},Y6=/^D+$/,K6=/^Y+$/,Q6=["D","DD","YY","YYYY"];function aA(n){return Y6.test(n)}function sA(n){return K6.test(n)}function P0(n,e,t){const r=$6(n,e,t);if(console.warn(r),Q6.includes(n))throw new RangeError(r)}function $6(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const X6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,J6=/^'([^]*?)'?$/,e5=/''/g,t5=/[a-zA-Z]/;function Ta(n,e,t){const r=kh(),o=r.locale??tA,u=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,f=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,m=Qn(n,t?.in);if(!o6(m))throw new RangeError("Invalid time value");let g=e.match(Z6).map(_=>{const x=_[0];if(x==="p"||x==="P"){const T=L0[x];return T(_,o.formatLong)}return _}).join("").match(X6).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const x=_[0];if(x==="'")return{isToken:!1,value:n5(_)};if(Ox[x])return{isToken:!0,value:_};if(x.match(t5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:_}});o.localize.preprocessor&&(g=o.localize.preprocessor(m,g));const v={firstWeekContainsDate:u,weekStartsOn:f,locale:o};return g.map(_=>{if(!_.isToken)return _.value;const x=_.value;(sA(x)||aA(x))&&P0(x,e,String(n));const T=Ox[x[0]];return T(m,x,o.localize,v)}).join("")}function n5(n){const e=n.match(J6);return e?e[1].replace(e5,"'"):n}function oA(n,e){return Qn(n,e?.in).getDay()}function r5(n,e){const t=Qn(n,e?.in),r=t.getFullYear(),o=t.getMonth(),u=kr(t,0);return u.setFullYear(r,o+1,0),u.setHours(0,0,0,0),u.getDate()}function i5(){return Object.assign({},kh())}function a5(n,e){const t=Qn(n,e?.in).getDay();return t===0?7:t}function s5(n,e){const t=o5(e)?new e(0):kr(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function o5(n){return typeof n=="function"&&n.prototype?.constructor===n}const l5=10;class lA{subPriority=0;validate(e,t){return!0}}class u5 extends lA{constructor(e,t,r,o,u){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=o,u&&(this.subPriority=u)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class c5 extends lA{priority=l5;subPriority=-1;constructor(e,t){super(),this.context=e||(r=>kr(t,r))}set(e,t){return t.timestampIsSet?e:kr(e,s5(e,this.context))}}class An{run(e,t,r,o){const u=this.parse(e,t,r,o);return u?{setter:new u5(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}validate(e,t,r){return!0}}class f5 extends An{priority=140;parse(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,t,r){return t.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const Cr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},po={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ar(n,e){return n&&{value:e(n.value),rest:n.rest}}function hr(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function mo(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,o=t[2]?parseInt(t[2],10):0,u=t[3]?parseInt(t[3],10):0,f=t[5]?parseInt(t[5],10):0;return{value:r*(o*nb+u*tb+f*n6),rest:e.slice(t[0].length)}}function uA(n){return hr(Cr.anyDigitsSigned,n)}function br(n,e){switch(n){case 1:return hr(Cr.singleDigit,e);case 2:return hr(Cr.twoDigits,e);case 3:return hr(Cr.threeDigits,e);case 4:return hr(Cr.fourDigits,e);default:return hr(new RegExp("^\\d{1,"+n+"}"),e)}}function qg(n,e){switch(n){case 1:return hr(Cr.singleDigitSigned,e);case 2:return hr(Cr.twoDigitsSigned,e);case 3:return hr(Cr.threeDigitsSigned,e);case 4:return hr(Cr.fourDigitsSigned,e);default:return hr(new RegExp("^-?\\d{1,"+n+"}"),e)}}function ib(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function cA(n,e){const t=e>0,r=t?e:1-e;let o;if(r<=50)o=n||100;else{const u=r+50,f=Math.trunc(u/100)*100,m=n>=u%100;o=n+f-(m?100:0)}return t?o:1-o}function fA(n){return n%400===0||n%4===0&&n%100!==0}class h5 extends An{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,r){const o=u=>({year:u,isTwoDigitYear:t==="yy"});switch(t){case"y":return Ar(br(4,e),o);case"yo":return Ar(r.ordinalNumber(e,{unit:"year"}),o);default:return Ar(br(t.length,e),o)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r){const o=e.getFullYear();if(r.isTwoDigitYear){const f=cA(r.year,o);return e.setFullYear(f,0,1),e.setHours(0,0,0,0),e}const u=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(u,0,1),e.setHours(0,0,0,0),e}}class d5 extends An{priority=130;parse(e,t,r){const o=u=>({year:u,isTwoDigitYear:t==="YY"});switch(t){case"Y":return Ar(br(4,e),o);case"Yo":return Ar(r.ordinalNumber(e,{unit:"year"}),o);default:return Ar(br(t.length,e),o)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r,o){const u=rb(e,o);if(r.isTwoDigitYear){const m=cA(r.year,u);return e.setFullYear(m,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),Bu(e,o)}const f=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(f,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),Bu(e,o)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class p5 extends An{priority=130;parse(e,t){return qg(t==="R"?4:t.length,e)}set(e,t,r){const o=kr(e,0);return o.setFullYear(r,0,4),o.setHours(0,0,0,0),gh(o)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class m5 extends An{priority=130;parse(e,t){return qg(t==="u"?4:t.length,e)}set(e,t,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class g5 extends An{priority=120;parse(e,t,r){switch(t){case"Q":case"QQ":return br(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class y5 extends An{priority=120;parse(e,t,r){switch(t){case"q":case"qq":return br(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class v5 extends An{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,r){const o=u=>u-1;switch(t){case"M":return Ar(hr(Cr.month,e),o);case"MM":return Ar(br(2,e),o);case"Mo":return Ar(r.ordinalNumber(e,{unit:"month"}),o);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class b5 extends An{priority=110;parse(e,t,r){const o=u=>u-1;switch(t){case"L":return Ar(hr(Cr.month,e),o);case"LL":return Ar(br(2,e),o);case"Lo":return Ar(r.ordinalNumber(e,{unit:"month"}),o);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function _5(n,e,t){const r=Qn(n,t?.in),o=rA(r,t)-e;return r.setDate(r.getDate()-o*7),Qn(r,t?.in)}class w5 extends An{priority=100;parse(e,t,r){switch(t){case"w":return hr(Cr.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return br(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r,o){return Bu(_5(e,r,o),o)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function x5(n,e,t){const r=Qn(n,t?.in),o=nA(r,t)-e;return r.setDate(r.getDate()-o*7),r}class E5 extends An{priority=100;parse(e,t,r){switch(t){case"I":return hr(Cr.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return br(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r){return gh(x5(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const S5=[31,28,31,30,31,30,31,31,30,31,30,31],T5=[31,29,31,30,31,30,31,31,30,31,30,31];class C5 extends An{priority=90;subPriority=1;parse(e,t,r){switch(t){case"d":return hr(Cr.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return br(t.length,e)}}validate(e,t){const r=e.getFullYear(),o=fA(r),u=e.getMonth();return o?t>=1&&t<=T5[u]:t>=1&&t<=S5[u]}set(e,t,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class A5 extends An{priority=90;subpriority=1;parse(e,t,r){switch(t){case"D":case"DD":return hr(Cr.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return br(t.length,e)}}validate(e,t){const r=e.getFullYear();return fA(r)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function ab(n,e,t){const r=kh(),o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=Qn(n,t?.in),f=u.getDay(),g=(e%7+7)%7,v=7-o,_=e<0||e>6?e-(f+v)%7:(g+v)%7-(f+v)%7;return jg(u,_,t)}class k5 extends An{priority=90;parse(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,o){return e=ab(e,r,o),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class D5 extends An{priority=90;parse(e,t,r,o){const u=f=>{const m=Math.floor((f-1)/7)*7;return(f+o.weekStartsOn+6)%7+m};switch(t){case"e":case"ee":return Ar(br(t.length,e),u);case"eo":return Ar(r.ordinalNumber(e,{unit:"day"}),u);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,o){return e=ab(e,r,o),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class R5 extends An{priority=90;parse(e,t,r,o){const u=f=>{const m=Math.floor((f-1)/7)*7;return(f+o.weekStartsOn+6)%7+m};switch(t){case"c":case"cc":return Ar(br(t.length,e),u);case"co":return Ar(r.ordinalNumber(e,{unit:"day"}),u);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,o){return e=ab(e,r,o),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function I5(n,e,t){const r=Qn(n,t?.in),o=a5(r,t),u=e-o;return jg(r,u,t)}class N5 extends An{priority=90;parse(e,t,r){const o=u=>u===0?7:u;switch(t){case"i":case"ii":return br(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return Ar(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),o);case"iiiii":return Ar(r.day(e,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Ar(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),o);default:return Ar(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),o)}}validate(e,t){return t>=1&&t<=7}set(e,t,r){return e=I5(e,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class O5 extends An{priority=80;parse(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(ib(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class M5 extends An{priority=80;parse(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(ib(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class L5 extends An{priority=80;parse(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(ib(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class P5 extends An{priority=70;parse(e,t,r){switch(t){case"h":return hr(Cr.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return br(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,r){const o=e.getHours()>=12;return o&&r<12?e.setHours(r+12,0,0,0):!o&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class F5 extends An{priority=70;parse(e,t,r){switch(t){case"H":return hr(Cr.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return br(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class z5 extends An{priority=70;parse(e,t,r){switch(t){case"K":return hr(Cr.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return br(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class B5 extends An{priority=70;parse(e,t,r){switch(t){case"k":return hr(Cr.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return br(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,r){const o=r<=24?r%24:r;return e.setHours(o,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class U5 extends An{priority=60;parse(e,t,r){switch(t){case"m":return hr(Cr.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return br(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]}class V5 extends An{priority=50;parse(e,t,r){switch(t){case"s":return hr(Cr.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return br(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]}class j5 extends An{priority=30;parse(e,t){const r=o=>Math.trunc(o*Math.pow(10,-t.length+3));return Ar(br(t.length,e),r)}set(e,t,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]}class H5 extends An{priority=10;parse(e,t){switch(t){case"X":return mo(po.basicOptionalMinutes,e);case"XX":return mo(po.basic,e);case"XXXX":return mo(po.basicOptionalSeconds,e);case"XXXXX":return mo(po.extendedOptionalSeconds,e);default:return mo(po.extended,e)}}set(e,t,r){return t.timestampIsSet?e:kr(e,e.getTime()-Hg(e)-r)}incompatibleTokens=["t","T","x"]}class q5 extends An{priority=10;parse(e,t){switch(t){case"x":return mo(po.basicOptionalMinutes,e);case"xx":return mo(po.basic,e);case"xxxx":return mo(po.basicOptionalSeconds,e);case"xxxxx":return mo(po.extendedOptionalSeconds,e);default:return mo(po.extended,e)}}set(e,t,r){return t.timestampIsSet?e:kr(e,e.getTime()-Hg(e)-r)}incompatibleTokens=["t","T","X"]}class W5 extends An{priority=40;parse(e){return uA(e)}set(e,t,r){return[kr(e,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class G5 extends An{priority=20;parse(e){return uA(e)}set(e,t,r){return[kr(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const Y5={G:new f5,y:new h5,Y:new d5,R:new p5,u:new m5,Q:new g5,q:new y5,M:new v5,L:new b5,w:new w5,I:new E5,d:new C5,D:new A5,E:new k5,e:new D5,c:new R5,i:new N5,a:new O5,b:new M5,B:new L5,h:new P5,H:new F5,K:new z5,k:new B5,m:new U5,s:new V5,S:new j5,X:new H5,x:new q5,t:new W5,T:new G5},K5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Q5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$5=/^'([^]*?)'?$/,X5=/''/g,Z5=/\S/,J5=/[a-zA-Z]/;function Fx(n,e,t,r){const o=()=>kr(t,NaN),u=i5(),f=u.locale??tA,m=u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,g=u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(!e)return n?o():Qn(t,r?.in);const v={firstWeekContainsDate:m,weekStartsOn:g,locale:f},_=[new c5(r?.in,t)],x=e.match(Q5).map(I=>{const N=I[0];if(N in L0){const P=L0[N];return P(I,f.formatLong)}return I}).join("").match(K5),T=[];for(let I of x){sA(I)&&P0(I,e,n),aA(I)&&P0(I,e,n);const N=I[0],P=Y5[N];if(P){const{incompatibleTokens:W}=P;if(Array.isArray(W)){const te=T.find(ne=>W.includes(ne.token)||ne.token===N);if(te)throw new RangeError(`The format string mustn't contain \`${te.fullToken}\` and \`${I}\` at the same time`)}else if(P.incompatibleTokens==="*"&&T.length>0)throw new RangeError(`The format string mustn't contain \`${I}\` and any other token at the same time`);T.push({token:N,fullToken:I});const re=P.run(n,I,f.match,v);if(!re)return o();_.push(re.setter),n=re.rest}else{if(N.match(J5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(I==="''"?I="'":N==="'"&&(I=eP(I)),n.indexOf(I)===0)n=n.slice(I.length);else return o()}}if(n.length>0&&Z5.test(n))return o();const C=_.map(I=>I.priority).sort((I,N)=>N-I).filter((I,N,P)=>P.indexOf(I)===N).map(I=>_.filter(N=>N.priority===I).sort((N,P)=>P.subPriority-N.subPriority)).map(I=>I[0]);let L=Qn(t,r?.in);if(isNaN(+L))return o();const R={};for(const I of C){if(!I.validate(L,v))return o();const N=I.set(L,R,v);Array.isArray(N)?(L=N[0],Object.assign(R,N[1])):L=N}return L}function eP(n){return n.match($5)[1].replace(X5,"'")}function Zf(n,e){const t=()=>kr(e?.in,NaN),o=iP(n);let u;if(o.date){const v=aP(o.date,2);u=sP(v.restDateString,v.year)}if(!u||isNaN(+u))return t();const f=+u;let m=0,g;if(o.time&&(m=oP(o.time),isNaN(m)))return t();if(o.timezone){if(g=lP(o.timezone),isNaN(g))return t()}else{const v=new Date(f+m),_=Qn(0,e?.in);return _.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),_.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),_}return Qn(f+m+g,e?.in)}const Jm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},tP=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,nP=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,rP=/^([+-])(\d{2})(?::?(\d{2}))?$/;function iP(n){const e={},t=n.split(Jm.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],Jm.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Jm.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const o=Jm.timezone.exec(r);o?(e.time=r.replace(o[1],""),e.timezone=o[1]):e.time=r}return e}function aP(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const o=r[1]?parseInt(r[1]):null,u=r[2]?parseInt(r[2]):null;return{year:u===null?o:u*100,restDateString:n.slice((r[1]||r[2]).length)}}function sP(n,e){if(e===null)return new Date(NaN);const t=n.match(tP);if(!t)return new Date(NaN);const r=!!t[4],o=Vd(t[1]),u=Vd(t[2])-1,f=Vd(t[3]),m=Vd(t[4]),g=Vd(t[5])-1;if(r)return dP(e,m,g)?uP(e,m,g):new Date(NaN);{const v=new Date(0);return!fP(e,u,f)||!hP(e,o)?new Date(NaN):(v.setUTCFullYear(e,u,Math.max(o,f)),v)}}function Vd(n){return n?parseInt(n):1}function oP(n){const e=n.match(nP);if(!e)return NaN;const t=Vv(e[1]),r=Vv(e[2]),o=Vv(e[3]);return pP(t,r,o)?t*nb+r*tb+o*1e3:NaN}function Vv(n){return n&&parseFloat(n.replace(",","."))||0}function lP(n){if(n==="Z")return 0;const e=n.match(rP);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return mP(r,o)?t*(r*nb+o*tb):NaN}function uP(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const o=r.getUTCDay()||7,u=(e-1)*7+t+1-o;return r.setUTCDate(r.getUTCDate()+u),r}const cP=[31,null,31,30,31,30,31,31,30,31,30,31];function hA(n){return n%400===0||n%4===0&&n%100!==0}function fP(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(cP[e]||(hA(n)?29:28))}function hP(n,e){return e>=1&&e<=(hA(n)?366:365)}function dP(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function pP(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function mP(n,e){return e>=0&&e<=59}const gP=n=>{const e={Uagast:"August",Des:"Dec",Fr:"Fri",Tues:"Tue"};let t=n;for(const[r,o]of Object.entries(e))t=t.replace(new RegExp(`\\b${r}\\b`,"gi"),o);return t},yP=(n,e)=>{const t=[],r=/\n\s*(?=(?:(?:\*\*?)\+\+|(?:(?:## )?\*\*?)Xander(?: Wiles)?.*?:))/is;let o=n.split(r);o.length>0&&(/^\s*(?:(?:\*\*?)\+\+|(?:(?:## )?\*\*?)Xander)/i.test(o[0])||(o=o.slice(1)));const u="(?:Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|Jun(?:e)?|Jul(?:y)?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)",f=new RegExp(`((?:(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)\\w*\\s*,?\\s*)?\\d{1,2}(?:st|nd|rd|th)?\\s+${u}(?:\\s+\\d{2,4})?)`,"i"),m=/((?:(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)\w*\s*,?\s*)?\d{1,2}(?:st|nd|rd|th)?\s+\d{4})/i,g=/\b\d{4}\b/;for(let v of o){if(v=v.trim(),!v)continue;let _=null,x=!1;const T=[v.slice(0,300),v.slice(-200)];for(const N of T){const P=N.match(f),W=N.match(m);if(P){_=P[1].trim();break}else if(W){_=W[1].trim();break}}if(!_)continue;let C=null;if(g.test(_)){const N=_.replace(/(\d+)(st|nd|rd|th)/i,"$1");C=new Date(N)}else{const N=e.match(/(\d{4})/);if(N){const P=parseInt(N[1],10),W=new Date(`${_} ${P}`);isNaN(W.getTime())||(C=W,x=!0)}}if(!C||isNaN(C.getTime()))continue;const L=C.getFullYear();if(L<1950||L>2100)continue;const R=v.split(`
`)[0],I=Ta(C,"yyyy-MM-dd");t.push({date:I,dateObj:C,title:R,text:v,yearInferred:x,sourceFile:e})}return t};function vP(){const{currentUser:n}=vl(),[e,t]=Ae.useState(!1),[r,o]=Ae.useState("idle"),[u,f]=Ae.useState({filesScanned:0,entriesFound:0,entriesUploaded:0}),[m,g]=Ae.useState(""),v=async()=>{if(!window.showDirectoryPicker){g("Your browser does not support directory import. Please use Chrome, Edge, or Opera.");return}if(window.confirm("WARNING: This will overwrite any existing entries with the same date. Do you want to continue?"))try{g(""),o("scanning"),f({filesScanned:0,entriesFound:0,entriesUploaded:0}),t(!0);const x=await window.showDirectoryPicker(),T=[];async function C(R){for await(const I of R.values())I.kind==="file"?I.name.endsWith(".md")&&T.push(I):I.kind==="directory"&&await C(I)}await C(x),o("parsing"),f(R=>({...R,filesScanned:T.length}));const L=[];for(const R of T){const I=await R.getFile(),N=await I.text(),P=gP(N),W=yP(P,I.name);W&&W.length>0&&L.push(...W)}if(f(R=>({...R,entriesFound:L.length})),L.length===0){o("error"),g("No valid journal entries found in the selected directory."),t(!1);return}o("uploading"),await _(L),o("success"),setTimeout(()=>{t(!1),o("idle")},5e3)}catch(x){if(console.error(x),x.name==="AbortError"){t(!1),o("idle");return}o("error"),g("An error occurred: "+x.message)}},_=async x=>{if(!n){console.error("DirectoryImporter: No current user logged in."),g("You must be logged in to import entries.");return}console.log(`DirectoryImporter: Starting upload for user ${n.uid} (${n.email}). entries: ${x.length}`);const T=400,C=[];for(let R=0;R<x.length;R+=T)C.push(x.slice(R,R+T));let L=0;try{for(const R of C){const I=dC(os);R.forEach(N=>{const P=_p(os,"users",n.uid,"entries",N.date);I.set(P,{date:N.dateObj,title:N.title,content:N.text,userId:n.uid,sourceFile:N.sourceFile,updatedAt:oC()})}),await I.commit(),L+=R.length,console.log(`DirectoryImporter: Successfully uploaded batch of ${R.length} entries.`),f(N=>({...N,entriesUploaded:L}))}console.log("DirectoryImporter: Upload complete.")}catch(R){throw console.error("DirectoryImporter: Error uploading entries:",R),R.code==="permission-denied"?(console.error("Firebase Permission Denied. Please checks your Firestore Security Rules."),g("Permission denied. Check Firestore Console Rules.")):g(`Upload failed: ${R.message}`),R}};return ye.jsxs("div",{className:"flex items-center",children:[e?ye.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 bg-surface border border-border rounded-md text-sm",children:[r==="success"?ye.jsx(eb,{className:"h-4 w-4 text-green-500"}):r==="error"?ye.jsx(Vg,{className:"h-4 w-4 text-red-500"}):ye.jsx(YC,{className:"h-4 w-4 animate-spin text-primary"}),ye.jsx("div",{className:"flex flex-col",children:ye.jsxs("span",{className:"font-medium",children:[r==="scanning"&&`Scanning... (${u.filesScanned} files)`,r==="parsing"&&`Parsing... (${u.entriesFound} entries)`,r==="uploading"&&`Uploading... (${u.entriesUploaded}/${u.entriesFound})`,r==="success"&&"Import Complete!",r==="error"&&"Import Failed"]})})]}):ye.jsxs("button",{onClick:v,className:"flex items-center px-3 py-2 rounded-md text-sm font-medium text-text-muted hover:text-white hover:bg-white/5 transition",title:"Import Folder",children:[ye.jsx(N4,{className:"h-4 w-4 mr-2"}),"Import"]}),m&&!e&&ye.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-900 border border-red-700 text-white p-4 rounded-md shadow-lg z-50",children:[ye.jsx("p",{children:m}),ye.jsx("button",{onClick:()=>g(""),className:"absolute top-1 right-2 text-xs opacity-70 hover:opacity-100",children:"X"})]})]})}function bP(){const{currentUser:n}=vl(),[e,t]=Ae.useState(!1),[r,o]=Ae.useState("");function u(m){try{const g=m.replace(/(\d+)(st|nd|rd|th)/,"$1"),v=Fx(g,"EEEE d MMMM yyyy",new Date);return isNaN(v)?Fx(g,"d MMMM yyyy",new Date):v}catch(g){return console.warn("Date parse error for:",m,g),null}}async function f(){if(n&&window.confirm("This will scan all entries and move them if the date in the content does not match the file date. Proceed?")){t(!0),o("Fetching entries...");try{const m=bp(os,"users",n.uid,"entries"),g=await j1(m),v=dC(os);let _=0,x=0;const T=g.size;for(const C of g.docs){x++,o(`Scanning ${x}/${T}...`);const L=C.data(),R=L.content||"",I=C.id,N=R.match(/(?:\*\*)?\+\+(.*?)\+\+(?:\*\*)?/);if(N&&N[1]){const W=N[1].split(" - ");if(W.length>0){const re=W[0].trim(),te=u(re);if(te&&!isNaN(te)){const ne=Ta(te,"yyyy-MM-dd");if(ne!==I){console.log(`Mismatch found! Content: ${re} (${ne}) vs Storage: ${I}`);const B=_p(os,"users",n.uid,"entries",ne);v.set(B,{...L,date:te});const Q=_p(os,"users",n.uid,"entries",I);v.delete(Q),_++}}}}}_>0?(o(`Committing ${_} fixes...`),await v.commit(),alert(`Success! Fixed ${_} entries. The page will now reload to update the calendar.`),window.location.reload()):alert("No date mismatches found.")}catch(m){console.error("Repair failed:",m),alert("An error occurred during repair. Check console.")}finally{t(!1),o("")}}}return ye.jsx("button",{onClick:f,disabled:e,className:"p-2 rounded-full hover:bg-white/5 text-text-muted hover:text-primary transition",title:"Repair Dates",children:ye.jsx(Q4,{className:`h-5 w-5 ${e?"animate-spin":""}`})})}var yg={exports:{}},_P=yg.exports,zx;function wP(){return zx||(zx=1,(function(n,e){(function(t,r){r()})(_P,function(){function t(v,_){return typeof _>"u"?_={autoBom:!1}:typeof _!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),_={autoBom:!_}),_.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(v.type)?new Blob(["\uFEFF",v],{type:v.type}):v}function r(v,_,x){var T=new XMLHttpRequest;T.open("GET",v),T.responseType="blob",T.onload=function(){g(T.response,_,x)},T.onerror=function(){console.error("could not download file")},T.send()}function o(v){var _=new XMLHttpRequest;_.open("HEAD",v,!1);try{_.send()}catch{}return 200<=_.status&&299>=_.status}function u(v){try{v.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),v.dispatchEvent(_)}}var f=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Cu=="object"&&Cu.global===Cu?Cu:void 0,m=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(typeof window!="object"||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!m?function(v,_,x){var T=f.URL||f.webkitURL,C=document.createElement("a");_=_||v.name||"download",C.download=_,C.rel="noopener",typeof v=="string"?(C.href=v,C.origin===location.origin?u(C):o(C.href)?r(v,_,x):u(C,C.target="_blank")):(C.href=T.createObjectURL(v),setTimeout(function(){T.revokeObjectURL(C.href)},4e4),setTimeout(function(){u(C)},0))}:"msSaveOrOpenBlob"in navigator?function(v,_,x){if(_=_||v.name||"download",typeof v!="string")navigator.msSaveOrOpenBlob(t(v,x),_);else if(o(v))r(v,_,x);else{var T=document.createElement("a");T.href=v,T.target="_blank",setTimeout(function(){u(T)})}}:function(v,_,x,T){if(T=T||open("","_blank"),T&&(T.document.title=T.document.body.innerText="downloading..."),typeof v=="string")return r(v,_,x);var C=v.type==="application/octet-stream",L=/constructor/i.test(f.HTMLElement)||f.safari,R=/CriOS\/[\d]+/.test(navigator.userAgent);if((R||C&&L||m)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var W=I.result;W=R?W:W.replace(/^data:[^;]*;/,"data:attachment/file;"),T?T.location.href=W:location=W,T=null},I.readAsDataURL(v)}else{var N=f.URL||f.webkitURL,P=N.createObjectURL(v);T?T.location=P:location.href=P,T=null,setTimeout(function(){N.revokeObjectURL(P)},4e4)}});f.saveAs=g.saveAs=g,n.exports=g})})(yg)),yg.exports}var xP=wP();function Xd(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jv={exports:{}};var Bx;function EP(){return Bx||(Bx=1,(function(n,e){(function(t){n.exports=t()})(function(){return(function t(r,o,u){function f(v,_){if(!o[v]){if(!r[v]){var x=typeof Xd=="function"&&Xd;if(!_&&x)return x(v,!0);if(m)return m(v,!0);var T=new Error("Cannot find module '"+v+"'");throw T.code="MODULE_NOT_FOUND",T}var C=o[v]={exports:{}};r[v][0].call(C.exports,function(L){var R=r[v][1][L];return f(R||L)},C,C.exports,t,r,o,u)}return o[v].exports}for(var m=typeof Xd=="function"&&Xd,g=0;g<u.length;g++)f(u[g]);return f})({1:[function(t,r,o){var u=t("./utils"),f=t("./support"),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(g){for(var v,_,x,T,C,L,R,I=[],N=0,P=g.length,W=P,re=u.getTypeOf(g)!=="string";N<g.length;)W=P-N,x=re?(v=g[N++],_=N<P?g[N++]:0,N<P?g[N++]:0):(v=g.charCodeAt(N++),_=N<P?g.charCodeAt(N++):0,N<P?g.charCodeAt(N++):0),T=v>>2,C=(3&v)<<4|_>>4,L=1<W?(15&_)<<2|x>>6:64,R=2<W?63&x:64,I.push(m.charAt(T)+m.charAt(C)+m.charAt(L)+m.charAt(R));return I.join("")},o.decode=function(g){var v,_,x,T,C,L,R=0,I=0,N="data:";if(g.substr(0,N.length)===N)throw new Error("Invalid base64 input, it looks like a data url.");var P,W=3*(g=g.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(g.charAt(g.length-1)===m.charAt(64)&&W--,g.charAt(g.length-2)===m.charAt(64)&&W--,W%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=f.uint8array?new Uint8Array(0|W):new Array(0|W);R<g.length;)v=m.indexOf(g.charAt(R++))<<2|(T=m.indexOf(g.charAt(R++)))>>4,_=(15&T)<<4|(C=m.indexOf(g.charAt(R++)))>>2,x=(3&C)<<6|(L=m.indexOf(g.charAt(R++))),P[I++]=v,C!==64&&(P[I++]=_),L!==64&&(P[I++]=x);return P}},{"./support":30,"./utils":32}],2:[function(t,r,o){var u=t("./external"),f=t("./stream/DataWorker"),m=t("./stream/Crc32Probe"),g=t("./stream/DataLengthProbe");function v(_,x,T,C,L){this.compressedSize=_,this.uncompressedSize=x,this.crc32=T,this.compression=C,this.compressedContent=L}v.prototype={getContentWorker:function(){var _=new f(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new g("data_length")),x=this;return _.on("end",function(){if(this.streamInfo.data_length!==x.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new f(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},v.createWorkerFrom=function(_,x,T){return _.pipe(new m).pipe(new g("uncompressedSize")).pipe(x.compressWorker(T)).pipe(new g("compressedSize")).withStreamInfo("compression",x)},r.exports=v},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,o){var u=t("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},o.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,o){var u=t("./utils"),f=(function(){for(var m,g=[],v=0;v<256;v++){m=v;for(var _=0;_<8;_++)m=1&m?3988292384^m>>>1:m>>>1;g[v]=m}return g})();r.exports=function(m,g){return m!==void 0&&m.length?u.getTypeOf(m)!=="string"?(function(v,_,x,T){var C=f,L=T+x;v^=-1;for(var R=T;R<L;R++)v=v>>>8^C[255&(v^_[R])];return-1^v})(0|g,m,m.length,0):(function(v,_,x,T){var C=f,L=T+x;v^=-1;for(var R=T;R<L;R++)v=v>>>8^C[255&(v^_.charCodeAt(R))];return-1^v})(0|g,m,m.length,0):0}},{"./utils":32}],5:[function(t,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(t,r,o){var u=null;u=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:u}},{lie:37}],7:[function(t,r,o){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=t("pako"),m=t("./utils"),g=t("./stream/GenericWorker"),v=u?"uint8array":"array";function _(x,T){g.call(this,"FlateWorker/"+x),this._pako=null,this._pakoAction=x,this._pakoOptions=T,this.meta={}}o.magic="\b\0",m.inherits(_,g),_.prototype.processChunk=function(x){this.meta=x.meta,this._pako===null&&this._createPako(),this._pako.push(m.transformTo(v,x.data),!1)},_.prototype.flush=function(){g.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var x=this;this._pako.onData=function(T){x.push({data:T,meta:x.meta})}},o.compressWorker=function(x){return new _("Deflate",x)},o.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,o){function u(C,L){var R,I="";for(R=0;R<L;R++)I+=String.fromCharCode(255&C),C>>>=8;return I}function f(C,L,R,I,N,P){var W,re,te=C.file,ne=C.compression,B=P!==v.utf8encode,Q=m.transformTo("string",P(te.name)),q=m.transformTo("string",v.utf8encode(te.name)),ae=te.comment,$=m.transformTo("string",P(ae)),F=m.transformTo("string",v.utf8encode(ae)),Z=q.length!==te.name.length,U=F.length!==ae.length,ee="",fe="",he="",Pe=te.dir,Fe=te.date,le={crc32:0,compressedSize:0,uncompressedSize:0};L&&!R||(le.crc32=C.crc32,le.compressedSize=C.compressedSize,le.uncompressedSize=C.uncompressedSize);var se=0;L&&(se|=8),B||!Z&&!U||(se|=2048);var H=0,A=0;Pe&&(H|=16),N==="UNIX"?(A=798,H|=(function(Ue,$e){var gt=Ue;return Ue||(gt=$e?16893:33204),(65535&gt)<<16})(te.unixPermissions,Pe)):(A=20,H|=(function(Ue){return 63&(Ue||0)})(te.dosPermissions)),W=Fe.getUTCHours(),W<<=6,W|=Fe.getUTCMinutes(),W<<=5,W|=Fe.getUTCSeconds()/2,re=Fe.getUTCFullYear()-1980,re<<=4,re|=Fe.getUTCMonth()+1,re<<=5,re|=Fe.getUTCDate(),Z&&(fe=u(1,1)+u(_(Q),4)+q,ee+="up"+u(fe.length,2)+fe),U&&(he=u(1,1)+u(_($),4)+F,ee+="uc"+u(he.length,2)+he);var ge="";return ge+=`
\0`,ge+=u(se,2),ge+=ne.magic,ge+=u(W,2),ge+=u(re,2),ge+=u(le.crc32,4),ge+=u(le.compressedSize,4),ge+=u(le.uncompressedSize,4),ge+=u(Q.length,2),ge+=u(ee.length,2),{fileRecord:x.LOCAL_FILE_HEADER+ge+Q+ee,dirRecord:x.CENTRAL_FILE_HEADER+u(A,2)+ge+u($.length,2)+"\0\0\0\0"+u(H,4)+u(I,4)+Q+ee+$}}var m=t("../utils"),g=t("../stream/GenericWorker"),v=t("../utf8"),_=t("../crc32"),x=t("../signature");function T(C,L,R,I){g.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=L,this.zipPlatform=R,this.encodeFileName=I,this.streamFiles=C,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}m.inherits(T,g),T.prototype.push=function(C){var L=C.meta.percent||0,R=this.entriesCount,I=this._sources.length;this.accumulate?this.contentBuffer.push(C):(this.bytesWritten+=C.data.length,g.prototype.push.call(this,{data:C.data,meta:{currentFile:this.currentFile,percent:R?(L+100*(R-I-1))/R:100}}))},T.prototype.openedSource=function(C){this.currentSourceOffset=this.bytesWritten,this.currentFile=C.file.name;var L=this.streamFiles&&!C.file.dir;if(L){var R=f(C,L,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:R.fileRecord,meta:{percent:0}})}else this.accumulate=!0},T.prototype.closedSource=function(C){this.accumulate=!1;var L=this.streamFiles&&!C.file.dir,R=f(C,L,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(R.dirRecord),L)this.push({data:(function(I){return x.DATA_DESCRIPTOR+u(I.crc32,4)+u(I.compressedSize,4)+u(I.uncompressedSize,4)})(C),meta:{percent:100}});else for(this.push({data:R.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},T.prototype.flush=function(){for(var C=this.bytesWritten,L=0;L<this.dirRecords.length;L++)this.push({data:this.dirRecords[L],meta:{percent:100}});var R=this.bytesWritten-C,I=(function(N,P,W,re,te){var ne=m.transformTo("string",te(re));return x.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(N,2)+u(N,2)+u(P,4)+u(W,4)+u(ne.length,2)+ne})(this.dirRecords.length,R,C,this.zipComment,this.encodeFileName);this.push({data:I,meta:{percent:100}})},T.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},T.prototype.registerPrevious=function(C){this._sources.push(C);var L=this;return C.on("data",function(R){L.processChunk(R)}),C.on("end",function(){L.closedSource(L.previous.streamInfo),L._sources.length?L.prepareNextSource():L.end()}),C.on("error",function(R){L.error(R)}),this},T.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},T.prototype.error=function(C){var L=this._sources;if(!g.prototype.error.call(this,C))return!1;for(var R=0;R<L.length;R++)try{L[R].error(C)}catch{}return!0},T.prototype.lock=function(){g.prototype.lock.call(this);for(var C=this._sources,L=0;L<C.length;L++)C[L].lock()},r.exports=T},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,o){var u=t("../compressions"),f=t("./ZipFileWorker");o.generateWorker=function(m,g,v){var _=new f(g.streamFiles,v,g.platform,g.encodeFileName),x=0;try{m.forEach(function(T,C){x++;var L=(function(P,W){var re=P||W,te=u[re];if(!te)throw new Error(re+" is not a valid compression method !");return te})(C.options.compression,g.compression),R=C.options.compressionOptions||g.compressionOptions||{},I=C.dir,N=C.date;C._compressWorker(L,R).withStreamInfo("file",{name:T,dir:I,date:N,comment:C.comment||"",unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions}).pipe(_)}),_.entriesCount=x}catch(T){_.error(T)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,o){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new u;for(var m in this)typeof this[m]!="function"&&(f[m]=this[m]);return f}}(u.prototype=t("./object")).loadAsync=t("./load"),u.support=t("./support"),u.defaults=t("./defaults"),u.version="3.10.1",u.loadAsync=function(f,m){return new u().loadAsync(f,m)},u.external=t("./external"),r.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,o){var u=t("./utils"),f=t("./external"),m=t("./utf8"),g=t("./zipEntries"),v=t("./stream/Crc32Probe"),_=t("./nodejsUtils");function x(T){return new f.Promise(function(C,L){var R=T.decompressed.getContentWorker().pipe(new v);R.on("error",function(I){L(I)}).on("end",function(){R.streamInfo.crc32!==T.decompressed.crc32?L(new Error("Corrupted zip : CRC32 mismatch")):C()}).resume()})}r.exports=function(T,C){var L=this;return C=u.extend(C||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:m.utf8decode}),_.isNode&&_.isStream(T)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",T,!0,C.optimizedBinaryString,C.base64).then(function(R){var I=new g(C);return I.load(R),I}).then(function(R){var I=[f.Promise.resolve(R)],N=R.files;if(C.checkCRC32)for(var P=0;P<N.length;P++)I.push(x(N[P]));return f.Promise.all(I)}).then(function(R){for(var I=R.shift(),N=I.files,P=0;P<N.length;P++){var W=N[P],re=W.fileNameStr,te=u.resolve(W.fileNameStr);L.file(te,W.decompressed,{binary:!0,optimizedBinaryString:!0,date:W.date,dir:W.dir,comment:W.fileCommentStr.length?W.fileCommentStr:null,unixPermissions:W.unixPermissions,dosPermissions:W.dosPermissions,createFolders:C.createFolders}),W.dir||(L.file(te).unsafeOriginalName=re)}return I.zipComment.length&&(L.comment=I.zipComment),L})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,o){var u=t("../utils"),f=t("../stream/GenericWorker");function m(g,v){f.call(this,"Nodejs stream input adapter for "+g),this._upstreamEnded=!1,this._bindStream(v)}u.inherits(m,f),m.prototype._bindStream=function(g){var v=this;(this._stream=g).pause(),g.on("data",function(_){v.push({data:_,meta:{percent:0}})}).on("error",function(_){v.isPaused?this.generatedError=_:v.error(_)}).on("end",function(){v.isPaused?v._upstreamEnded=!0:v.end()})},m.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},m.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=m},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,o){var u=t("readable-stream").Readable;function f(m,g,v){u.call(this,g),this._helper=m;var _=this;m.on("data",function(x,T){_.push(x)||_._helper.pause(),v&&v(T)}).on("error",function(x){_.emit("error",x)}).on("end",function(){_.push(null)})}t("../utils").inherits(f,u),f.prototype._read=function(){this._helper.resume()},r.exports=f},{"../utils":32,"readable-stream":16}],14:[function(t,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,f);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,f)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var f=new Buffer(u);return f.fill(0),f},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(t,r,o){function u(te,ne,B){var Q,q=m.getTypeOf(ne),ae=m.extend(B||{},_);ae.date=ae.date||new Date,ae.compression!==null&&(ae.compression=ae.compression.toUpperCase()),typeof ae.unixPermissions=="string"&&(ae.unixPermissions=parseInt(ae.unixPermissions,8)),ae.unixPermissions&&16384&ae.unixPermissions&&(ae.dir=!0),ae.dosPermissions&&16&ae.dosPermissions&&(ae.dir=!0),ae.dir&&(te=N(te)),ae.createFolders&&(Q=I(te))&&P.call(this,Q,!0);var $=q==="string"&&ae.binary===!1&&ae.base64===!1;B&&B.binary!==void 0||(ae.binary=!$),(ne instanceof x&&ne.uncompressedSize===0||ae.dir||!ne||ne.length===0)&&(ae.base64=!1,ae.binary=!0,ne="",ae.compression="STORE",q="string");var F=null;F=ne instanceof x||ne instanceof g?ne:L.isNode&&L.isStream(ne)?new R(te,ne):m.prepareContent(te,ne,ae.binary,ae.optimizedBinaryString,ae.base64);var Z=new T(te,F,ae);this.files[te]=Z}var f=t("./utf8"),m=t("./utils"),g=t("./stream/GenericWorker"),v=t("./stream/StreamHelper"),_=t("./defaults"),x=t("./compressedObject"),T=t("./zipObject"),C=t("./generate"),L=t("./nodejsUtils"),R=t("./nodejs/NodejsStreamInputAdapter"),I=function(te){te.slice(-1)==="/"&&(te=te.substring(0,te.length-1));var ne=te.lastIndexOf("/");return 0<ne?te.substring(0,ne):""},N=function(te){return te.slice(-1)!=="/"&&(te+="/"),te},P=function(te,ne){return ne=ne!==void 0?ne:_.createFolders,te=N(te),this.files[te]||u.call(this,te,null,{dir:!0,createFolders:ne}),this.files[te]};function W(te){return Object.prototype.toString.call(te)==="[object RegExp]"}var re={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(te){var ne,B,Q;for(ne in this.files)Q=this.files[ne],(B=ne.slice(this.root.length,ne.length))&&ne.slice(0,this.root.length)===this.root&&te(B,Q)},filter:function(te){var ne=[];return this.forEach(function(B,Q){te(B,Q)&&ne.push(Q)}),ne},file:function(te,ne,B){if(arguments.length!==1)return te=this.root+te,u.call(this,te,ne,B),this;if(W(te)){var Q=te;return this.filter(function(ae,$){return!$.dir&&Q.test(ae)})}var q=this.files[this.root+te];return q&&!q.dir?q:null},folder:function(te){if(!te)return this;if(W(te))return this.filter(function(q,ae){return ae.dir&&te.test(q)});var ne=this.root+te,B=P.call(this,ne),Q=this.clone();return Q.root=B.name,Q},remove:function(te){te=this.root+te;var ne=this.files[te];if(ne||(te.slice(-1)!=="/"&&(te+="/"),ne=this.files[te]),ne&&!ne.dir)delete this.files[te];else for(var B=this.filter(function(q,ae){return ae.name.slice(0,te.length)===te}),Q=0;Q<B.length;Q++)delete this.files[B[Q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(te){var ne,B={};try{if((B=m.extend(te||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");m.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var Q=B.comment||this.comment||"";ne=C.generateWorker(this,B,Q)}catch(q){(ne=new g("error")).error(q)}return new v(ne,B.type||"string",B.mimeType)},generateAsync:function(te,ne){return this.generateInternalStream(te).accumulate(ne)},generateNodeStream:function(te,ne){return(te=te||{}).type||(te.type="nodebuffer"),this.generateInternalStream(te).toNodejsStream(ne)}};r.exports=re},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,o){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,o){var u=t("./DataReader");function f(m){u.call(this,m);for(var g=0;g<this.data.length;g++)m[g]=255&m[g]}t("../utils").inherits(f,u),f.prototype.byteAt=function(m){return this.data[this.zero+m]},f.prototype.lastIndexOfSignature=function(m){for(var g=m.charCodeAt(0),v=m.charCodeAt(1),_=m.charCodeAt(2),x=m.charCodeAt(3),T=this.length-4;0<=T;--T)if(this.data[T]===g&&this.data[T+1]===v&&this.data[T+2]===_&&this.data[T+3]===x)return T-this.zero;return-1},f.prototype.readAndCheckSignature=function(m){var g=m.charCodeAt(0),v=m.charCodeAt(1),_=m.charCodeAt(2),x=m.charCodeAt(3),T=this.readData(4);return g===T[0]&&v===T[1]&&_===T[2]&&x===T[3]},f.prototype.readData=function(m){if(this.checkOffset(m),m===0)return[];var g=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,g},r.exports=f},{"../utils":32,"./DataReader":18}],18:[function(t,r,o){var u=t("../utils");function f(m){this.data=m,this.length=m.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(m){this.checkIndex(this.index+m)},checkIndex:function(m){if(this.length<this.zero+m||m<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+m+"). Corrupted zip ?")},setIndex:function(m){this.checkIndex(m),this.index=m},skip:function(m){this.setIndex(this.index+m)},byteAt:function(){},readInt:function(m){var g,v=0;for(this.checkOffset(m),g=this.index+m-1;g>=this.index;g--)v=(v<<8)+this.byteAt(g);return this.index+=m,v},readString:function(m){return u.transformTo("string",this.readData(m))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var m=this.readInt(4);return new Date(Date.UTC(1980+(m>>25&127),(m>>21&15)-1,m>>16&31,m>>11&31,m>>5&63,(31&m)<<1))}},r.exports=f},{"../utils":32}],19:[function(t,r,o){var u=t("./Uint8ArrayReader");function f(m){u.call(this,m)}t("../utils").inherits(f,u),f.prototype.readData=function(m){this.checkOffset(m);var g=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,g},r.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,o){var u=t("./DataReader");function f(m){u.call(this,m)}t("../utils").inherits(f,u),f.prototype.byteAt=function(m){return this.data.charCodeAt(this.zero+m)},f.prototype.lastIndexOfSignature=function(m){return this.data.lastIndexOf(m)-this.zero},f.prototype.readAndCheckSignature=function(m){return m===this.readData(4)},f.prototype.readData=function(m){this.checkOffset(m);var g=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,g},r.exports=f},{"../utils":32,"./DataReader":18}],21:[function(t,r,o){var u=t("./ArrayReader");function f(m){u.call(this,m)}t("../utils").inherits(f,u),f.prototype.readData=function(m){if(this.checkOffset(m),m===0)return new Uint8Array(0);var g=this.data.subarray(this.zero+this.index,this.zero+this.index+m);return this.index+=m,g},r.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,o){var u=t("../utils"),f=t("../support"),m=t("./ArrayReader"),g=t("./StringReader"),v=t("./NodeBufferReader"),_=t("./Uint8ArrayReader");r.exports=function(x){var T=u.getTypeOf(x);return u.checkSupport(T),T!=="string"||f.uint8array?T==="nodebuffer"?new v(x):f.uint8array?new _(u.transformTo("uint8array",x)):new m(u.transformTo("array",x)):new g(x)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,o){var u=t("./GenericWorker"),f=t("../utils");function m(g){u.call(this,"ConvertWorker to "+g),this.destType=g}f.inherits(m,u),m.prototype.processChunk=function(g){this.push({data:f.transformTo(this.destType,g.data),meta:g.meta})},r.exports=m},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,o){var u=t("./GenericWorker"),f=t("../crc32");function m(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(m,u),m.prototype.processChunk=function(g){this.streamInfo.crc32=f(g.data,this.streamInfo.crc32||0),this.push(g)},r.exports=m},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,o){var u=t("../utils"),f=t("./GenericWorker");function m(g){f.call(this,"DataLengthProbe for "+g),this.propName=g,this.withStreamInfo(g,0)}u.inherits(m,f),m.prototype.processChunk=function(g){if(g){var v=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=v+g.data.length}f.prototype.processChunk.call(this,g)},r.exports=m},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,o){var u=t("../utils"),f=t("./GenericWorker");function m(g){f.call(this,"DataWorker");var v=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,g.then(function(_){v.dataIsReady=!0,v.data=_,v.max=_&&_.length||0,v.type=u.getTypeOf(_),v.isPaused||v._tickAndRepeat()},function(_){v.error(_)})}u.inherits(m,f),m.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},m.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},m.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},m.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var g=null,v=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":g=this.data.substring(this.index,v);break;case"uint8array":g=this.data.subarray(this.index,v);break;case"array":case"nodebuffer":g=this.data.slice(this.index,v)}return this.index=v,this.push({data:g,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=m},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,o){function u(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,m){return this._listeners[f].push(m),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,m){if(this._listeners[f])for(var g=0;g<this._listeners[f].length;g++)this._listeners[f][g].call(this,m)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var m=this;return f.on("data",function(g){m.processChunk(g)}),f.on("end",function(){m.end()}),f.on("error",function(g){m.error(g)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,m){return this.extraStreamInfo[f]=m,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},r.exports=u},{}],29:[function(t,r,o){var u=t("../utils"),f=t("./ConvertWorker"),m=t("./GenericWorker"),g=t("../base64"),v=t("../support"),_=t("../external"),x=null;if(v.nodestream)try{x=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function T(L,R){return new _.Promise(function(I,N){var P=[],W=L._internalType,re=L._outputType,te=L._mimeType;L.on("data",function(ne,B){P.push(ne),R&&R(B)}).on("error",function(ne){P=[],N(ne)}).on("end",function(){try{var ne=(function(B,Q,q){switch(B){case"blob":return u.newBlob(u.transformTo("arraybuffer",Q),q);case"base64":return g.encode(Q);default:return u.transformTo(B,Q)}})(re,(function(B,Q){var q,ae=0,$=null,F=0;for(q=0;q<Q.length;q++)F+=Q[q].length;switch(B){case"string":return Q.join("");case"array":return Array.prototype.concat.apply([],Q);case"uint8array":for($=new Uint8Array(F),q=0;q<Q.length;q++)$.set(Q[q],ae),ae+=Q[q].length;return $;case"nodebuffer":return Buffer.concat(Q);default:throw new Error("concat : unsupported type '"+B+"'")}})(W,P),te);I(ne)}catch(B){N(B)}P=[]}).resume()})}function C(L,R,I){var N=R;switch(R){case"blob":case"arraybuffer":N="uint8array";break;case"base64":N="string"}try{this._internalType=N,this._outputType=R,this._mimeType=I,u.checkSupport(N),this._worker=L.pipe(new f(N)),L.lock()}catch(P){this._worker=new m("error"),this._worker.error(P)}}C.prototype={accumulate:function(L){return T(this,L)},on:function(L,R){var I=this;return L==="data"?this._worker.on(L,function(N){R.call(I,N.data,N.meta)}):this._worker.on(L,function(){u.delay(R,arguments,I)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(L){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new x(this,{objectMode:this._outputType!=="nodebuffer"},L)}},r.exports=C},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var u=new ArrayBuffer(0);try{o.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(u),o.blob=f.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!t("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,o){for(var u=t("./utils"),f=t("./support"),m=t("./nodejsUtils"),g=t("./stream/GenericWorker"),v=new Array(256),_=0;_<256;_++)v[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;v[254]=v[254]=1;function x(){g.call(this,"utf-8 decode"),this.leftOver=null}function T(){g.call(this,"utf-8 encode")}o.utf8encode=function(C){return f.nodebuffer?m.newBufferFrom(C,"utf-8"):(function(L){var R,I,N,P,W,re=L.length,te=0;for(P=0;P<re;P++)(64512&(I=L.charCodeAt(P)))==55296&&P+1<re&&(64512&(N=L.charCodeAt(P+1)))==56320&&(I=65536+(I-55296<<10)+(N-56320),P++),te+=I<128?1:I<2048?2:I<65536?3:4;for(R=f.uint8array?new Uint8Array(te):new Array(te),P=W=0;W<te;P++)(64512&(I=L.charCodeAt(P)))==55296&&P+1<re&&(64512&(N=L.charCodeAt(P+1)))==56320&&(I=65536+(I-55296<<10)+(N-56320),P++),I<128?R[W++]=I:(I<2048?R[W++]=192|I>>>6:(I<65536?R[W++]=224|I>>>12:(R[W++]=240|I>>>18,R[W++]=128|I>>>12&63),R[W++]=128|I>>>6&63),R[W++]=128|63&I);return R})(C)},o.utf8decode=function(C){return f.nodebuffer?u.transformTo("nodebuffer",C).toString("utf-8"):(function(L){var R,I,N,P,W=L.length,re=new Array(2*W);for(R=I=0;R<W;)if((N=L[R++])<128)re[I++]=N;else if(4<(P=v[N]))re[I++]=65533,R+=P-1;else{for(N&=P===2?31:P===3?15:7;1<P&&R<W;)N=N<<6|63&L[R++],P--;1<P?re[I++]=65533:N<65536?re[I++]=N:(N-=65536,re[I++]=55296|N>>10&1023,re[I++]=56320|1023&N)}return re.length!==I&&(re.subarray?re=re.subarray(0,I):re.length=I),u.applyFromCharCode(re)})(C=u.transformTo(f.uint8array?"uint8array":"array",C))},u.inherits(x,g),x.prototype.processChunk=function(C){var L=u.transformTo(f.uint8array?"uint8array":"array",C.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var R=L;(L=new Uint8Array(R.length+this.leftOver.length)).set(this.leftOver,0),L.set(R,this.leftOver.length)}else L=this.leftOver.concat(L);this.leftOver=null}var I=(function(P,W){var re;for((W=W||P.length)>P.length&&(W=P.length),re=W-1;0<=re&&(192&P[re])==128;)re--;return re<0||re===0?W:re+v[P[re]]>W?re:W})(L),N=L;I!==L.length&&(f.uint8array?(N=L.subarray(0,I),this.leftOver=L.subarray(I,L.length)):(N=L.slice(0,I),this.leftOver=L.slice(I,L.length))),this.push({data:o.utf8decode(N),meta:C.meta})},x.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=x,u.inherits(T,g),T.prototype.processChunk=function(C){this.push({data:o.utf8encode(C.data),meta:C.meta})},o.Utf8EncodeWorker=T},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,o){var u=t("./support"),f=t("./base64"),m=t("./nodejsUtils"),g=t("./external");function v(R){return R}function _(R,I){for(var N=0;N<R.length;++N)I[N]=255&R.charCodeAt(N);return I}t("setimmediate"),o.newBlob=function(R,I){o.checkSupport("blob");try{return new Blob([R],{type:I})}catch{try{var N=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return N.append(R),N.getBlob(I)}catch{throw new Error("Bug : can't construct the Blob.")}}};var x={stringifyByChunk:function(R,I,N){var P=[],W=0,re=R.length;if(re<=N)return String.fromCharCode.apply(null,R);for(;W<re;)I==="array"||I==="nodebuffer"?P.push(String.fromCharCode.apply(null,R.slice(W,Math.min(W+N,re)))):P.push(String.fromCharCode.apply(null,R.subarray(W,Math.min(W+N,re)))),W+=N;return P.join("")},stringifyByChar:function(R){for(var I="",N=0;N<R.length;N++)I+=String.fromCharCode(R[N]);return I},applyCanBeUsed:{uint8array:(function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,m.allocBuffer(1)).length===1}catch{return!1}})()}};function T(R){var I=65536,N=o.getTypeOf(R),P=!0;if(N==="uint8array"?P=x.applyCanBeUsed.uint8array:N==="nodebuffer"&&(P=x.applyCanBeUsed.nodebuffer),P)for(;1<I;)try{return x.stringifyByChunk(R,N,I)}catch{I=Math.floor(I/2)}return x.stringifyByChar(R)}function C(R,I){for(var N=0;N<R.length;N++)I[N]=R[N];return I}o.applyFromCharCode=T;var L={};L.string={string:v,array:function(R){return _(R,new Array(R.length))},arraybuffer:function(R){return L.string.uint8array(R).buffer},uint8array:function(R){return _(R,new Uint8Array(R.length))},nodebuffer:function(R){return _(R,m.allocBuffer(R.length))}},L.array={string:T,array:v,arraybuffer:function(R){return new Uint8Array(R).buffer},uint8array:function(R){return new Uint8Array(R)},nodebuffer:function(R){return m.newBufferFrom(R)}},L.arraybuffer={string:function(R){return T(new Uint8Array(R))},array:function(R){return C(new Uint8Array(R),new Array(R.byteLength))},arraybuffer:v,uint8array:function(R){return new Uint8Array(R)},nodebuffer:function(R){return m.newBufferFrom(new Uint8Array(R))}},L.uint8array={string:T,array:function(R){return C(R,new Array(R.length))},arraybuffer:function(R){return R.buffer},uint8array:v,nodebuffer:function(R){return m.newBufferFrom(R)}},L.nodebuffer={string:T,array:function(R){return C(R,new Array(R.length))},arraybuffer:function(R){return L.nodebuffer.uint8array(R).buffer},uint8array:function(R){return C(R,new Uint8Array(R.length))},nodebuffer:v},o.transformTo=function(R,I){if(I=I||"",!R)return I;o.checkSupport(R);var N=o.getTypeOf(I);return L[N][R](I)},o.resolve=function(R){for(var I=R.split("/"),N=[],P=0;P<I.length;P++){var W=I[P];W==="."||W===""&&P!==0&&P!==I.length-1||(W===".."?N.pop():N.push(W))}return N.join("/")},o.getTypeOf=function(R){return typeof R=="string"?"string":Object.prototype.toString.call(R)==="[object Array]"?"array":u.nodebuffer&&m.isBuffer(R)?"nodebuffer":u.uint8array&&R instanceof Uint8Array?"uint8array":u.arraybuffer&&R instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(R){if(!u[R.toLowerCase()])throw new Error(R+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(R){var I,N,P="";for(N=0;N<(R||"").length;N++)P+="\\x"+((I=R.charCodeAt(N))<16?"0":"")+I.toString(16).toUpperCase();return P},o.delay=function(R,I,N){setImmediate(function(){R.apply(N||null,I||[])})},o.inherits=function(R,I){function N(){}N.prototype=I.prototype,R.prototype=new N},o.extend=function(){var R,I,N={};for(R=0;R<arguments.length;R++)for(I in arguments[R])Object.prototype.hasOwnProperty.call(arguments[R],I)&&N[I]===void 0&&(N[I]=arguments[R][I]);return N},o.prepareContent=function(R,I,N,P,W){return g.Promise.resolve(I).then(function(re){return u.blob&&(re instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(re))!==-1)&&typeof FileReader<"u"?new g.Promise(function(te,ne){var B=new FileReader;B.onload=function(Q){te(Q.target.result)},B.onerror=function(Q){ne(Q.target.error)},B.readAsArrayBuffer(re)}):re}).then(function(re){var te=o.getTypeOf(re);return te?(te==="arraybuffer"?re=o.transformTo("uint8array",re):te==="string"&&(W?re=f.decode(re):N&&P!==!0&&(re=(function(ne){return _(ne,u.uint8array?new Uint8Array(ne.length):new Array(ne.length))})(re))),re):g.Promise.reject(new Error("Can't read the data of '"+R+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,o){var u=t("./reader/readerFor"),f=t("./utils"),m=t("./signature"),g=t("./zipEntry"),v=t("./support");function _(x){this.files=[],this.loadOptions=x}_.prototype={checkSignature:function(x){if(!this.reader.readAndCheckSignature(x)){this.reader.index-=4;var T=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(T)+", expected "+f.pretty(x)+")")}},isSignature:function(x,T){var C=this.reader.index;this.reader.setIndex(x);var L=this.reader.readString(4)===T;return this.reader.setIndex(C),L},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var x=this.reader.readData(this.zipCommentLength),T=v.uint8array?"uint8array":"array",C=f.transformTo(T,x);this.zipComment=this.loadOptions.decodeFileName(C)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var x,T,C,L=this.zip64EndOfCentralSize-44;0<L;)x=this.reader.readInt(2),T=this.reader.readInt(4),C=this.reader.readData(T),this.zip64ExtensibleData[x]={id:x,length:T,value:C}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var x,T;for(x=0;x<this.files.length;x++)T=this.files[x],this.reader.setIndex(T.localHeaderOffset),this.checkSignature(m.LOCAL_FILE_HEADER),T.readLocalPart(this.reader),T.handleUTF8(),T.processAttributes()},readCentralDir:function(){var x;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(m.CENTRAL_FILE_HEADER);)(x=new g({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(x);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var x=this.reader.lastIndexOfSignature(m.CENTRAL_DIRECTORY_END);if(x<0)throw this.isSignature(0,m.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(x);var T=x;if(this.checkSignature(m.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(x=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(x),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,m.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var C=this.centralDirOffset+this.centralDirSize;this.zip64&&(C+=20,C+=12+this.zip64EndOfCentralSize);var L=T-C;if(0<L)this.isSignature(T,m.CENTRAL_FILE_HEADER)||(this.reader.zero=L);else if(L<0)throw new Error("Corrupted zip: missing "+Math.abs(L)+" bytes.")},prepareReader:function(x){this.reader=u(x)},load:function(x){this.prepareReader(x),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,o){var u=t("./reader/readerFor"),f=t("./utils"),m=t("./compressedObject"),g=t("./crc32"),v=t("./utf8"),_=t("./compressions"),x=t("./support");function T(C,L){this.options=C,this.loadOptions=L}T.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(C){var L,R;if(C.skip(22),this.fileNameLength=C.readInt(2),R=C.readInt(2),this.fileName=C.readData(this.fileNameLength),C.skip(R),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((L=(function(I){for(var N in _)if(Object.prototype.hasOwnProperty.call(_,N)&&_[N].magic===I)return _[N];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new m(this.compressedSize,this.uncompressedSize,this.crc32,L,C.readData(this.compressedSize))},readCentralPart:function(C){this.versionMadeBy=C.readInt(2),C.skip(2),this.bitFlag=C.readInt(2),this.compressionMethod=C.readString(2),this.date=C.readDate(),this.crc32=C.readInt(4),this.compressedSize=C.readInt(4),this.uncompressedSize=C.readInt(4);var L=C.readInt(2);if(this.extraFieldsLength=C.readInt(2),this.fileCommentLength=C.readInt(2),this.diskNumberStart=C.readInt(2),this.internalFileAttributes=C.readInt(2),this.externalFileAttributes=C.readInt(4),this.localHeaderOffset=C.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");C.skip(L),this.readExtraFields(C),this.parseZIP64ExtraField(C),this.fileComment=C.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var C=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),C==0&&(this.dosPermissions=63&this.externalFileAttributes),C==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var C=u(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=C.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=C.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=C.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=C.readInt(4))}},readExtraFields:function(C){var L,R,I,N=C.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});C.index+4<N;)L=C.readInt(2),R=C.readInt(2),I=C.readData(R),this.extraFields[L]={id:L,length:R,value:I};C.setIndex(N)},handleUTF8:function(){var C=x.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=v.utf8decode(this.fileName),this.fileCommentStr=v.utf8decode(this.fileComment);else{var L=this.findExtraFieldUnicodePath();if(L!==null)this.fileNameStr=L;else{var R=f.transformTo(C,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(R)}var I=this.findExtraFieldUnicodeComment();if(I!==null)this.fileCommentStr=I;else{var N=f.transformTo(C,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(N)}}},findExtraFieldUnicodePath:function(){var C=this.extraFields[28789];if(C){var L=u(C.value);return L.readInt(1)!==1||g(this.fileName)!==L.readInt(4)?null:v.utf8decode(L.readData(C.length-5))}return null},findExtraFieldUnicodeComment:function(){var C=this.extraFields[25461];if(C){var L=u(C.value);return L.readInt(1)!==1||g(this.fileComment)!==L.readInt(4)?null:v.utf8decode(L.readData(C.length-5))}return null}},r.exports=T},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,o){function u(L,R,I){this.name=L,this.dir=I.dir,this.date=I.date,this.comment=I.comment,this.unixPermissions=I.unixPermissions,this.dosPermissions=I.dosPermissions,this._data=R,this._dataBinary=I.binary,this.options={compression:I.compression,compressionOptions:I.compressionOptions}}var f=t("./stream/StreamHelper"),m=t("./stream/DataWorker"),g=t("./utf8"),v=t("./compressedObject"),_=t("./stream/GenericWorker");u.prototype={internalStream:function(L){var R=null,I="string";try{if(!L)throw new Error("No output type specified.");var N=(I=L.toLowerCase())==="string"||I==="text";I!=="binarystring"&&I!=="text"||(I="string"),R=this._decompressWorker();var P=!this._dataBinary;P&&!N&&(R=R.pipe(new g.Utf8EncodeWorker)),!P&&N&&(R=R.pipe(new g.Utf8DecodeWorker))}catch(W){(R=new _("error")).error(W)}return new f(R,I,"")},async:function(L,R){return this.internalStream(L).accumulate(R)},nodeStream:function(L,R){return this.internalStream(L||"nodebuffer").toNodejsStream(R)},_compressWorker:function(L,R){if(this._data instanceof v&&this._data.compression.magic===L.magic)return this._data.getCompressedWorker();var I=this._decompressWorker();return this._dataBinary||(I=I.pipe(new g.Utf8EncodeWorker)),v.createWorkerFrom(I,L,R)},_decompressWorker:function(){return this._data instanceof v?this._data.getContentWorker():this._data instanceof _?this._data:new m(this._data)}};for(var x=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],T=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},C=0;C<x.length;C++)u.prototype[x[C]]=T;r.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,o){(function(u){var f,m,g=u.MutationObserver||u.WebKitMutationObserver;if(g){var v=0,_=new g(L),x=u.document.createTextNode("");_.observe(x,{characterData:!0}),f=function(){x.data=v=++v%2}}else if(u.setImmediate||u.MessageChannel===void 0)f="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var R=u.document.createElement("script");R.onreadystatechange=function(){L(),R.onreadystatechange=null,R.parentNode.removeChild(R),R=null},u.document.documentElement.appendChild(R)}:function(){setTimeout(L,0)};else{var T=new u.MessageChannel;T.port1.onmessage=L,f=function(){T.port2.postMessage(0)}}var C=[];function L(){var R,I;m=!0;for(var N=C.length;N;){for(I=C,C=[],R=-1;++R<N;)I[R]();N=C.length}m=!1}r.exports=function(R){C.push(R)!==1||m||f()}}).call(this,typeof Cu<"u"?Cu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,o){var u=t("immediate");function f(){}var m={},g=["REJECTED"],v=["FULFILLED"],_=["PENDING"];function x(N){if(typeof N!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,N!==f&&R(this,N)}function T(N,P,W){this.promise=N,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof W=="function"&&(this.onRejected=W,this.callRejected=this.otherCallRejected)}function C(N,P,W){u(function(){var re;try{re=P(W)}catch(te){return m.reject(N,te)}re===N?m.reject(N,new TypeError("Cannot resolve promise with itself")):m.resolve(N,re)})}function L(N){var P=N&&N.then;if(N&&(typeof N=="object"||typeof N=="function")&&typeof P=="function")return function(){P.apply(N,arguments)}}function R(N,P){var W=!1;function re(B){W||(W=!0,m.reject(N,B))}function te(B){W||(W=!0,m.resolve(N,B))}var ne=I(function(){P(te,re)});ne.status==="error"&&re(ne.value)}function I(N,P){var W={};try{W.value=N(P),W.status="success"}catch(re){W.status="error",W.value=re}return W}(r.exports=x).prototype.finally=function(N){if(typeof N!="function")return this;var P=this.constructor;return this.then(function(W){return P.resolve(N()).then(function(){return W})},function(W){return P.resolve(N()).then(function(){throw W})})},x.prototype.catch=function(N){return this.then(null,N)},x.prototype.then=function(N,P){if(typeof N!="function"&&this.state===v||typeof P!="function"&&this.state===g)return this;var W=new this.constructor(f);return this.state!==_?C(W,this.state===v?N:P,this.outcome):this.queue.push(new T(W,N,P)),W},T.prototype.callFulfilled=function(N){m.resolve(this.promise,N)},T.prototype.otherCallFulfilled=function(N){C(this.promise,this.onFulfilled,N)},T.prototype.callRejected=function(N){m.reject(this.promise,N)},T.prototype.otherCallRejected=function(N){C(this.promise,this.onRejected,N)},m.resolve=function(N,P){var W=I(L,P);if(W.status==="error")return m.reject(N,W.value);var re=W.value;if(re)R(N,re);else{N.state=v,N.outcome=P;for(var te=-1,ne=N.queue.length;++te<ne;)N.queue[te].callFulfilled(P)}return N},m.reject=function(N,P){N.state=g,N.outcome=P;for(var W=-1,re=N.queue.length;++W<re;)N.queue[W].callRejected(P);return N},x.resolve=function(N){return N instanceof this?N:m.resolve(new this(f),N)},x.reject=function(N){var P=new this(f);return m.reject(P,N)},x.all=function(N){var P=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var W=N.length,re=!1;if(!W)return this.resolve([]);for(var te=new Array(W),ne=0,B=-1,Q=new this(f);++B<W;)q(N[B],B);return Q;function q(ae,$){P.resolve(ae).then(function(F){te[$]=F,++ne!==W||re||(re=!0,m.resolve(Q,te))},function(F){re||(re=!0,m.reject(Q,F))})}},x.race=function(N){var P=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var W=N.length,re=!1;if(!W)return this.resolve([]);for(var te=-1,ne=new this(f);++te<W;)B=N[te],P.resolve(B).then(function(Q){re||(re=!0,m.resolve(ne,Q))},function(Q){re||(re=!0,m.reject(ne,Q))});var B;return ne}},{immediate:36}],38:[function(t,r,o){var u={};(0,t("./lib/utils/common").assign)(u,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,o){var u=t("./zlib/deflate"),f=t("./utils/common"),m=t("./utils/strings"),g=t("./zlib/messages"),v=t("./zlib/zstream"),_=Object.prototype.toString,x=0,T=-1,C=0,L=8;function R(N){if(!(this instanceof R))return new R(N);this.options=f.assign({level:T,method:L,chunkSize:16384,windowBits:15,memLevel:8,strategy:C,to:""},N||{});var P=this.options;P.raw&&0<P.windowBits?P.windowBits=-P.windowBits:P.gzip&&0<P.windowBits&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var W=u.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if(W!==x)throw new Error(g[W]);if(P.header&&u.deflateSetHeader(this.strm,P.header),P.dictionary){var re;if(re=typeof P.dictionary=="string"?m.string2buf(P.dictionary):_.call(P.dictionary)==="[object ArrayBuffer]"?new Uint8Array(P.dictionary):P.dictionary,(W=u.deflateSetDictionary(this.strm,re))!==x)throw new Error(g[W]);this._dict_set=!0}}function I(N,P){var W=new R(P);if(W.push(N,!0),W.err)throw W.msg||g[W.err];return W.result}R.prototype.push=function(N,P){var W,re,te=this.strm,ne=this.options.chunkSize;if(this.ended)return!1;re=P===~~P?P:P===!0?4:0,typeof N=="string"?te.input=m.string2buf(N):_.call(N)==="[object ArrayBuffer]"?te.input=new Uint8Array(N):te.input=N,te.next_in=0,te.avail_in=te.input.length;do{if(te.avail_out===0&&(te.output=new f.Buf8(ne),te.next_out=0,te.avail_out=ne),(W=u.deflate(te,re))!==1&&W!==x)return this.onEnd(W),!(this.ended=!0);te.avail_out!==0&&(te.avail_in!==0||re!==4&&re!==2)||(this.options.to==="string"?this.onData(m.buf2binstring(f.shrinkBuf(te.output,te.next_out))):this.onData(f.shrinkBuf(te.output,te.next_out)))}while((0<te.avail_in||te.avail_out===0)&&W!==1);return re===4?(W=u.deflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===x):re!==2||(this.onEnd(x),!(te.avail_out=0))},R.prototype.onData=function(N){this.chunks.push(N)},R.prototype.onEnd=function(N){N===x&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},o.Deflate=R,o.deflate=I,o.deflateRaw=function(N,P){return(P=P||{}).raw=!0,I(N,P)},o.gzip=function(N,P){return(P=P||{}).gzip=!0,I(N,P)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,o){var u=t("./zlib/inflate"),f=t("./utils/common"),m=t("./utils/strings"),g=t("./zlib/constants"),v=t("./zlib/messages"),_=t("./zlib/zstream"),x=t("./zlib/gzheader"),T=Object.prototype.toString;function C(R){if(!(this instanceof C))return new C(R);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},R||{});var I=this.options;I.raw&&0<=I.windowBits&&I.windowBits<16&&(I.windowBits=-I.windowBits,I.windowBits===0&&(I.windowBits=-15)),!(0<=I.windowBits&&I.windowBits<16)||R&&R.windowBits||(I.windowBits+=32),15<I.windowBits&&I.windowBits<48&&(15&I.windowBits)==0&&(I.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var N=u.inflateInit2(this.strm,I.windowBits);if(N!==g.Z_OK)throw new Error(v[N]);this.header=new x,u.inflateGetHeader(this.strm,this.header)}function L(R,I){var N=new C(I);if(N.push(R,!0),N.err)throw N.msg||v[N.err];return N.result}C.prototype.push=function(R,I){var N,P,W,re,te,ne,B=this.strm,Q=this.options.chunkSize,q=this.options.dictionary,ae=!1;if(this.ended)return!1;P=I===~~I?I:I===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof R=="string"?B.input=m.binstring2buf(R):T.call(R)==="[object ArrayBuffer]"?B.input=new Uint8Array(R):B.input=R,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new f.Buf8(Q),B.next_out=0,B.avail_out=Q),(N=u.inflate(B,g.Z_NO_FLUSH))===g.Z_NEED_DICT&&q&&(ne=typeof q=="string"?m.string2buf(q):T.call(q)==="[object ArrayBuffer]"?new Uint8Array(q):q,N=u.inflateSetDictionary(this.strm,ne)),N===g.Z_BUF_ERROR&&ae===!0&&(N=g.Z_OK,ae=!1),N!==g.Z_STREAM_END&&N!==g.Z_OK)return this.onEnd(N),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&N!==g.Z_STREAM_END&&(B.avail_in!==0||P!==g.Z_FINISH&&P!==g.Z_SYNC_FLUSH)||(this.options.to==="string"?(W=m.utf8border(B.output,B.next_out),re=B.next_out-W,te=m.buf2string(B.output,W),B.next_out=re,B.avail_out=Q-re,re&&f.arraySet(B.output,B.output,W,re,0),this.onData(te)):this.onData(f.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&(ae=!0)}while((0<B.avail_in||B.avail_out===0)&&N!==g.Z_STREAM_END);return N===g.Z_STREAM_END&&(P=g.Z_FINISH),P===g.Z_FINISH?(N=u.inflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===g.Z_OK):P!==g.Z_SYNC_FLUSH||(this.onEnd(g.Z_OK),!(B.avail_out=0))},C.prototype.onData=function(R){this.chunks.push(R)},C.prototype.onEnd=function(R){R===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},o.Inflate=C,o.inflate=L,o.inflateRaw=function(R,I){return(I=I||{}).raw=!0,L(R,I)},o.ungzip=L},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,o){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(g){for(var v=Array.prototype.slice.call(arguments,1);v.length;){var _=v.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var x in _)_.hasOwnProperty(x)&&(g[x]=_[x])}}return g},o.shrinkBuf=function(g,v){return g.length===v?g:g.subarray?g.subarray(0,v):(g.length=v,g)};var f={arraySet:function(g,v,_,x,T){if(v.subarray&&g.subarray)g.set(v.subarray(_,_+x),T);else for(var C=0;C<x;C++)g[T+C]=v[_+C]},flattenChunks:function(g){var v,_,x,T,C,L;for(v=x=0,_=g.length;v<_;v++)x+=g[v].length;for(L=new Uint8Array(x),v=T=0,_=g.length;v<_;v++)C=g[v],L.set(C,T),T+=C.length;return L}},m={arraySet:function(g,v,_,x,T){for(var C=0;C<x;C++)g[T+C]=v[_+C]},flattenChunks:function(g){return[].concat.apply([],g)}};o.setTyped=function(g){g?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,f)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,m))},o.setTyped(u)},{}],42:[function(t,r,o){var u=t("./common"),f=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var g=new u.Buf8(256),v=0;v<256;v++)g[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;function _(x,T){if(T<65537&&(x.subarray&&m||!x.subarray&&f))return String.fromCharCode.apply(null,u.shrinkBuf(x,T));for(var C="",L=0;L<T;L++)C+=String.fromCharCode(x[L]);return C}g[254]=g[254]=1,o.string2buf=function(x){var T,C,L,R,I,N=x.length,P=0;for(R=0;R<N;R++)(64512&(C=x.charCodeAt(R)))==55296&&R+1<N&&(64512&(L=x.charCodeAt(R+1)))==56320&&(C=65536+(C-55296<<10)+(L-56320),R++),P+=C<128?1:C<2048?2:C<65536?3:4;for(T=new u.Buf8(P),R=I=0;I<P;R++)(64512&(C=x.charCodeAt(R)))==55296&&R+1<N&&(64512&(L=x.charCodeAt(R+1)))==56320&&(C=65536+(C-55296<<10)+(L-56320),R++),C<128?T[I++]=C:(C<2048?T[I++]=192|C>>>6:(C<65536?T[I++]=224|C>>>12:(T[I++]=240|C>>>18,T[I++]=128|C>>>12&63),T[I++]=128|C>>>6&63),T[I++]=128|63&C);return T},o.buf2binstring=function(x){return _(x,x.length)},o.binstring2buf=function(x){for(var T=new u.Buf8(x.length),C=0,L=T.length;C<L;C++)T[C]=x.charCodeAt(C);return T},o.buf2string=function(x,T){var C,L,R,I,N=T||x.length,P=new Array(2*N);for(C=L=0;C<N;)if((R=x[C++])<128)P[L++]=R;else if(4<(I=g[R]))P[L++]=65533,C+=I-1;else{for(R&=I===2?31:I===3?15:7;1<I&&C<N;)R=R<<6|63&x[C++],I--;1<I?P[L++]=65533:R<65536?P[L++]=R:(R-=65536,P[L++]=55296|R>>10&1023,P[L++]=56320|1023&R)}return _(P,L)},o.utf8border=function(x,T){var C;for((T=T||x.length)>x.length&&(T=x.length),C=T-1;0<=C&&(192&x[C])==128;)C--;return C<0||C===0?T:C+g[x[C]]>T?C:T}},{"./common":41}],43:[function(t,r,o){r.exports=function(u,f,m,g){for(var v=65535&u|0,_=u>>>16&65535|0,x=0;m!==0;){for(m-=x=2e3<m?2e3:m;_=_+(v=v+f[g++]|0)|0,--x;);v%=65521,_%=65521}return v|_<<16|0}},{}],44:[function(t,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,o){var u=(function(){for(var f,m=[],g=0;g<256;g++){f=g;for(var v=0;v<8;v++)f=1&f?3988292384^f>>>1:f>>>1;m[g]=f}return m})();r.exports=function(f,m,g,v){var _=u,x=v+g;f^=-1;for(var T=v;T<x;T++)f=f>>>8^_[255&(f^m[T])];return-1^f}},{}],46:[function(t,r,o){var u,f=t("../utils/common"),m=t("./trees"),g=t("./adler32"),v=t("./crc32"),_=t("./messages"),x=0,T=4,C=0,L=-2,R=-1,I=4,N=2,P=8,W=9,re=286,te=30,ne=19,B=2*re+1,Q=15,q=3,ae=258,$=ae+q+1,F=42,Z=113,U=1,ee=2,fe=3,he=4;function Pe(K,ze){return K.msg=_[ze],ze}function Fe(K){return(K<<1)-(4<K?9:0)}function le(K){for(var ze=K.length;0<=--ze;)K[ze]=0}function se(K){var ze=K.state,He=ze.pending;He>K.avail_out&&(He=K.avail_out),He!==0&&(f.arraySet(K.output,ze.pending_buf,ze.pending_out,He,K.next_out),K.next_out+=He,ze.pending_out+=He,K.total_out+=He,K.avail_out-=He,ze.pending-=He,ze.pending===0&&(ze.pending_out=0))}function H(K,ze){m._tr_flush_block(K,0<=K.block_start?K.block_start:-1,K.strstart-K.block_start,ze),K.block_start=K.strstart,se(K.strm)}function A(K,ze){K.pending_buf[K.pending++]=ze}function ge(K,ze){K.pending_buf[K.pending++]=ze>>>8&255,K.pending_buf[K.pending++]=255&ze}function Ue(K,ze){var He,be,pe=K.max_chain_length,ke=K.strstart,Me=K.prev_length,Xe=K.nice_match,Ve=K.strstart>K.w_size-$?K.strstart-(K.w_size-$):0,lt=K.window,Ee=K.w_mask,we=K.prev,ie=K.strstart+ae,j=lt[ke+Me-1],G=lt[ke+Me];K.prev_length>=K.good_match&&(pe>>=2),Xe>K.lookahead&&(Xe=K.lookahead);do if(lt[(He=ze)+Me]===G&&lt[He+Me-1]===j&&lt[He]===lt[ke]&&lt[++He]===lt[ke+1]){ke+=2,He++;do;while(lt[++ke]===lt[++He]&&lt[++ke]===lt[++He]&&lt[++ke]===lt[++He]&&lt[++ke]===lt[++He]&&lt[++ke]===lt[++He]&&lt[++ke]===lt[++He]&&lt[++ke]===lt[++He]&&lt[++ke]===lt[++He]&&ke<ie);if(be=ae-(ie-ke),ke=ie-ae,Me<be){if(K.match_start=ze,Xe<=(Me=be))break;j=lt[ke+Me-1],G=lt[ke+Me]}}while((ze=we[ze&Ee])>Ve&&--pe!=0);return Me<=K.lookahead?Me:K.lookahead}function $e(K){var ze,He,be,pe,ke,Me,Xe,Ve,lt,Ee,we=K.w_size;do{if(pe=K.window_size-K.lookahead-K.strstart,K.strstart>=we+(we-$)){for(f.arraySet(K.window,K.window,we,we,0),K.match_start-=we,K.strstart-=we,K.block_start-=we,ze=He=K.hash_size;be=K.head[--ze],K.head[ze]=we<=be?be-we:0,--He;);for(ze=He=we;be=K.prev[--ze],K.prev[ze]=we<=be?be-we:0,--He;);pe+=we}if(K.strm.avail_in===0)break;if(Me=K.strm,Xe=K.window,Ve=K.strstart+K.lookahead,lt=pe,Ee=void 0,Ee=Me.avail_in,lt<Ee&&(Ee=lt),He=Ee===0?0:(Me.avail_in-=Ee,f.arraySet(Xe,Me.input,Me.next_in,Ee,Ve),Me.state.wrap===1?Me.adler=g(Me.adler,Xe,Ee,Ve):Me.state.wrap===2&&(Me.adler=v(Me.adler,Xe,Ee,Ve)),Me.next_in+=Ee,Me.total_in+=Ee,Ee),K.lookahead+=He,K.lookahead+K.insert>=q)for(ke=K.strstart-K.insert,K.ins_h=K.window[ke],K.ins_h=(K.ins_h<<K.hash_shift^K.window[ke+1])&K.hash_mask;K.insert&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[ke+q-1])&K.hash_mask,K.prev[ke&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=ke,ke++,K.insert--,!(K.lookahead+K.insert<q)););}while(K.lookahead<$&&K.strm.avail_in!==0)}function gt(K,ze){for(var He,be;;){if(K.lookahead<$){if($e(K),K.lookahead<$&&ze===x)return U;if(K.lookahead===0)break}if(He=0,K.lookahead>=q&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+q-1])&K.hash_mask,He=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),He!==0&&K.strstart-He<=K.w_size-$&&(K.match_length=Ue(K,He)),K.match_length>=q)if(be=m._tr_tally(K,K.strstart-K.match_start,K.match_length-q),K.lookahead-=K.match_length,K.match_length<=K.max_lazy_match&&K.lookahead>=q){for(K.match_length--;K.strstart++,K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+q-1])&K.hash_mask,He=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart,--K.match_length!=0;);K.strstart++}else K.strstart+=K.match_length,K.match_length=0,K.ins_h=K.window[K.strstart],K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+1])&K.hash_mask;else be=m._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++;if(be&&(H(K,!1),K.strm.avail_out===0))return U}return K.insert=K.strstart<q-1?K.strstart:q-1,ze===T?(H(K,!0),K.strm.avail_out===0?fe:he):K.last_lit&&(H(K,!1),K.strm.avail_out===0)?U:ee}function ht(K,ze){for(var He,be,pe;;){if(K.lookahead<$){if($e(K),K.lookahead<$&&ze===x)return U;if(K.lookahead===0)break}if(He=0,K.lookahead>=q&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+q-1])&K.hash_mask,He=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),K.prev_length=K.match_length,K.prev_match=K.match_start,K.match_length=q-1,He!==0&&K.prev_length<K.max_lazy_match&&K.strstart-He<=K.w_size-$&&(K.match_length=Ue(K,He),K.match_length<=5&&(K.strategy===1||K.match_length===q&&4096<K.strstart-K.match_start)&&(K.match_length=q-1)),K.prev_length>=q&&K.match_length<=K.prev_length){for(pe=K.strstart+K.lookahead-q,be=m._tr_tally(K,K.strstart-1-K.prev_match,K.prev_length-q),K.lookahead-=K.prev_length-1,K.prev_length-=2;++K.strstart<=pe&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+q-1])&K.hash_mask,He=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),--K.prev_length!=0;);if(K.match_available=0,K.match_length=q-1,K.strstart++,be&&(H(K,!1),K.strm.avail_out===0))return U}else if(K.match_available){if((be=m._tr_tally(K,0,K.window[K.strstart-1]))&&H(K,!1),K.strstart++,K.lookahead--,K.strm.avail_out===0)return U}else K.match_available=1,K.strstart++,K.lookahead--}return K.match_available&&(be=m._tr_tally(K,0,K.window[K.strstart-1]),K.match_available=0),K.insert=K.strstart<q-1?K.strstart:q-1,ze===T?(H(K,!0),K.strm.avail_out===0?fe:he):K.last_lit&&(H(K,!1),K.strm.avail_out===0)?U:ee}function dt(K,ze,He,be,pe){this.good_length=K,this.max_lazy=ze,this.nice_length=He,this.max_chain=be,this.func=pe}function At(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*B),this.dyn_dtree=new f.Buf16(2*(2*te+1)),this.bl_tree=new f.Buf16(2*(2*ne+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(Q+1),this.heap=new f.Buf16(2*re+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*re+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _t(K){var ze;return K&&K.state?(K.total_in=K.total_out=0,K.data_type=N,(ze=K.state).pending=0,ze.pending_out=0,ze.wrap<0&&(ze.wrap=-ze.wrap),ze.status=ze.wrap?F:Z,K.adler=ze.wrap===2?0:1,ze.last_flush=x,m._tr_init(ze),C):Pe(K,L)}function Pt(K){var ze=_t(K);return ze===C&&(function(He){He.window_size=2*He.w_size,le(He.head),He.max_lazy_match=u[He.level].max_lazy,He.good_match=u[He.level].good_length,He.nice_match=u[He.level].nice_length,He.max_chain_length=u[He.level].max_chain,He.strstart=0,He.block_start=0,He.lookahead=0,He.insert=0,He.match_length=He.prev_length=q-1,He.match_available=0,He.ins_h=0})(K.state),ze}function Ht(K,ze,He,be,pe,ke){if(!K)return L;var Me=1;if(ze===R&&(ze=6),be<0?(Me=0,be=-be):15<be&&(Me=2,be-=16),pe<1||W<pe||He!==P||be<8||15<be||ze<0||9<ze||ke<0||I<ke)return Pe(K,L);be===8&&(be=9);var Xe=new At;return(K.state=Xe).strm=K,Xe.wrap=Me,Xe.gzhead=null,Xe.w_bits=be,Xe.w_size=1<<Xe.w_bits,Xe.w_mask=Xe.w_size-1,Xe.hash_bits=pe+7,Xe.hash_size=1<<Xe.hash_bits,Xe.hash_mask=Xe.hash_size-1,Xe.hash_shift=~~((Xe.hash_bits+q-1)/q),Xe.window=new f.Buf8(2*Xe.w_size),Xe.head=new f.Buf16(Xe.hash_size),Xe.prev=new f.Buf16(Xe.w_size),Xe.lit_bufsize=1<<pe+6,Xe.pending_buf_size=4*Xe.lit_bufsize,Xe.pending_buf=new f.Buf8(Xe.pending_buf_size),Xe.d_buf=1*Xe.lit_bufsize,Xe.l_buf=3*Xe.lit_bufsize,Xe.level=ze,Xe.strategy=ke,Xe.method=He,Pt(K)}u=[new dt(0,0,0,0,function(K,ze){var He=65535;for(He>K.pending_buf_size-5&&(He=K.pending_buf_size-5);;){if(K.lookahead<=1){if($e(K),K.lookahead===0&&ze===x)return U;if(K.lookahead===0)break}K.strstart+=K.lookahead,K.lookahead=0;var be=K.block_start+He;if((K.strstart===0||K.strstart>=be)&&(K.lookahead=K.strstart-be,K.strstart=be,H(K,!1),K.strm.avail_out===0)||K.strstart-K.block_start>=K.w_size-$&&(H(K,!1),K.strm.avail_out===0))return U}return K.insert=0,ze===T?(H(K,!0),K.strm.avail_out===0?fe:he):(K.strstart>K.block_start&&(H(K,!1),K.strm.avail_out),U)}),new dt(4,4,8,4,gt),new dt(4,5,16,8,gt),new dt(4,6,32,32,gt),new dt(4,4,16,16,ht),new dt(8,16,32,32,ht),new dt(8,16,128,128,ht),new dt(8,32,128,256,ht),new dt(32,128,258,1024,ht),new dt(32,258,258,4096,ht)],o.deflateInit=function(K,ze){return Ht(K,ze,P,15,8,0)},o.deflateInit2=Ht,o.deflateReset=Pt,o.deflateResetKeep=_t,o.deflateSetHeader=function(K,ze){return K&&K.state?K.state.wrap!==2?L:(K.state.gzhead=ze,C):L},o.deflate=function(K,ze){var He,be,pe,ke;if(!K||!K.state||5<ze||ze<0)return K?Pe(K,L):L;if(be=K.state,!K.output||!K.input&&K.avail_in!==0||be.status===666&&ze!==T)return Pe(K,K.avail_out===0?-5:L);if(be.strm=K,He=be.last_flush,be.last_flush=ze,be.status===F)if(be.wrap===2)K.adler=0,A(be,31),A(be,139),A(be,8),be.gzhead?(A(be,(be.gzhead.text?1:0)+(be.gzhead.hcrc?2:0)+(be.gzhead.extra?4:0)+(be.gzhead.name?8:0)+(be.gzhead.comment?16:0)),A(be,255&be.gzhead.time),A(be,be.gzhead.time>>8&255),A(be,be.gzhead.time>>16&255),A(be,be.gzhead.time>>24&255),A(be,be.level===9?2:2<=be.strategy||be.level<2?4:0),A(be,255&be.gzhead.os),be.gzhead.extra&&be.gzhead.extra.length&&(A(be,255&be.gzhead.extra.length),A(be,be.gzhead.extra.length>>8&255)),be.gzhead.hcrc&&(K.adler=v(K.adler,be.pending_buf,be.pending,0)),be.gzindex=0,be.status=69):(A(be,0),A(be,0),A(be,0),A(be,0),A(be,0),A(be,be.level===9?2:2<=be.strategy||be.level<2?4:0),A(be,3),be.status=Z);else{var Me=P+(be.w_bits-8<<4)<<8;Me|=(2<=be.strategy||be.level<2?0:be.level<6?1:be.level===6?2:3)<<6,be.strstart!==0&&(Me|=32),Me+=31-Me%31,be.status=Z,ge(be,Me),be.strstart!==0&&(ge(be,K.adler>>>16),ge(be,65535&K.adler)),K.adler=1}if(be.status===69)if(be.gzhead.extra){for(pe=be.pending;be.gzindex<(65535&be.gzhead.extra.length)&&(be.pending!==be.pending_buf_size||(be.gzhead.hcrc&&be.pending>pe&&(K.adler=v(K.adler,be.pending_buf,be.pending-pe,pe)),se(K),pe=be.pending,be.pending!==be.pending_buf_size));)A(be,255&be.gzhead.extra[be.gzindex]),be.gzindex++;be.gzhead.hcrc&&be.pending>pe&&(K.adler=v(K.adler,be.pending_buf,be.pending-pe,pe)),be.gzindex===be.gzhead.extra.length&&(be.gzindex=0,be.status=73)}else be.status=73;if(be.status===73)if(be.gzhead.name){pe=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>pe&&(K.adler=v(K.adler,be.pending_buf,be.pending-pe,pe)),se(K),pe=be.pending,be.pending===be.pending_buf_size)){ke=1;break}ke=be.gzindex<be.gzhead.name.length?255&be.gzhead.name.charCodeAt(be.gzindex++):0,A(be,ke)}while(ke!==0);be.gzhead.hcrc&&be.pending>pe&&(K.adler=v(K.adler,be.pending_buf,be.pending-pe,pe)),ke===0&&(be.gzindex=0,be.status=91)}else be.status=91;if(be.status===91)if(be.gzhead.comment){pe=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>pe&&(K.adler=v(K.adler,be.pending_buf,be.pending-pe,pe)),se(K),pe=be.pending,be.pending===be.pending_buf_size)){ke=1;break}ke=be.gzindex<be.gzhead.comment.length?255&be.gzhead.comment.charCodeAt(be.gzindex++):0,A(be,ke)}while(ke!==0);be.gzhead.hcrc&&be.pending>pe&&(K.adler=v(K.adler,be.pending_buf,be.pending-pe,pe)),ke===0&&(be.status=103)}else be.status=103;if(be.status===103&&(be.gzhead.hcrc?(be.pending+2>be.pending_buf_size&&se(K),be.pending+2<=be.pending_buf_size&&(A(be,255&K.adler),A(be,K.adler>>8&255),K.adler=0,be.status=Z)):be.status=Z),be.pending!==0){if(se(K),K.avail_out===0)return be.last_flush=-1,C}else if(K.avail_in===0&&Fe(ze)<=Fe(He)&&ze!==T)return Pe(K,-5);if(be.status===666&&K.avail_in!==0)return Pe(K,-5);if(K.avail_in!==0||be.lookahead!==0||ze!==x&&be.status!==666){var Xe=be.strategy===2?(function(Ve,lt){for(var Ee;;){if(Ve.lookahead===0&&($e(Ve),Ve.lookahead===0)){if(lt===x)return U;break}if(Ve.match_length=0,Ee=m._tr_tally(Ve,0,Ve.window[Ve.strstart]),Ve.lookahead--,Ve.strstart++,Ee&&(H(Ve,!1),Ve.strm.avail_out===0))return U}return Ve.insert=0,lt===T?(H(Ve,!0),Ve.strm.avail_out===0?fe:he):Ve.last_lit&&(H(Ve,!1),Ve.strm.avail_out===0)?U:ee})(be,ze):be.strategy===3?(function(Ve,lt){for(var Ee,we,ie,j,G=Ve.window;;){if(Ve.lookahead<=ae){if($e(Ve),Ve.lookahead<=ae&&lt===x)return U;if(Ve.lookahead===0)break}if(Ve.match_length=0,Ve.lookahead>=q&&0<Ve.strstart&&(we=G[ie=Ve.strstart-1])===G[++ie]&&we===G[++ie]&&we===G[++ie]){j=Ve.strstart+ae;do;while(we===G[++ie]&&we===G[++ie]&&we===G[++ie]&&we===G[++ie]&&we===G[++ie]&&we===G[++ie]&&we===G[++ie]&&we===G[++ie]&&ie<j);Ve.match_length=ae-(j-ie),Ve.match_length>Ve.lookahead&&(Ve.match_length=Ve.lookahead)}if(Ve.match_length>=q?(Ee=m._tr_tally(Ve,1,Ve.match_length-q),Ve.lookahead-=Ve.match_length,Ve.strstart+=Ve.match_length,Ve.match_length=0):(Ee=m._tr_tally(Ve,0,Ve.window[Ve.strstart]),Ve.lookahead--,Ve.strstart++),Ee&&(H(Ve,!1),Ve.strm.avail_out===0))return U}return Ve.insert=0,lt===T?(H(Ve,!0),Ve.strm.avail_out===0?fe:he):Ve.last_lit&&(H(Ve,!1),Ve.strm.avail_out===0)?U:ee})(be,ze):u[be.level].func(be,ze);if(Xe!==fe&&Xe!==he||(be.status=666),Xe===U||Xe===fe)return K.avail_out===0&&(be.last_flush=-1),C;if(Xe===ee&&(ze===1?m._tr_align(be):ze!==5&&(m._tr_stored_block(be,0,0,!1),ze===3&&(le(be.head),be.lookahead===0&&(be.strstart=0,be.block_start=0,be.insert=0))),se(K),K.avail_out===0))return be.last_flush=-1,C}return ze!==T?C:be.wrap<=0?1:(be.wrap===2?(A(be,255&K.adler),A(be,K.adler>>8&255),A(be,K.adler>>16&255),A(be,K.adler>>24&255),A(be,255&K.total_in),A(be,K.total_in>>8&255),A(be,K.total_in>>16&255),A(be,K.total_in>>24&255)):(ge(be,K.adler>>>16),ge(be,65535&K.adler)),se(K),0<be.wrap&&(be.wrap=-be.wrap),be.pending!==0?C:1)},o.deflateEnd=function(K){var ze;return K&&K.state?(ze=K.state.status)!==F&&ze!==69&&ze!==73&&ze!==91&&ze!==103&&ze!==Z&&ze!==666?Pe(K,L):(K.state=null,ze===Z?Pe(K,-3):C):L},o.deflateSetDictionary=function(K,ze){var He,be,pe,ke,Me,Xe,Ve,lt,Ee=ze.length;if(!K||!K.state||(ke=(He=K.state).wrap)===2||ke===1&&He.status!==F||He.lookahead)return L;for(ke===1&&(K.adler=g(K.adler,ze,Ee,0)),He.wrap=0,Ee>=He.w_size&&(ke===0&&(le(He.head),He.strstart=0,He.block_start=0,He.insert=0),lt=new f.Buf8(He.w_size),f.arraySet(lt,ze,Ee-He.w_size,He.w_size,0),ze=lt,Ee=He.w_size),Me=K.avail_in,Xe=K.next_in,Ve=K.input,K.avail_in=Ee,K.next_in=0,K.input=ze,$e(He);He.lookahead>=q;){for(be=He.strstart,pe=He.lookahead-(q-1);He.ins_h=(He.ins_h<<He.hash_shift^He.window[be+q-1])&He.hash_mask,He.prev[be&He.w_mask]=He.head[He.ins_h],He.head[He.ins_h]=be,be++,--pe;);He.strstart=be,He.lookahead=q-1,$e(He)}return He.strstart+=He.lookahead,He.block_start=He.strstart,He.insert=He.lookahead,He.lookahead=0,He.match_length=He.prev_length=q-1,He.match_available=0,K.next_in=Xe,K.input=Ve,K.avail_in=Me,He.wrap=ke,C},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,o){r.exports=function(u,f){var m,g,v,_,x,T,C,L,R,I,N,P,W,re,te,ne,B,Q,q,ae,$,F,Z,U,ee;m=u.state,g=u.next_in,U=u.input,v=g+(u.avail_in-5),_=u.next_out,ee=u.output,x=_-(f-u.avail_out),T=_+(u.avail_out-257),C=m.dmax,L=m.wsize,R=m.whave,I=m.wnext,N=m.window,P=m.hold,W=m.bits,re=m.lencode,te=m.distcode,ne=(1<<m.lenbits)-1,B=(1<<m.distbits)-1;e:do{W<15&&(P+=U[g++]<<W,W+=8,P+=U[g++]<<W,W+=8),Q=re[P&ne];t:for(;;){if(P>>>=q=Q>>>24,W-=q,(q=Q>>>16&255)===0)ee[_++]=65535&Q;else{if(!(16&q)){if((64&q)==0){Q=re[(65535&Q)+(P&(1<<q)-1)];continue t}if(32&q){m.mode=12;break e}u.msg="invalid literal/length code",m.mode=30;break e}ae=65535&Q,(q&=15)&&(W<q&&(P+=U[g++]<<W,W+=8),ae+=P&(1<<q)-1,P>>>=q,W-=q),W<15&&(P+=U[g++]<<W,W+=8,P+=U[g++]<<W,W+=8),Q=te[P&B];n:for(;;){if(P>>>=q=Q>>>24,W-=q,!(16&(q=Q>>>16&255))){if((64&q)==0){Q=te[(65535&Q)+(P&(1<<q)-1)];continue n}u.msg="invalid distance code",m.mode=30;break e}if($=65535&Q,W<(q&=15)&&(P+=U[g++]<<W,(W+=8)<q&&(P+=U[g++]<<W,W+=8)),C<($+=P&(1<<q)-1)){u.msg="invalid distance too far back",m.mode=30;break e}if(P>>>=q,W-=q,(q=_-x)<$){if(R<(q=$-q)&&m.sane){u.msg="invalid distance too far back",m.mode=30;break e}if(Z=N,(F=0)===I){if(F+=L-q,q<ae){for(ae-=q;ee[_++]=N[F++],--q;);F=_-$,Z=ee}}else if(I<q){if(F+=L+I-q,(q-=I)<ae){for(ae-=q;ee[_++]=N[F++],--q;);if(F=0,I<ae){for(ae-=q=I;ee[_++]=N[F++],--q;);F=_-$,Z=ee}}}else if(F+=I-q,q<ae){for(ae-=q;ee[_++]=N[F++],--q;);F=_-$,Z=ee}for(;2<ae;)ee[_++]=Z[F++],ee[_++]=Z[F++],ee[_++]=Z[F++],ae-=3;ae&&(ee[_++]=Z[F++],1<ae&&(ee[_++]=Z[F++]))}else{for(F=_-$;ee[_++]=ee[F++],ee[_++]=ee[F++],ee[_++]=ee[F++],2<(ae-=3););ae&&(ee[_++]=ee[F++],1<ae&&(ee[_++]=ee[F++]))}break}}break}}while(g<v&&_<T);g-=ae=W>>3,P&=(1<<(W-=ae<<3))-1,u.next_in=g,u.next_out=_,u.avail_in=g<v?v-g+5:5-(g-v),u.avail_out=_<T?T-_+257:257-(_-T),m.hold=P,m.bits=W}},{}],49:[function(t,r,o){var u=t("../utils/common"),f=t("./adler32"),m=t("./crc32"),g=t("./inffast"),v=t("./inftrees"),_=1,x=2,T=0,C=-2,L=1,R=852,I=592;function N(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function P(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function W(F){var Z;return F&&F.state?(Z=F.state,F.total_in=F.total_out=Z.total=0,F.msg="",Z.wrap&&(F.adler=1&Z.wrap),Z.mode=L,Z.last=0,Z.havedict=0,Z.dmax=32768,Z.head=null,Z.hold=0,Z.bits=0,Z.lencode=Z.lendyn=new u.Buf32(R),Z.distcode=Z.distdyn=new u.Buf32(I),Z.sane=1,Z.back=-1,T):C}function re(F){var Z;return F&&F.state?((Z=F.state).wsize=0,Z.whave=0,Z.wnext=0,W(F)):C}function te(F,Z){var U,ee;return F&&F.state?(ee=F.state,Z<0?(U=0,Z=-Z):(U=1+(Z>>4),Z<48&&(Z&=15)),Z&&(Z<8||15<Z)?C:(ee.window!==null&&ee.wbits!==Z&&(ee.window=null),ee.wrap=U,ee.wbits=Z,re(F))):C}function ne(F,Z){var U,ee;return F?(ee=new P,(F.state=ee).window=null,(U=te(F,Z))!==T&&(F.state=null),U):C}var B,Q,q=!0;function ae(F){if(q){var Z;for(B=new u.Buf32(512),Q=new u.Buf32(32),Z=0;Z<144;)F.lens[Z++]=8;for(;Z<256;)F.lens[Z++]=9;for(;Z<280;)F.lens[Z++]=7;for(;Z<288;)F.lens[Z++]=8;for(v(_,F.lens,0,288,B,0,F.work,{bits:9}),Z=0;Z<32;)F.lens[Z++]=5;v(x,F.lens,0,32,Q,0,F.work,{bits:5}),q=!1}F.lencode=B,F.lenbits=9,F.distcode=Q,F.distbits=5}function $(F,Z,U,ee){var fe,he=F.state;return he.window===null&&(he.wsize=1<<he.wbits,he.wnext=0,he.whave=0,he.window=new u.Buf8(he.wsize)),ee>=he.wsize?(u.arraySet(he.window,Z,U-he.wsize,he.wsize,0),he.wnext=0,he.whave=he.wsize):(ee<(fe=he.wsize-he.wnext)&&(fe=ee),u.arraySet(he.window,Z,U-ee,fe,he.wnext),(ee-=fe)?(u.arraySet(he.window,Z,U-ee,ee,0),he.wnext=ee,he.whave=he.wsize):(he.wnext+=fe,he.wnext===he.wsize&&(he.wnext=0),he.whave<he.wsize&&(he.whave+=fe))),0}o.inflateReset=re,o.inflateReset2=te,o.inflateResetKeep=W,o.inflateInit=function(F){return ne(F,15)},o.inflateInit2=ne,o.inflate=function(F,Z){var U,ee,fe,he,Pe,Fe,le,se,H,A,ge,Ue,$e,gt,ht,dt,At,_t,Pt,Ht,K,ze,He,be,pe=0,ke=new u.Buf8(4),Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return C;(U=F.state).mode===12&&(U.mode=13),Pe=F.next_out,fe=F.output,le=F.avail_out,he=F.next_in,ee=F.input,Fe=F.avail_in,se=U.hold,H=U.bits,A=Fe,ge=le,ze=T;e:for(;;)switch(U.mode){case L:if(U.wrap===0){U.mode=13;break}for(;H<16;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}if(2&U.wrap&&se===35615){ke[U.check=0]=255&se,ke[1]=se>>>8&255,U.check=m(U.check,ke,2,0),H=se=0,U.mode=2;break}if(U.flags=0,U.head&&(U.head.done=!1),!(1&U.wrap)||(((255&se)<<8)+(se>>8))%31){F.msg="incorrect header check",U.mode=30;break}if((15&se)!=8){F.msg="unknown compression method",U.mode=30;break}if(H-=4,K=8+(15&(se>>>=4)),U.wbits===0)U.wbits=K;else if(K>U.wbits){F.msg="invalid window size",U.mode=30;break}U.dmax=1<<K,F.adler=U.check=1,U.mode=512&se?10:12,H=se=0;break;case 2:for(;H<16;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}if(U.flags=se,(255&U.flags)!=8){F.msg="unknown compression method",U.mode=30;break}if(57344&U.flags){F.msg="unknown header flags set",U.mode=30;break}U.head&&(U.head.text=se>>8&1),512&U.flags&&(ke[0]=255&se,ke[1]=se>>>8&255,U.check=m(U.check,ke,2,0)),H=se=0,U.mode=3;case 3:for(;H<32;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}U.head&&(U.head.time=se),512&U.flags&&(ke[0]=255&se,ke[1]=se>>>8&255,ke[2]=se>>>16&255,ke[3]=se>>>24&255,U.check=m(U.check,ke,4,0)),H=se=0,U.mode=4;case 4:for(;H<16;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}U.head&&(U.head.xflags=255&se,U.head.os=se>>8),512&U.flags&&(ke[0]=255&se,ke[1]=se>>>8&255,U.check=m(U.check,ke,2,0)),H=se=0,U.mode=5;case 5:if(1024&U.flags){for(;H<16;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}U.length=se,U.head&&(U.head.extra_len=se),512&U.flags&&(ke[0]=255&se,ke[1]=se>>>8&255,U.check=m(U.check,ke,2,0)),H=se=0}else U.head&&(U.head.extra=null);U.mode=6;case 6:if(1024&U.flags&&(Fe<(Ue=U.length)&&(Ue=Fe),Ue&&(U.head&&(K=U.head.extra_len-U.length,U.head.extra||(U.head.extra=new Array(U.head.extra_len)),u.arraySet(U.head.extra,ee,he,Ue,K)),512&U.flags&&(U.check=m(U.check,ee,Ue,he)),Fe-=Ue,he+=Ue,U.length-=Ue),U.length))break e;U.length=0,U.mode=7;case 7:if(2048&U.flags){if(Fe===0)break e;for(Ue=0;K=ee[he+Ue++],U.head&&K&&U.length<65536&&(U.head.name+=String.fromCharCode(K)),K&&Ue<Fe;);if(512&U.flags&&(U.check=m(U.check,ee,Ue,he)),Fe-=Ue,he+=Ue,K)break e}else U.head&&(U.head.name=null);U.length=0,U.mode=8;case 8:if(4096&U.flags){if(Fe===0)break e;for(Ue=0;K=ee[he+Ue++],U.head&&K&&U.length<65536&&(U.head.comment+=String.fromCharCode(K)),K&&Ue<Fe;);if(512&U.flags&&(U.check=m(U.check,ee,Ue,he)),Fe-=Ue,he+=Ue,K)break e}else U.head&&(U.head.comment=null);U.mode=9;case 9:if(512&U.flags){for(;H<16;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}if(se!==(65535&U.check)){F.msg="header crc mismatch",U.mode=30;break}H=se=0}U.head&&(U.head.hcrc=U.flags>>9&1,U.head.done=!0),F.adler=U.check=0,U.mode=12;break;case 10:for(;H<32;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}F.adler=U.check=N(se),H=se=0,U.mode=11;case 11:if(U.havedict===0)return F.next_out=Pe,F.avail_out=le,F.next_in=he,F.avail_in=Fe,U.hold=se,U.bits=H,2;F.adler=U.check=1,U.mode=12;case 12:if(Z===5||Z===6)break e;case 13:if(U.last){se>>>=7&H,H-=7&H,U.mode=27;break}for(;H<3;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}switch(U.last=1&se,H-=1,3&(se>>>=1)){case 0:U.mode=14;break;case 1:if(ae(U),U.mode=20,Z!==6)break;se>>>=2,H-=2;break e;case 2:U.mode=17;break;case 3:F.msg="invalid block type",U.mode=30}se>>>=2,H-=2;break;case 14:for(se>>>=7&H,H-=7&H;H<32;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}if((65535&se)!=(se>>>16^65535)){F.msg="invalid stored block lengths",U.mode=30;break}if(U.length=65535&se,H=se=0,U.mode=15,Z===6)break e;case 15:U.mode=16;case 16:if(Ue=U.length){if(Fe<Ue&&(Ue=Fe),le<Ue&&(Ue=le),Ue===0)break e;u.arraySet(fe,ee,he,Ue,Pe),Fe-=Ue,he+=Ue,le-=Ue,Pe+=Ue,U.length-=Ue;break}U.mode=12;break;case 17:for(;H<14;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}if(U.nlen=257+(31&se),se>>>=5,H-=5,U.ndist=1+(31&se),se>>>=5,H-=5,U.ncode=4+(15&se),se>>>=4,H-=4,286<U.nlen||30<U.ndist){F.msg="too many length or distance symbols",U.mode=30;break}U.have=0,U.mode=18;case 18:for(;U.have<U.ncode;){for(;H<3;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}U.lens[Me[U.have++]]=7&se,se>>>=3,H-=3}for(;U.have<19;)U.lens[Me[U.have++]]=0;if(U.lencode=U.lendyn,U.lenbits=7,He={bits:U.lenbits},ze=v(0,U.lens,0,19,U.lencode,0,U.work,He),U.lenbits=He.bits,ze){F.msg="invalid code lengths set",U.mode=30;break}U.have=0,U.mode=19;case 19:for(;U.have<U.nlen+U.ndist;){for(;dt=(pe=U.lencode[se&(1<<U.lenbits)-1])>>>16&255,At=65535&pe,!((ht=pe>>>24)<=H);){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}if(At<16)se>>>=ht,H-=ht,U.lens[U.have++]=At;else{if(At===16){for(be=ht+2;H<be;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}if(se>>>=ht,H-=ht,U.have===0){F.msg="invalid bit length repeat",U.mode=30;break}K=U.lens[U.have-1],Ue=3+(3&se),se>>>=2,H-=2}else if(At===17){for(be=ht+3;H<be;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}H-=ht,K=0,Ue=3+(7&(se>>>=ht)),se>>>=3,H-=3}else{for(be=ht+7;H<be;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}H-=ht,K=0,Ue=11+(127&(se>>>=ht)),se>>>=7,H-=7}if(U.have+Ue>U.nlen+U.ndist){F.msg="invalid bit length repeat",U.mode=30;break}for(;Ue--;)U.lens[U.have++]=K}}if(U.mode===30)break;if(U.lens[256]===0){F.msg="invalid code -- missing end-of-block",U.mode=30;break}if(U.lenbits=9,He={bits:U.lenbits},ze=v(_,U.lens,0,U.nlen,U.lencode,0,U.work,He),U.lenbits=He.bits,ze){F.msg="invalid literal/lengths set",U.mode=30;break}if(U.distbits=6,U.distcode=U.distdyn,He={bits:U.distbits},ze=v(x,U.lens,U.nlen,U.ndist,U.distcode,0,U.work,He),U.distbits=He.bits,ze){F.msg="invalid distances set",U.mode=30;break}if(U.mode=20,Z===6)break e;case 20:U.mode=21;case 21:if(6<=Fe&&258<=le){F.next_out=Pe,F.avail_out=le,F.next_in=he,F.avail_in=Fe,U.hold=se,U.bits=H,g(F,ge),Pe=F.next_out,fe=F.output,le=F.avail_out,he=F.next_in,ee=F.input,Fe=F.avail_in,se=U.hold,H=U.bits,U.mode===12&&(U.back=-1);break}for(U.back=0;dt=(pe=U.lencode[se&(1<<U.lenbits)-1])>>>16&255,At=65535&pe,!((ht=pe>>>24)<=H);){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}if(dt&&(240&dt)==0){for(_t=ht,Pt=dt,Ht=At;dt=(pe=U.lencode[Ht+((se&(1<<_t+Pt)-1)>>_t)])>>>16&255,At=65535&pe,!(_t+(ht=pe>>>24)<=H);){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}se>>>=_t,H-=_t,U.back+=_t}if(se>>>=ht,H-=ht,U.back+=ht,U.length=At,dt===0){U.mode=26;break}if(32&dt){U.back=-1,U.mode=12;break}if(64&dt){F.msg="invalid literal/length code",U.mode=30;break}U.extra=15&dt,U.mode=22;case 22:if(U.extra){for(be=U.extra;H<be;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}U.length+=se&(1<<U.extra)-1,se>>>=U.extra,H-=U.extra,U.back+=U.extra}U.was=U.length,U.mode=23;case 23:for(;dt=(pe=U.distcode[se&(1<<U.distbits)-1])>>>16&255,At=65535&pe,!((ht=pe>>>24)<=H);){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}if((240&dt)==0){for(_t=ht,Pt=dt,Ht=At;dt=(pe=U.distcode[Ht+((se&(1<<_t+Pt)-1)>>_t)])>>>16&255,At=65535&pe,!(_t+(ht=pe>>>24)<=H);){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}se>>>=_t,H-=_t,U.back+=_t}if(se>>>=ht,H-=ht,U.back+=ht,64&dt){F.msg="invalid distance code",U.mode=30;break}U.offset=At,U.extra=15&dt,U.mode=24;case 24:if(U.extra){for(be=U.extra;H<be;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}U.offset+=se&(1<<U.extra)-1,se>>>=U.extra,H-=U.extra,U.back+=U.extra}if(U.offset>U.dmax){F.msg="invalid distance too far back",U.mode=30;break}U.mode=25;case 25:if(le===0)break e;if(Ue=ge-le,U.offset>Ue){if((Ue=U.offset-Ue)>U.whave&&U.sane){F.msg="invalid distance too far back",U.mode=30;break}$e=Ue>U.wnext?(Ue-=U.wnext,U.wsize-Ue):U.wnext-Ue,Ue>U.length&&(Ue=U.length),gt=U.window}else gt=fe,$e=Pe-U.offset,Ue=U.length;for(le<Ue&&(Ue=le),le-=Ue,U.length-=Ue;fe[Pe++]=gt[$e++],--Ue;);U.length===0&&(U.mode=21);break;case 26:if(le===0)break e;fe[Pe++]=U.length,le--,U.mode=21;break;case 27:if(U.wrap){for(;H<32;){if(Fe===0)break e;Fe--,se|=ee[he++]<<H,H+=8}if(ge-=le,F.total_out+=ge,U.total+=ge,ge&&(F.adler=U.check=U.flags?m(U.check,fe,ge,Pe-ge):f(U.check,fe,ge,Pe-ge)),ge=le,(U.flags?se:N(se))!==U.check){F.msg="incorrect data check",U.mode=30;break}H=se=0}U.mode=28;case 28:if(U.wrap&&U.flags){for(;H<32;){if(Fe===0)break e;Fe--,se+=ee[he++]<<H,H+=8}if(se!==(4294967295&U.total)){F.msg="incorrect length check",U.mode=30;break}H=se=0}U.mode=29;case 29:ze=1;break e;case 30:ze=-3;break e;case 31:return-4;default:return C}return F.next_out=Pe,F.avail_out=le,F.next_in=he,F.avail_in=Fe,U.hold=se,U.bits=H,(U.wsize||ge!==F.avail_out&&U.mode<30&&(U.mode<27||Z!==4))&&$(F,F.output,F.next_out,ge-F.avail_out)?(U.mode=31,-4):(A-=F.avail_in,ge-=F.avail_out,F.total_in+=A,F.total_out+=ge,U.total+=ge,U.wrap&&ge&&(F.adler=U.check=U.flags?m(U.check,fe,ge,F.next_out-ge):f(U.check,fe,ge,F.next_out-ge)),F.data_type=U.bits+(U.last?64:0)+(U.mode===12?128:0)+(U.mode===20||U.mode===15?256:0),(A==0&&ge===0||Z===4)&&ze===T&&(ze=-5),ze)},o.inflateEnd=function(F){if(!F||!F.state)return C;var Z=F.state;return Z.window&&(Z.window=null),F.state=null,T},o.inflateGetHeader=function(F,Z){var U;return F&&F.state?(2&(U=F.state).wrap)==0?C:((U.head=Z).done=!1,T):C},o.inflateSetDictionary=function(F,Z){var U,ee=Z.length;return F&&F.state?(U=F.state).wrap!==0&&U.mode!==11?C:U.mode===11&&f(1,Z,ee,0)!==U.check?-3:$(F,Z,ee,ee)?(U.mode=31,-4):(U.havedict=1,T):C},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,o){var u=t("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],v=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(_,x,T,C,L,R,I,N){var P,W,re,te,ne,B,Q,q,ae,$=N.bits,F=0,Z=0,U=0,ee=0,fe=0,he=0,Pe=0,Fe=0,le=0,se=0,H=null,A=0,ge=new u.Buf16(16),Ue=new u.Buf16(16),$e=null,gt=0;for(F=0;F<=15;F++)ge[F]=0;for(Z=0;Z<C;Z++)ge[x[T+Z]]++;for(fe=$,ee=15;1<=ee&&ge[ee]===0;ee--);if(ee<fe&&(fe=ee),ee===0)return L[R++]=20971520,L[R++]=20971520,N.bits=1,0;for(U=1;U<ee&&ge[U]===0;U++);for(fe<U&&(fe=U),F=Fe=1;F<=15;F++)if(Fe<<=1,(Fe-=ge[F])<0)return-1;if(0<Fe&&(_===0||ee!==1))return-1;for(Ue[1]=0,F=1;F<15;F++)Ue[F+1]=Ue[F]+ge[F];for(Z=0;Z<C;Z++)x[T+Z]!==0&&(I[Ue[x[T+Z]]++]=Z);if(B=_===0?(H=$e=I,19):_===1?(H=f,A-=257,$e=m,gt-=257,256):(H=g,$e=v,-1),F=U,ne=R,Pe=Z=se=0,re=-1,te=(le=1<<(he=fe))-1,_===1&&852<le||_===2&&592<le)return 1;for(;;){for(Q=F-Pe,ae=I[Z]<B?(q=0,I[Z]):I[Z]>B?(q=$e[gt+I[Z]],H[A+I[Z]]):(q=96,0),P=1<<F-Pe,U=W=1<<he;L[ne+(se>>Pe)+(W-=P)]=Q<<24|q<<16|ae|0,W!==0;);for(P=1<<F-1;se&P;)P>>=1;if(P!==0?(se&=P-1,se+=P):se=0,Z++,--ge[F]==0){if(F===ee)break;F=x[T+I[Z]]}if(fe<F&&(se&te)!==re){for(Pe===0&&(Pe=fe),ne+=U,Fe=1<<(he=F-Pe);he+Pe<ee&&!((Fe-=ge[he+Pe])<=0);)he++,Fe<<=1;if(le+=1<<he,_===1&&852<le||_===2&&592<le)return 1;L[re=se&te]=fe<<24|he<<16|ne-R|0}}return se!==0&&(L[ne+se]=F-Pe<<24|64<<16|0),N.bits=fe,0}},{"../utils/common":41}],51:[function(t,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,o){var u=t("../utils/common"),f=0,m=1;function g(pe){for(var ke=pe.length;0<=--ke;)pe[ke]=0}var v=0,_=29,x=256,T=x+1+_,C=30,L=19,R=2*T+1,I=15,N=16,P=7,W=256,re=16,te=17,ne=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(T+2));g($);var F=new Array(2*C);g(F);var Z=new Array(512);g(Z);var U=new Array(256);g(U);var ee=new Array(_);g(ee);var fe,he,Pe,Fe=new Array(C);function le(pe,ke,Me,Xe,Ve){this.static_tree=pe,this.extra_bits=ke,this.extra_base=Me,this.elems=Xe,this.max_length=Ve,this.has_stree=pe&&pe.length}function se(pe,ke){this.dyn_tree=pe,this.max_code=0,this.stat_desc=ke}function H(pe){return pe<256?Z[pe]:Z[256+(pe>>>7)]}function A(pe,ke){pe.pending_buf[pe.pending++]=255&ke,pe.pending_buf[pe.pending++]=ke>>>8&255}function ge(pe,ke,Me){pe.bi_valid>N-Me?(pe.bi_buf|=ke<<pe.bi_valid&65535,A(pe,pe.bi_buf),pe.bi_buf=ke>>N-pe.bi_valid,pe.bi_valid+=Me-N):(pe.bi_buf|=ke<<pe.bi_valid&65535,pe.bi_valid+=Me)}function Ue(pe,ke,Me){ge(pe,Me[2*ke],Me[2*ke+1])}function $e(pe,ke){for(var Me=0;Me|=1&pe,pe>>>=1,Me<<=1,0<--ke;);return Me>>>1}function gt(pe,ke,Me){var Xe,Ve,lt=new Array(I+1),Ee=0;for(Xe=1;Xe<=I;Xe++)lt[Xe]=Ee=Ee+Me[Xe-1]<<1;for(Ve=0;Ve<=ke;Ve++){var we=pe[2*Ve+1];we!==0&&(pe[2*Ve]=$e(lt[we]++,we))}}function ht(pe){var ke;for(ke=0;ke<T;ke++)pe.dyn_ltree[2*ke]=0;for(ke=0;ke<C;ke++)pe.dyn_dtree[2*ke]=0;for(ke=0;ke<L;ke++)pe.bl_tree[2*ke]=0;pe.dyn_ltree[2*W]=1,pe.opt_len=pe.static_len=0,pe.last_lit=pe.matches=0}function dt(pe){8<pe.bi_valid?A(pe,pe.bi_buf):0<pe.bi_valid&&(pe.pending_buf[pe.pending++]=pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0}function At(pe,ke,Me,Xe){var Ve=2*ke,lt=2*Me;return pe[Ve]<pe[lt]||pe[Ve]===pe[lt]&&Xe[ke]<=Xe[Me]}function _t(pe,ke,Me){for(var Xe=pe.heap[Me],Ve=Me<<1;Ve<=pe.heap_len&&(Ve<pe.heap_len&&At(ke,pe.heap[Ve+1],pe.heap[Ve],pe.depth)&&Ve++,!At(ke,Xe,pe.heap[Ve],pe.depth));)pe.heap[Me]=pe.heap[Ve],Me=Ve,Ve<<=1;pe.heap[Me]=Xe}function Pt(pe,ke,Me){var Xe,Ve,lt,Ee,we=0;if(pe.last_lit!==0)for(;Xe=pe.pending_buf[pe.d_buf+2*we]<<8|pe.pending_buf[pe.d_buf+2*we+1],Ve=pe.pending_buf[pe.l_buf+we],we++,Xe===0?Ue(pe,Ve,ke):(Ue(pe,(lt=U[Ve])+x+1,ke),(Ee=B[lt])!==0&&ge(pe,Ve-=ee[lt],Ee),Ue(pe,lt=H(--Xe),Me),(Ee=Q[lt])!==0&&ge(pe,Xe-=Fe[lt],Ee)),we<pe.last_lit;);Ue(pe,W,ke)}function Ht(pe,ke){var Me,Xe,Ve,lt=ke.dyn_tree,Ee=ke.stat_desc.static_tree,we=ke.stat_desc.has_stree,ie=ke.stat_desc.elems,j=-1;for(pe.heap_len=0,pe.heap_max=R,Me=0;Me<ie;Me++)lt[2*Me]!==0?(pe.heap[++pe.heap_len]=j=Me,pe.depth[Me]=0):lt[2*Me+1]=0;for(;pe.heap_len<2;)lt[2*(Ve=pe.heap[++pe.heap_len]=j<2?++j:0)]=1,pe.depth[Ve]=0,pe.opt_len--,we&&(pe.static_len-=Ee[2*Ve+1]);for(ke.max_code=j,Me=pe.heap_len>>1;1<=Me;Me--)_t(pe,lt,Me);for(Ve=ie;Me=pe.heap[1],pe.heap[1]=pe.heap[pe.heap_len--],_t(pe,lt,1),Xe=pe.heap[1],pe.heap[--pe.heap_max]=Me,pe.heap[--pe.heap_max]=Xe,lt[2*Ve]=lt[2*Me]+lt[2*Xe],pe.depth[Ve]=(pe.depth[Me]>=pe.depth[Xe]?pe.depth[Me]:pe.depth[Xe])+1,lt[2*Me+1]=lt[2*Xe+1]=Ve,pe.heap[1]=Ve++,_t(pe,lt,1),2<=pe.heap_len;);pe.heap[--pe.heap_max]=pe.heap[1],(function(G,ve){var D,Y,ce,me,Se,Ie,xe=ve.dyn_tree,Te=ve.max_code,Oe=ve.stat_desc.static_tree,De=ve.stat_desc.has_stree,ut=ve.stat_desc.extra_bits,vt=ve.stat_desc.extra_base,ft=ve.stat_desc.max_length,at=0;for(me=0;me<=I;me++)G.bl_count[me]=0;for(xe[2*G.heap[G.heap_max]+1]=0,D=G.heap_max+1;D<R;D++)ft<(me=xe[2*xe[2*(Y=G.heap[D])+1]+1]+1)&&(me=ft,at++),xe[2*Y+1]=me,Te<Y||(G.bl_count[me]++,Se=0,vt<=Y&&(Se=ut[Y-vt]),Ie=xe[2*Y],G.opt_len+=Ie*(me+Se),De&&(G.static_len+=Ie*(Oe[2*Y+1]+Se)));if(at!==0){do{for(me=ft-1;G.bl_count[me]===0;)me--;G.bl_count[me]--,G.bl_count[me+1]+=2,G.bl_count[ft]--,at-=2}while(0<at);for(me=ft;me!==0;me--)for(Y=G.bl_count[me];Y!==0;)Te<(ce=G.heap[--D])||(xe[2*ce+1]!==me&&(G.opt_len+=(me-xe[2*ce+1])*xe[2*ce],xe[2*ce+1]=me),Y--)}})(pe,ke),gt(lt,j,pe.bl_count)}function K(pe,ke,Me){var Xe,Ve,lt=-1,Ee=ke[1],we=0,ie=7,j=4;for(Ee===0&&(ie=138,j=3),ke[2*(Me+1)+1]=65535,Xe=0;Xe<=Me;Xe++)Ve=Ee,Ee=ke[2*(Xe+1)+1],++we<ie&&Ve===Ee||(we<j?pe.bl_tree[2*Ve]+=we:Ve!==0?(Ve!==lt&&pe.bl_tree[2*Ve]++,pe.bl_tree[2*re]++):we<=10?pe.bl_tree[2*te]++:pe.bl_tree[2*ne]++,lt=Ve,j=(we=0)===Ee?(ie=138,3):Ve===Ee?(ie=6,3):(ie=7,4))}function ze(pe,ke,Me){var Xe,Ve,lt=-1,Ee=ke[1],we=0,ie=7,j=4;for(Ee===0&&(ie=138,j=3),Xe=0;Xe<=Me;Xe++)if(Ve=Ee,Ee=ke[2*(Xe+1)+1],!(++we<ie&&Ve===Ee)){if(we<j)for(;Ue(pe,Ve,pe.bl_tree),--we!=0;);else Ve!==0?(Ve!==lt&&(Ue(pe,Ve,pe.bl_tree),we--),Ue(pe,re,pe.bl_tree),ge(pe,we-3,2)):we<=10?(Ue(pe,te,pe.bl_tree),ge(pe,we-3,3)):(Ue(pe,ne,pe.bl_tree),ge(pe,we-11,7));lt=Ve,j=(we=0)===Ee?(ie=138,3):Ve===Ee?(ie=6,3):(ie=7,4)}}g(Fe);var He=!1;function be(pe,ke,Me,Xe){ge(pe,(v<<1)+(Xe?1:0),3),(function(Ve,lt,Ee,we){dt(Ve),A(Ve,Ee),A(Ve,~Ee),u.arraySet(Ve.pending_buf,Ve.window,lt,Ee,Ve.pending),Ve.pending+=Ee})(pe,ke,Me)}o._tr_init=function(pe){He||((function(){var ke,Me,Xe,Ve,lt,Ee=new Array(I+1);for(Ve=Xe=0;Ve<_-1;Ve++)for(ee[Ve]=Xe,ke=0;ke<1<<B[Ve];ke++)U[Xe++]=Ve;for(U[Xe-1]=Ve,Ve=lt=0;Ve<16;Ve++)for(Fe[Ve]=lt,ke=0;ke<1<<Q[Ve];ke++)Z[lt++]=Ve;for(lt>>=7;Ve<C;Ve++)for(Fe[Ve]=lt<<7,ke=0;ke<1<<Q[Ve]-7;ke++)Z[256+lt++]=Ve;for(Me=0;Me<=I;Me++)Ee[Me]=0;for(ke=0;ke<=143;)$[2*ke+1]=8,ke++,Ee[8]++;for(;ke<=255;)$[2*ke+1]=9,ke++,Ee[9]++;for(;ke<=279;)$[2*ke+1]=7,ke++,Ee[7]++;for(;ke<=287;)$[2*ke+1]=8,ke++,Ee[8]++;for(gt($,T+1,Ee),ke=0;ke<C;ke++)F[2*ke+1]=5,F[2*ke]=$e(ke,5);fe=new le($,B,x+1,T,I),he=new le(F,Q,0,C,I),Pe=new le(new Array(0),q,0,L,P)})(),He=!0),pe.l_desc=new se(pe.dyn_ltree,fe),pe.d_desc=new se(pe.dyn_dtree,he),pe.bl_desc=new se(pe.bl_tree,Pe),pe.bi_buf=0,pe.bi_valid=0,ht(pe)},o._tr_stored_block=be,o._tr_flush_block=function(pe,ke,Me,Xe){var Ve,lt,Ee=0;0<pe.level?(pe.strm.data_type===2&&(pe.strm.data_type=(function(we){var ie,j=4093624447;for(ie=0;ie<=31;ie++,j>>>=1)if(1&j&&we.dyn_ltree[2*ie]!==0)return f;if(we.dyn_ltree[18]!==0||we.dyn_ltree[20]!==0||we.dyn_ltree[26]!==0)return m;for(ie=32;ie<x;ie++)if(we.dyn_ltree[2*ie]!==0)return m;return f})(pe)),Ht(pe,pe.l_desc),Ht(pe,pe.d_desc),Ee=(function(we){var ie;for(K(we,we.dyn_ltree,we.l_desc.max_code),K(we,we.dyn_dtree,we.d_desc.max_code),Ht(we,we.bl_desc),ie=L-1;3<=ie&&we.bl_tree[2*ae[ie]+1]===0;ie--);return we.opt_len+=3*(ie+1)+5+5+4,ie})(pe),Ve=pe.opt_len+3+7>>>3,(lt=pe.static_len+3+7>>>3)<=Ve&&(Ve=lt)):Ve=lt=Me+5,Me+4<=Ve&&ke!==-1?be(pe,ke,Me,Xe):pe.strategy===4||lt===Ve?(ge(pe,2+(Xe?1:0),3),Pt(pe,$,F)):(ge(pe,4+(Xe?1:0),3),(function(we,ie,j,G){var ve;for(ge(we,ie-257,5),ge(we,j-1,5),ge(we,G-4,4),ve=0;ve<G;ve++)ge(we,we.bl_tree[2*ae[ve]+1],3);ze(we,we.dyn_ltree,ie-1),ze(we,we.dyn_dtree,j-1)})(pe,pe.l_desc.max_code+1,pe.d_desc.max_code+1,Ee+1),Pt(pe,pe.dyn_ltree,pe.dyn_dtree)),ht(pe),Xe&&dt(pe)},o._tr_tally=function(pe,ke,Me){return pe.pending_buf[pe.d_buf+2*pe.last_lit]=ke>>>8&255,pe.pending_buf[pe.d_buf+2*pe.last_lit+1]=255&ke,pe.pending_buf[pe.l_buf+pe.last_lit]=255&Me,pe.last_lit++,ke===0?pe.dyn_ltree[2*Me]++:(pe.matches++,ke--,pe.dyn_ltree[2*(U[Me]+x+1)]++,pe.dyn_dtree[2*H(ke)]++),pe.last_lit===pe.lit_bufsize-1},o._tr_align=function(pe){ge(pe,2,3),Ue(pe,W,$),(function(ke){ke.bi_valid===16?(A(ke,ke.bi_buf),ke.bi_buf=0,ke.bi_valid=0):8<=ke.bi_valid&&(ke.pending_buf[ke.pending++]=255&ke.bi_buf,ke.bi_buf>>=8,ke.bi_valid-=8)})(pe)}},{"../utils/common":41}],53:[function(t,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,o){(function(u){(function(f,m){if(!f.setImmediate){var g,v,_,x,T=1,C={},L=!1,R=f.document,I=Object.getPrototypeOf&&Object.getPrototypeOf(f);I=I&&I.setTimeout?I:f,g={}.toString.call(f.process)==="[object process]"?function(re){process.nextTick(function(){P(re)})}:(function(){if(f.postMessage&&!f.importScripts){var re=!0,te=f.onmessage;return f.onmessage=function(){re=!1},f.postMessage("","*"),f.onmessage=te,re}})()?(x="setImmediate$"+Math.random()+"$",f.addEventListener?f.addEventListener("message",W,!1):f.attachEvent("onmessage",W),function(re){f.postMessage(x+re,"*")}):f.MessageChannel?((_=new MessageChannel).port1.onmessage=function(re){P(re.data)},function(re){_.port2.postMessage(re)}):R&&"onreadystatechange"in R.createElement("script")?(v=R.documentElement,function(re){var te=R.createElement("script");te.onreadystatechange=function(){P(re),te.onreadystatechange=null,v.removeChild(te),te=null},v.appendChild(te)}):function(re){setTimeout(P,0,re)},I.setImmediate=function(re){typeof re!="function"&&(re=new Function(""+re));for(var te=new Array(arguments.length-1),ne=0;ne<te.length;ne++)te[ne]=arguments[ne+1];var B={callback:re,args:te};return C[T]=B,g(T),T++},I.clearImmediate=N}function N(re){delete C[re]}function P(re){if(L)setTimeout(P,0,re);else{var te=C[re];if(te){L=!0;try{(function(ne){var B=ne.callback,Q=ne.args;switch(Q.length){case 0:B();break;case 1:B(Q[0]);break;case 2:B(Q[0],Q[1]);break;case 3:B(Q[0],Q[1],Q[2]);break;default:B.apply(m,Q)}})(te)}finally{N(re),L=!1}}}}function W(re){re.source===f&&typeof re.data=="string"&&re.data.indexOf(x)===0&&P(+re.data.slice(x.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof Cu<"u"?Cu:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jv)),jv.exports}var SP=EP();const TP=Bc(SP);function CP(){const{currentUser:n}=vl(),{isBackupOpen:e,closeBackup:t,backupMessage:r,openBackup:o}=$C(),[u,f]=Ae.useState(!1),[m,g]=Ae.useState(null),[v,_]=Ae.useState("all"),[x,T]=Ae.useState(Ta(new Date,"yyyy-MM-dd")),[C,L]=Ae.useState(Ta(new Date,"yyyy-01-01")),[R,I]=Ae.useState(Ta(new Date,"yyyy-12-31")),[N,P]=Ae.useState("separate"),[W,re]=Ae.useState("md"),te=()=>g(null),ne=async()=>{if(n){f(!0),te();try{let $;const F=bp(os,"users",n.uid,"entries");v==="all"?$=rp(F):v==="single"?$=rp(F,ip(np(),"==",x)):v==="range"&&($=rp(F,ip(np(),">=",C),ip(np(),"<=",R)));const Z=await j1($);if(Z.empty){g({type:"error",message:"No entries found for the selected range."}),f(!1);return}const U=[];Z.forEach(Pe=>{U.push({id:Pe.id,...Pe.data()})});const ee=new TP,fe=ee.folder(`journal-backup-${Ta(new Date,"yyyy-MM-dd-HHmm")}`);if(N==="separate")U.forEach(Pe=>{const Fe=Q(Pe,W),le=`${Pe.id}.${W}`;fe.file(le,Fe)});else if(N==="month"){const Pe=ae(U,Fe=>Fe.id.substring(0,7));Object.entries(Pe).forEach(([Fe,le])=>{const se=q(le,W,`Month: ${Fe}`);fe.file(`${Fe}.${W}`,se)})}else if(N==="year"){const Pe=ae(U,Fe=>Fe.id.substring(0,4));Object.entries(Pe).forEach(([Fe,le])=>{const se=q(le,W,`Year: ${Fe}`);fe.file(`${Fe}.${W}`,se)})}const he=await ee.generateAsync({type:"blob"});xP.saveAs(he,`journal-backup-${Ta(new Date,"yyyy-MM-dd")}.zip`),g({type:"success",message:`Successfully backed up ${U.length} entries!`}),setTimeout(()=>{g(null)},5e3)}catch($){console.error("Backup failed:",$),g({type:"error",message:`Backup failed: ${$.message}`})}finally{f(!1)}}},B=$=>{if(!$)return"";const F=$.match(/:\s*(.+?)(?:\+\+|\*\*|$)/);if(F&&F[1])return F[1].replace(/[\*\+]+/g,"").trim();const Z=$.match(/\+\+[^-]+-\s*(.+?)\+\+/);return Z&&Z[1]?Z[1].replace(/[\*\+]+/g,"").trim():$.replace(/[\*\+#]+/g,"").trim()},Q=($,F)=>{const Z=B($.title)||$.id,U=$.content||"",ee=$.id;return F==="json"?JSON.stringify({...$,title:B($.title)},null,2):F==="md"?`---
date: ${ee}
title: ${Z}
---

${U}`:`Date: ${ee}
Title: ${Z}

${U}`},q=($,F,Z)=>F==="json"?JSON.stringify($,null,2):$.map(U=>Q(U,F)).join(`

`+"=".repeat(20)+`

`),ae=($,F)=>$.reduce((Z,U)=>{const ee=F(U);return(Z[ee]=Z[ee]||[]).push(U),Z},{});return ye.jsxs(ye.Fragment,{children:[ye.jsx("button",{onClick:()=>o(),className:"p-2 rounded-lg hover:bg-white/5 text-text-muted hover:text-primary transition-all duration-200",title:"Backup Options",children:ye.jsx(kx,{className:"h-5 w-5"})}),e&&VD.createPortal(ye.jsx("div",{className:"fixed inset-0 z-[100] flex flex-col items-center overflow-y-auto p-4 bg-black/80 backdrop-blur-md animation-fade-in",children:ye.jsxs("div",{className:"glass-card w-full max-w-lg p-6 relative overflow-hidden flex flex-col max-h-[85vh] my-auto bg-[#1a1b1e]/95 shadow-2xl",children:[ye.jsxs("div",{className:"flex justify-between items-center mb-4",children:[ye.jsxs("h2",{className:"text-xl font-serif font-bold text-white flex items-center gap-2",children:[ye.jsx(y4,{className:"w-5 h-5 text-primary"}),"Export & Backup"]}),ye.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-white/10 text-text-muted hover:text-white transition-colors",children:ye.jsx(Ey,{className:"w-5 h-5"})})]}),r&&ye.jsxs("div",{className:"mb-6 p-4 bg-primary/20 border border-primary/30 rounded-lg flex items-start gap-4 animate-bounce-in",children:[ye.jsx("div",{className:"p-2 bg-primary/20 rounded-full shrink-0",children:ye.jsx(Vg,{className:"w-6 h-6 text-primary"})}),ye.jsxs("div",{children:[ye.jsx("h3",{className:"font-bold text-white mb-1",children:"Weekly Check-in"}),ye.jsx("p",{className:"text-sm text-gray-200",children:r})]})]}),ye.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mb-6 text-sm text-text-muted",children:[ye.jsxs("h3",{className:"font-bold text-white mb-2 flex items-center gap-2",children:[ye.jsx(Dx,{className:"w-4 h-4"})," How to Backup"]}),ye.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-1 opacity-90",children:[ye.jsxs("li",{children:["Select ",ye.jsx("strong",{children:"All Time"})," to backup everything."]}),ye.jsxs("li",{children:["Choose ",ye.jsx("strong",{children:"Separate Files"})," to keep days distinct."]}),ye.jsxs("li",{children:["Click ",ye.jsx("strong",{children:"Download Backup"})," to save a ZIP file."]})]})]}),ye.jsxs("div",{className:"space-y-6 overflow-y-auto custom-scrollbar pr-2 flex-1",children:[ye.jsxs("div",{className:"space-y-3",children:[ye.jsxs("label",{className:"text-sm font-medium text-text-muted flex items-center gap-2",children:[ye.jsx(xy,{className:"w-4 h-4"})," Date Selection"]}),ye.jsx("div",{className:"grid grid-cols-3 gap-2",children:["all","single","range"].map($=>ye.jsx("button",{onClick:()=>_($),className:`px-3 py-2 rounded-lg text-sm transition-all border ${v===$?"bg-primary/20 border-primary text-white":"bg-white/5 border-transparent text-text-muted hover:bg-white/10"}`,children:$.charAt(0).toUpperCase()+$.slice(1)},$))}),v==="single"&&ye.jsxs("div",{className:"space-y-1",children:[ye.jsx("label",{className:"text-xs text-text-muted ml-1",children:"Select Date"}),ye.jsx("input",{type:"date",value:x,onChange:$=>T($.target.value),className:"w-full bg-black/60 border border-white/10 rounded-lg px-4 py-2 text-white focus:border-primary outline-none"})]}),v==="range"&&ye.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[ye.jsxs("div",{className:"space-y-1",children:[ye.jsx("label",{className:"text-xs text-text-muted ml-1",children:"From"}),ye.jsx("input",{type:"date",value:C,onChange:$=>L($.target.value),className:"w-full bg-black/60 border border-white/10 rounded-lg px-4 py-2 text-white focus:border-primary outline-none"})]}),ye.jsxs("div",{className:"space-y-1",children:[ye.jsx("label",{className:"text-xs text-text-muted ml-1",children:"To"}),ye.jsx("input",{type:"date",value:R,onChange:$=>I($.target.value),className:"w-full bg-black/60 border border-white/10 rounded-lg px-4 py-2 text-white focus:border-primary outline-none"})]})]})]}),ye.jsxs("div",{className:"space-y-3",children:[ye.jsxs("label",{className:"text-sm font-medium text-text-muted flex items-center gap-2",children:[ye.jsx(P4,{className:"w-4 h-4"})," Grouping"]}),ye.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"separate",label:"Separate"},{id:"month",label:"By Month"},{id:"year",label:"By Year"}].map($=>ye.jsx("button",{onClick:()=>P($.id),className:`px-3 py-2 rounded-lg text-sm transition-all border ${N===$.id?"bg-primary/20 border-primary text-white":"bg-white/5 border-transparent text-text-muted hover:bg-white/10"}`,children:$.label},$.id))})]}),ye.jsxs("div",{className:"space-y-3",children:[ye.jsxs("label",{className:"text-sm font-medium text-text-muted flex items-center gap-2",children:[ye.jsx(Dx,{className:"w-4 h-4"})," Format"]}),ye.jsx("div",{className:"grid grid-cols-3 gap-2",children:["md","json","txt"].map($=>ye.jsxs("button",{onClick:()=>re($),className:`px-3 py-2 rounded-lg text-sm uppercase transition-all border ${W===$?"bg-primary/20 border-primary text-white":"bg-white/5 border-transparent text-text-muted hover:bg-white/10"}`,children:[".",$]},$))})]}),m&&ye.jsxs("div",{className:`p-4 rounded-lg flex items-start gap-3 text-sm ${m.type==="error"?"bg-red-500/10 text-red-200":"bg-green-500/10 text-green-200"}`,children:[m.type==="error"?ye.jsx(Vg,{className:"w-5 h-5 shrink-0"}):ye.jsx(eb,{className:"w-5 h-5 shrink-0"}),ye.jsx("p",{children:m.message})]})]}),ye.jsx("div",{className:"mt-6 pt-6 border-t border-white/10",children:ye.jsx("button",{onClick:ne,disabled:u,className:"w-full py-3 rounded-lg bg-primary hover:bg-primary-dark text-white font-medium shadow-lg shadow-primary/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all",children:u?ye.jsxs(ye.Fragment,{children:[ye.jsx(YC,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):ye.jsxs(ye.Fragment,{children:[ye.jsx(kx,{className:"w-5 h-5"}),"Download Backup"]})})})]})}),document.body)]})}const AP=500;function kP({isOpen:n,onClose:e}){const{currentUser:t}=vl(),r=Uc(),[o,u]=Ae.useState(""),[f,m]=Ae.useState("any"),[g,v]=Ae.useState([]),[_,x]=Ae.useState([]),[T,C]=Ae.useState("All"),L=Ae.useMemo(()=>{const F=new Set(g.map(Z=>Z.date?new Date(Z.date).getFullYear():null).filter(Boolean));return["All",...Array.from(F).sort((Z,U)=>U-Z)]},[g]),[R,I]=Ae.useState(!1),[N,P]=Ae.useState(0),[W,re]=Ae.useState(0),[te,ne]=Ae.useState(null),[B,Q]=Ae.useState(!1),q=Ae.useRef(null),ae=Ae.useRef(null);async function $(){if(t){I(!0),P(0),ne("Calculating...");try{const F=bp(os,"users",t.uid,"entries");console.log("Fetching count for:",t.uid);const U=(await fC(F)).data().count;console.log("Total entries to index:",U),re(U),U>1e3&&Q(!0);let ee=0,fe=null,he=Date.now(),Pe=[];for(;ee<U;){let Fe=[$O("date","desc"),XO(AP)];fe&&Fe.push(ZO(fe));const le=rp(F,...Fe),se=await j1(le);if(se.empty)break;const H=se.docs.map(ht=>({id:ht.id,...ht.data(),searchableContent:(ht.data().content||"").toLowerCase(),searchableTitle:(ht.data().title||"").toLowerCase()}));Pe=[...Pe,...H],ee+=H.length,fe=se.docs[se.docs.length-1];const A=Math.round(ee/U*100);P(A);const Ue=(Date.now()-he)/ee,$e=U-ee,gt=$e*Ue;$e>0?ne(`${Math.ceil(gt/1e3)}s remaining`):ne("Finalizing..."),await new Promise(ht=>setTimeout(ht,0))}v(Pe),I(!1),ne(null)}catch(F){console.error("Error indexing entries:",F),I(!1),ne("Error")}}}return Ae.useEffect(()=>{n&&(setTimeout(()=>q.current?.focus(),100),g.length===0&&!R&&$())},[n]),Ae.useEffect(()=>{const F=Z=>{Z.key==="Escape"&&e()};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[e]),Ae.useEffect(()=>{if(console.log("Search effect running. Query:",o,"Mode:",f,"Year:",T,"Entries:",g.length),!o.trim()){x([]);return}const F=o.toLowerCase(),Z=g.filter(U=>{if(T!=="All"&&(U.date?new Date(U.date).getFullYear():null)!==parseInt(T))return!1;let ee=!1;return f==="phrase"?ee=U.searchableContent.includes(F)||U.searchableTitle.includes(F):ee=F.split(/\s+/).filter(he=>he.length>0).some(he=>U.searchableContent.includes(he)||U.searchableTitle.includes(he)),ee});console.log("Filtered results count:",Z.length),x(Z)},[o,f,T,g]),n?ye.jsxs("div",{className:"fixed inset-0 z-[60] flex items-start justify-center pt-20 px-4",children:[ye.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animation-fade-in",onClick:e}),ye.jsxs("div",{ref:ae,className:"relative bg-[#18181b] w-full max-w-2xl rounded-xl shadow-2xl border border-white/10 flex flex-col max-h-[80vh] animation-scale-in overflow-hidden",children:[ye.jsxs("div",{className:"p-4 border-b border-white/10 bg-white/5 space-y-4",children:[ye.jsxs("div",{className:"flex items-center justify-between",children:[ye.jsxs("h2",{className:"text-lg font-bold text-white flex items-center",children:[ye.jsx(gg,{className:"w-5 h-5 mr-2 text-primary"}),"Search Journal"]}),ye.jsx("button",{onClick:e,className:"text-text-muted hover:text-white transition-colors",children:ye.jsx(Ey,{className:"w-6 h-6"})})]}),ye.jsxs("div",{className:"relative",children:[ye.jsx(gg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),ye.jsx("input",{ref:q,type:"text",value:o,onChange:F=>u(F.target.value),placeholder:"Search your memories...",className:"w-full bg-black/40 border border-white/10 rounded-lg py-3 pl-10 pr-4 text-white focus:outline-none focus:border-primary/50 focus:ring-1 focus:ring-primary/50 transition-all"})]}),ye.jsxs("div",{className:"flex items-center justify-between",children:[ye.jsxs("div",{className:"flex items-center space-x-4",children:[ye.jsxs("label",{className:"flex items-center space-x-2 text-sm text-text-muted cursor-pointer hover:text-white transition-colors group select-none",children:[ye.jsxs("div",{className:"relative",children:[ye.jsx("input",{type:"checkbox",checked:f==="phrase",onChange:F=>m(F.target.checked?"phrase":"any"),className:"sr-only peer"}),ye.jsx("div",{className:"w-9 h-5 bg-white/10 border border-white/10 rounded-full peer-checked:bg-secondary/30 peer-checked:border-secondary/50 transition-all duration-300"}),ye.jsx("div",{className:"absolute left-0.5 top-0.5 w-4 h-4 bg-text-muted rounded-full transition-all duration-300 peer-checked:translate-x-4 peer-checked:bg-secondary"})]}),ye.jsx("span",{className:`${f==="phrase"?"text-secondary font-bold":""}`,children:"Exact Phrase"})]}),ye.jsx("select",{value:T,onChange:F=>C(F.target.value),className:"bg-black/40 border border-white/10 rounded-lg text-sm text-text-muted py-1 px-2 focus:outline-none focus:border-primary/50",children:L.map(F=>ye.jsx("option",{value:F,children:F},F))})]}),ye.jsxs("div",{className:"text-xs text-text-muted",children:[_.length," results found"]})]})]}),R&&ye.jsxs("div",{className:"px-4 py-3 bg-primary/10 border-b border-primary/20",children:[ye.jsxs("div",{className:"flex items-center justify-between text-xs text-primary mb-1 font-mono",children:[ye.jsxs("span",{children:["Indexing entries... ",N,"%"]}),ye.jsx("span",{children:te})]}),ye.jsx("div",{className:"w-full bg-black/40 rounded-full h-1.5 overflow-hidden",children:ye.jsx("div",{className:"bg-primary h-full transition-all duration-300",style:{width:`${N}%`}})}),B&&ye.jsxs("div",{className:"flex items-center mt-2 text-xs text-orange-400",children:[ye.jsx(Y4,{className:"w-3 h-3 mr-1"}),"Large journal (",W," items). This might take a moment."]})]}),ye.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2",children:[_.length===0&&o&&!R?ye.jsx("div",{className:"text-center py-10 text-text-muted",children:ye.jsxs("p",{children:['No matches found for "',o,'"']})}):ye.jsx("div",{className:"space-y-1",children:_.map(F=>ye.jsxs("button",{onClick:()=>{r(`/entry/${F.id}`),e()},className:"w-full text-left p-2 rounded-lg hover:bg-white/5 transition-colors group border border-transparent hover:border-white/5",children:[ye.jsxs("div",{className:"flex justify-between items-center gap-2",children:[ye.jsx("h3",{className:"font-medium text-white group-hover:text-primary transition-colors truncate",children:RP(F.title)}),ye.jsxs("span",{className:"text-xs text-text-muted flex items-center shrink-0",children:[ye.jsx(xy,{className:"w-3 h-3 mr-1"}),Ta(Zf(F.id),"MMM d, yyyy")]})]}),ye.jsx("p",{className:"text-xs text-text-muted mt-1 line-clamp-1",children:ye.jsx(DP,{content:F.content,query:o,mode:f})})]},F.id))}),!o&&!R&&ye.jsxs("div",{className:"text-center py-20 text-text-muted opacity-50 select-none",children:[ye.jsx(gg,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),ye.jsx("p",{children:"Type above to search your journal."})]})]})]})]}):null}function DP({content:n,query:e,mode:t}){if(!n)return null;const r=n.replace(/[#*`_~>]/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/\s+/g," ").trim(),o=r.toLowerCase(),u=e.toLowerCase();let f=-1,m=0;if(t==="phrase")f=o.indexOf(u),m=u.length;else{const C=u.split(/\s+/).filter(L=>L.length>0);for(const L of C){const R=o.indexOf(L);if(R!==-1){f=R,m=L.length;break}}}if(f===-1&&e)return ye.jsxs("span",{className:"text-text-muted",children:[r.slice(0,50),"..."]});if(!e)return ye.jsxs("span",{className:"text-text-muted",children:[r.slice(0,50),"..."]});const g=Math.max(0,f-25),v=Math.min(r.length,f+m+30);let _=r.slice(g,v);g>0&&(_="..."+_),v<r.length&&(_=_+"...");let x;try{if(t==="phrase")x=new RegExp(`(${Ux(u)})`,"gi");else{const C=u.split(/\s+/).filter(L=>L.length>0);C.length>0&&(x=new RegExp(`(${C.map(Ux).join("|")})`,"gi"))}}catch{return ye.jsx("span",{children:_})}if(!x)return ye.jsx("span",{children:_});const T=_.split(x);return ye.jsx("span",{children:T.map((C,L)=>{const R=C.toLowerCase();let I=!1;return t==="phrase"?I=R===u:I=u.split(/\s+/).filter(P=>P.length>0).some(P=>R===P),I?ye.jsx("span",{className:"bg-yellow-500/40 text-yellow-200 font-bold px-0.5 rounded",children:C},L):ye.jsx("span",{children:C},L)})})}function Ux(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function RP(n){if(!n)return"Untitled";const e=n.match(/:\s*(.+?)(?:\+\+|\*\*|$)/);if(e&&e[1]){const o=e[1].replace(/[\*\+]+/g,"").trim();if(o)return o.length>60?o.slice(0,60)+"...":o}const t=n.match(/\+\+[^-]+-\s*(.+?)\+\+/);if(t&&t[1]){const o=t[1].replace(/[\*\+]+/g,"").trim();if(o)return o.length>60?o.slice(0,60)+"...":o}const r=n.replace(/[\*\+#]+/g,"").trim();return r?r.length>60?r.slice(0,60)+"...":r:"Untitled"}function IP(){const{currentUser:n,logout:e}=vl(),t=Uc(),[r,o]=Ae.useState(!1);async function u(){try{await e(),t("/login")}catch{console.error("Failed to log out")}}return ye.jsxs("div",{className:"min-h-screen flex flex-col font-body text-text",children:[ye.jsx(kP,{isOpen:r,onClose:()=>o(!1)}),ye.jsx("header",{className:"sticky top-0 z-50 px-4 pt-4 pb-2",children:ye.jsxs("div",{className:"glass-card max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center transition-all duration-300",children:[ye.jsxs("div",{className:"flex items-center cursor-pointer group",onClick:()=>t("/"),children:[ye.jsx("div",{className:"p-2 bg-primary/10 rounded-lg group-hover:bg-primary/20 transition-colors mr-3",children:ye.jsx(w4,{className:"h-6 w-6 text-primary"})}),ye.jsx("h1",{className:"hidden sm:block text-xl font-serif font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-white/70",children:"Digital Journal"})]}),ye.jsxs("div",{className:"flex items-center space-x-3",children:[ye.jsx("span",{className:"text-sm text-text-muted hidden md:block border-r border-white/10 pr-4 mr-1",children:n?.email}),ye.jsxs("div",{className:"flex items-center gap-2",children:[ye.jsx("button",{onClick:()=>o(!0),className:"p-2 rounded-lg hover:bg-white/5 text-text-muted hover:text-primary transition-all duration-200",title:"Search (Cmd+K)",children:ye.jsx(gg,{className:"h-5 w-5"})}),ye.jsx(vP,{}),ye.jsx(bP,{}),ye.jsx(CP,{})]}),ye.jsx("button",{onClick:()=>t("/"),className:"hidden sm:block p-2 rounded-lg hover:bg-white/5 text-text-muted hover:text-primary transition-all duration-200",title:"Calendar",children:ye.jsx(xy,{className:"h-5 w-5"})}),ye.jsxs("button",{onClick:u,className:"flex items-center px-4 py-2 rounded-lg text-sm font-medium bg-white/5 hover:bg-red-500/10 hover:text-red-400 border border-transparent hover:border-red-500/20 transition-all duration-200",children:[ye.jsx(B4,{className:"h-4 w-4 mr-2"}),ye.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}),ye.jsx("main",{className:"flex-1 w-full max-w-7xl mx-auto p-4 sm:p-6 lg:p-8 animation-fade-in",children:ye.jsx(pS,{})})]})}function NP(){const{currentUser:n}=vl(),[e,t]=Ae.useState(new Date().getFullYear()),[r,o]=Ae.useState(new Set),[u,f]=Ae.useState(0),[m,g]=Ae.useState(!0),v=Uc(),_=gl(),x=_.pathname.includes("/entry/");Ae.useEffect(()=>{let I=()=>{};async function N(){if(g(!0),!!n)try{const P=`${e}-01-01`,W=`${e}-12-31`,re=rp(bp(os,"users",n.uid,"entries"),ip(np(),">=",P),ip(np(),"<=",W));I=oM(re,te=>{const ne=new Set;te.forEach(B=>{ne.add(B.id)}),o(ne),g(!1)},te=>{console.error("Error fetching entries:",te),g(!1)})}catch(P){console.error("Error setting up listener:",P),g(!1)}}return N(),()=>I()},[e,n]),Ae.useEffect(()=>{async function I(){if(n)try{const N=bp(os,"users",n.uid,"entries"),P=await fC(N);f(P.data().count)}catch(N){console.error("Error fetching total count:",N)}}I()},[n]);const T=()=>t(I=>I-1),C=()=>t(I=>I+1),L=new Date(e,0,1),R=u6({start:eA(L),end:f6(L)});return ye.jsxs("div",{className:"space-y-6",children:[ye.jsxs("div",{className:`glass-card p-6 flex flex-col md:flex-row md:items-center md:justify-between transition-all duration-300 ${x?"hidden md:flex":"flex"}`,children:[ye.jsxs("div",{children:[ye.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:"Journal Overview"}),ye.jsx("p",{className:"text-text-muted text-sm",children:"Your journey through time"})]}),ye.jsxs("div",{className:"flex space-x-8 mt-4 md:mt-0 text-sm",children:[ye.jsxs("div",{className:"text-center md:text-right",children:[ye.jsxs("p",{className:"text-text-muted text-xs uppercase tracking-wider mb-1",children:["In ",e]}),ye.jsx("p",{className:"text-3xl font-serif font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary",children:r.size})]}),ye.jsxs("div",{className:"text-center md:text-right border-l border-white/10 pl-8",children:[ye.jsx("p",{className:"text-text-muted text-xs uppercase tracking-wider mb-1",children:"Total Entries"}),ye.jsx("p",{className:"text-3xl font-serif font-bold text-white",children:u})]})]})]}),ye.jsxs("div",{className:`items-center justify-center space-x-6 mb-8 ${x?"hidden md:flex":"flex"}`,children:[ye.jsx("button",{onClick:T,className:"glass-button p-3 rounded-full hover:scale-110 active:scale-95 text-text-muted hover:text-white",children:ye.jsx(O0,{className:"w-6 h-6"})}),ye.jsx("h2",{className:"text-4xl font-serif font-bold text-white tracking-tight",children:e}),ye.jsx("button",{onClick:C,className:"glass-button p-3 rounded-full hover:scale-110 active:scale-95 text-text-muted hover:text-white",children:ye.jsx(M0,{className:"w-6 h-6"})})]}),ye.jsxs("div",{className:"flex flex-col md:flex-row gap-6 h-full transition-all duration-300 relative",children:[ye.jsx("div",{className:`transition-all duration-500 ease-in-out
                    ${x?"hidden md:block md:w-5/12 lg:w-1/3 md:h-[calc(100vh-250px)] md:overflow-y-auto md:pr-4 custom-scrollbar":"w-full"}
                `,children:m?ye.jsx("div",{className:"text-center text-text-muted py-20 animate-pulse",children:"Loading secular time..."}):ye.jsx("div",{className:`grid gap-6 transition-all duration-300 ${x?"grid-cols-1":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"}`,children:R.map(I=>{const N=I.getMonth(),P=r5(I),re=(oA(c6(I))+6)%7;return ye.jsxs("div",{className:"glass-card p-5 hover:border-primary/30 transition duration-300 group",children:[ye.jsx("h3",{className:"text-center font-serif text-white font-bold mb-4 text-lg border-b border-white/5 pb-2 group-hover:text-primary transition-colors",children:Ta(I,"MMMM")}),ye.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs mb-2 text-text-muted font-bold opacity-60",children:["M","T","W","T","F","S","S"].map((te,ne)=>ye.jsx("div",{children:te},ne))}),ye.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[Array.from({length:re}).map((te,ne)=>ye.jsx("div",{},`empty-${ne}`)),Array.from({length:P}).map((te,ne)=>{const B=ne+1,Q=new Date(e,N,B),q=B===new Date().getDate()&&N===new Date().getMonth()&&e===new Date().getFullYear(),ae=Ta(Q,"yyyy-MM-dd"),$=r.has(ae),F=_.pathname.includes(ae);return ye.jsx("button",{onClick:()=>v(`entry/${ae}`),className:`
                                                        aspect-square flex items-center justify-center rounded-full transition-all duration-300 text-sm relative z-0
                                                        ${$?"bg-primary/20 text-primary font-bold shadow-[0_0_10px_rgba(139,92,246,0.2)] hover:bg-primary hover:text-white hover:shadow-[0_0_15px_rgba(139,92,246,0.5)]":"text-text-muted hover:bg-white/10 hover:text-white"}
                                                        ${F?"ring-2 ring-secondary ring-offset-2 ring-offset-[#0a0a0b] z-10 scale-110 bg-primary text-white":""}
                                                        ${q&&!$?"bg-white/10 text-white font-bold border border-white/20":""}
                                                    `,children:B},B)})]})]},I.toString())})})}),x&&ye.jsx("div",{className:"w-full md:w-7/12 lg:w-2/3 animation-fade-in md:border-l border-white/10 md:pl-8",children:ye.jsx(pS,{})})]}),ye.jsx("div",{className:"mt-8 pt-6 border-t border-white/5 text-center pb-8",children:ye.jsxs("p",{className:"text-xs text-text-muted",children:["User ID: ",ye.jsx("code",{className:"bg-black/40 px-2 py-1 rounded text-primary/70 select-all hover:text-primary cursor-pointer transition-colors",title:"ID needed for migration",children:n?.uid})]})})]})}function OP(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const MP=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,LP=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,PP={};function Vx(n,e){return(PP.jsx?LP:MP).test(n)}const FP=/[ \t\n\f\r]/g;function zP(n){return typeof n=="object"?n.type==="text"?jx(n.value):!1:jx(n)}function jx(n){return n.replace(FP,"")===""}class Pp{constructor(e,t,r){this.normal=t,this.property=e,r&&(this.space=r)}}Pp.prototype.normal={};Pp.prototype.property={};Pp.prototype.space=void 0;function dA(n,e){const t={},r={};for(const o of n)Object.assign(t,o.property),Object.assign(r,o.normal);return new Pp(t,r,e)}function F0(n){return n.toLowerCase()}class ca{constructor(e,t){this.attribute=t,this.property=e}}ca.prototype.attribute="";ca.prototype.booleanish=!1;ca.prototype.boolean=!1;ca.prototype.commaOrSpaceSeparated=!1;ca.prototype.commaSeparated=!1;ca.prototype.defined=!1;ca.prototype.mustUseProperty=!1;ca.prototype.number=!1;ca.prototype.overloadedBoolean=!1;ca.prototype.property="";ca.prototype.spaceSeparated=!1;ca.prototype.space=void 0;let BP=0;const $t=qc(),zr=qc(),z0=qc(),mt=qc(),Yn=qc(),ah=qc(),Sa=qc();function qc(){return 2**++BP}const B0=Object.freeze(Object.defineProperty({__proto__:null,boolean:$t,booleanish:zr,commaOrSpaceSeparated:Sa,commaSeparated:ah,number:mt,overloadedBoolean:z0,spaceSeparated:Yn},Symbol.toStringTag,{value:"Module"})),Hv=Object.keys(B0);class sb extends ca{constructor(e,t,r,o){let u=-1;if(super(e,t),Hx(this,"space",o),typeof r=="number")for(;++u<Hv.length;){const f=Hv[u];Hx(this,Hv[u],(r&B0[f])===B0[f])}}}sb.prototype.defined=!0;function Hx(n,e,t){t&&(n[e]=t)}function Dh(n){const e={},t={};for(const[r,o]of Object.entries(n.properties)){const u=new sb(r,n.transform(n.attributes||{},r),o,n.space);n.mustUseProperty&&n.mustUseProperty.includes(r)&&(u.mustUseProperty=!0),e[r]=u,t[F0(r)]=r,t[F0(u.attribute)]=r}return new Pp(e,t,n.space)}const pA=Dh({properties:{ariaActiveDescendant:null,ariaAtomic:zr,ariaAutoComplete:null,ariaBusy:zr,ariaChecked:zr,ariaColCount:mt,ariaColIndex:mt,ariaColSpan:mt,ariaControls:Yn,ariaCurrent:null,ariaDescribedBy:Yn,ariaDetails:null,ariaDisabled:zr,ariaDropEffect:Yn,ariaErrorMessage:null,ariaExpanded:zr,ariaFlowTo:Yn,ariaGrabbed:zr,ariaHasPopup:null,ariaHidden:zr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Yn,ariaLevel:mt,ariaLive:null,ariaModal:zr,ariaMultiLine:zr,ariaMultiSelectable:zr,ariaOrientation:null,ariaOwns:Yn,ariaPlaceholder:null,ariaPosInSet:mt,ariaPressed:zr,ariaReadOnly:zr,ariaRelevant:null,ariaRequired:zr,ariaRoleDescription:Yn,ariaRowCount:mt,ariaRowIndex:mt,ariaRowSpan:mt,ariaSelected:zr,ariaSetSize:mt,ariaSort:null,ariaValueMax:mt,ariaValueMin:mt,ariaValueNow:mt,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function mA(n,e){return e in n?n[e]:e}function gA(n,e){return mA(n,e.toLowerCase())}const UP=Dh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ah,acceptCharset:Yn,accessKey:Yn,action:null,allow:null,allowFullScreen:$t,allowPaymentRequest:$t,allowUserMedia:$t,alt:null,as:null,async:$t,autoCapitalize:null,autoComplete:Yn,autoFocus:$t,autoPlay:$t,blocking:Yn,capture:null,charSet:null,checked:$t,cite:null,className:Yn,cols:mt,colSpan:null,content:null,contentEditable:zr,controls:$t,controlsList:Yn,coords:mt|ah,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$t,defer:$t,dir:null,dirName:null,disabled:$t,download:z0,draggable:zr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$t,formTarget:null,headers:Yn,height:mt,hidden:z0,high:mt,href:null,hrefLang:null,htmlFor:Yn,httpEquiv:Yn,id:null,imageSizes:null,imageSrcSet:null,inert:$t,inputMode:null,integrity:null,is:null,isMap:$t,itemId:null,itemProp:Yn,itemRef:Yn,itemScope:$t,itemType:Yn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$t,low:mt,manifest:null,max:null,maxLength:mt,media:null,method:null,min:null,minLength:mt,multiple:$t,muted:$t,name:null,nonce:null,noModule:$t,noValidate:$t,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$t,optimum:mt,pattern:null,ping:Yn,placeholder:null,playsInline:$t,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:$t,referrerPolicy:null,rel:Yn,required:$t,reversed:$t,rows:mt,rowSpan:mt,sandbox:Yn,scope:null,scoped:$t,seamless:$t,selected:$t,shadowRootClonable:$t,shadowRootDelegatesFocus:$t,shadowRootMode:null,shape:null,size:mt,sizes:null,slot:null,span:mt,spellCheck:zr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:mt,step:null,style:null,tabIndex:mt,target:null,title:null,translate:null,type:null,typeMustMatch:$t,useMap:null,value:zr,width:mt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Yn,axis:null,background:null,bgColor:null,border:mt,borderColor:null,bottomMargin:mt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$t,declare:$t,event:null,face:null,frame:null,frameBorder:null,hSpace:mt,leftMargin:mt,link:null,longDesc:null,lowSrc:null,marginHeight:mt,marginWidth:mt,noResize:$t,noHref:$t,noShade:$t,noWrap:$t,object:null,profile:null,prompt:null,rev:null,rightMargin:mt,rules:null,scheme:null,scrolling:zr,standby:null,summary:null,text:null,topMargin:mt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:mt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$t,disableRemotePlayback:$t,prefix:null,property:null,results:mt,security:null,unselectable:null},space:"html",transform:gA}),VP=Dh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Sa,accentHeight:mt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:mt,amplitude:mt,arabicForm:null,ascent:mt,attributeName:null,attributeType:null,azimuth:mt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:mt,by:null,calcMode:null,capHeight:mt,className:Yn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:mt,diffuseConstant:mt,direction:null,display:null,dur:null,divisor:mt,dominantBaseline:null,download:$t,dx:null,dy:null,edgeMode:null,editable:null,elevation:mt,enableBackground:null,end:null,event:null,exponent:mt,externalResourcesRequired:null,fill:null,fillOpacity:mt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ah,g2:ah,glyphName:ah,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:mt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:mt,horizOriginX:mt,horizOriginY:mt,id:null,ideographic:mt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:mt,k:mt,k1:mt,k2:mt,k3:mt,k4:mt,kernelMatrix:Sa,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:mt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:mt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:mt,overlineThickness:mt,paintOrder:null,panose1:null,path:null,pathLength:mt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Yn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:mt,pointsAtY:mt,pointsAtZ:mt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Sa,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Sa,rev:Sa,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Sa,requiredFeatures:Sa,requiredFonts:Sa,requiredFormats:Sa,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:mt,specularExponent:mt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:mt,strikethroughThickness:mt,string:null,stroke:null,strokeDashArray:Sa,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:mt,strokeOpacity:mt,strokeWidth:null,style:null,surfaceScale:mt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Sa,tabIndex:mt,tableValues:null,target:null,targetX:mt,targetY:mt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Sa,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:mt,underlineThickness:mt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:mt,values:null,vAlphabetic:mt,vMathematical:mt,vectorEffect:null,vHanging:mt,vIdeographic:mt,version:null,vertAdvY:mt,vertOriginX:mt,vertOriginY:mt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:mt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:mA}),yA=Dh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),vA=Dh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:gA}),bA=Dh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),jP={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},HP=/[A-Z]/g,qx=/-[a-z]/g,qP=/^data[-\w.:]+$/i;function WP(n,e){const t=F0(e);let r=e,o=ca;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&qP.test(e)){if(e.charAt(4)==="-"){const u=e.slice(5).replace(qx,YP);r="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=e.slice(4);if(!qx.test(u)){let f=u.replace(HP,GP);f.charAt(0)!=="-"&&(f="-"+f),e="data"+f}}o=sb}return new o(r,e)}function GP(n){return"-"+n.toLowerCase()}function YP(n){return n.charAt(1).toUpperCase()}const KP=dA([pA,UP,yA,vA,bA],"html"),ob=dA([pA,VP,yA,vA,bA],"svg");function QP(n){return n.join(" ").trim()}var Yf={},qv,Wx;function $P(){if(Wx)return qv;Wx=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,f=/^[;\s]*/,m=/^\s+|\s+$/g,g=`
`,v="/",_="*",x="",T="comment",C="declaration";function L(I,N){if(typeof I!="string")throw new TypeError("First argument must be a string");if(!I)return[];N=N||{};var P=1,W=1;function re(U){var ee=U.match(e);ee&&(P+=ee.length);var fe=U.lastIndexOf(g);W=~fe?U.length-fe:W+U.length}function te(){var U={line:P,column:W};return function(ee){return ee.position=new ne(U),q(),ee}}function ne(U){this.start=U,this.end={line:P,column:W},this.source=N.source}ne.prototype.content=I;function B(U){var ee=new Error(N.source+":"+P+":"+W+": "+U);if(ee.reason=U,ee.filename=N.source,ee.line=P,ee.column=W,ee.source=I,!N.silent)throw ee}function Q(U){var ee=U.exec(I);if(ee){var fe=ee[0];return re(fe),I=I.slice(fe.length),ee}}function q(){Q(t)}function ae(U){var ee;for(U=U||[];ee=$();)ee!==!1&&U.push(ee);return U}function $(){var U=te();if(!(v!=I.charAt(0)||_!=I.charAt(1))){for(var ee=2;x!=I.charAt(ee)&&(_!=I.charAt(ee)||v!=I.charAt(ee+1));)++ee;if(ee+=2,x===I.charAt(ee-1))return B("End of comment missing");var fe=I.slice(2,ee-2);return W+=2,re(fe),I=I.slice(ee),W+=2,U({type:T,comment:fe})}}function F(){var U=te(),ee=Q(r);if(ee){if($(),!Q(o))return B("property missing ':'");var fe=Q(u),he=U({type:C,property:R(ee[0].replace(n,x)),value:fe?R(fe[0].replace(n,x)):x});return Q(f),he}}function Z(){var U=[];ae(U);for(var ee;ee=F();)ee!==!1&&(U.push(ee),ae(U));return U}return q(),Z()}function R(I){return I?I.replace(m,x):x}return qv=L,qv}var Gx;function XP(){if(Gx)return Yf;Gx=1;var n=Yf&&Yf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.default=t;const e=n($P());function t(r,o){let u=null;if(!r||typeof r!="string")return u;const f=(0,e.default)(r),m=typeof o=="function";return f.forEach(g=>{if(g.type!=="declaration")return;const{property:v,value:_}=g;m?o(v,_,g):_&&(u=u||{},u[v]=_)}),u}return Yf}var jd={},Yx;function ZP(){if(Yx)return jd;Yx=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,u=function(v){return!v||t.test(v)||n.test(v)},f=function(v,_){return _.toUpperCase()},m=function(v,_){return"".concat(_,"-")},g=function(v,_){return _===void 0&&(_={}),u(v)?v:(v=v.toLowerCase(),_.reactCompat?v=v.replace(o,m):v=v.replace(r,m),v.replace(e,f))};return jd.camelCase=g,jd}var Hd,Kx;function JP(){if(Kx)return Hd;Kx=1;var n=Hd&&Hd.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},e=n(XP()),t=ZP();function r(o,u){var f={};return!o||typeof o!="string"||(0,e.default)(o,function(m,g){m&&g&&(f[(0,t.camelCase)(m,u)]=g)}),f}return r.default=r,Hd=r,Hd}var eF=JP();const tF=Bc(eF),_A=wA("end"),lb=wA("start");function wA(n){return e;function e(t){const r=t&&t.position&&t.position[n]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function nF(n){const e=lb(n),t=_A(n);if(e&&t)return{start:e,end:t}}function sp(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?Qx(n.position):"start"in n||"end"in n?Qx(n):"line"in n||"column"in n?U0(n):""}function U0(n){return $x(n&&n.line)+":"+$x(n&&n.column)}function Qx(n){return U0(n&&n.start)+"-"+U0(n&&n.end)}function $x(n){return n&&typeof n=="number"?n:1}class Oi extends Error{constructor(e,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let o="",u={},f=!1;if(t&&("line"in t&&"column"in t?u={place:t}:"start"in t&&"end"in t?u={place:t}:"type"in t?u={ancestors:[t],place:t.position}:u={...t}),typeof e=="string"?o=e:!u.cause&&e&&(f=!0,o=e.message,u.cause=e),!u.ruleId&&!u.source&&typeof r=="string"){const g=r.indexOf(":");g===-1?u.ruleId=r:(u.source=r.slice(0,g),u.ruleId=r.slice(g+1))}if(!u.place&&u.ancestors&&u.ancestors){const g=u.ancestors[u.ancestors.length-1];g&&(u.place=g.position)}const m=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=m?m.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=m?m.line:void 0,this.name=sp(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=f&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Oi.prototype.file="";Oi.prototype.name="";Oi.prototype.reason="";Oi.prototype.message="";Oi.prototype.stack="";Oi.prototype.column=void 0;Oi.prototype.line=void 0;Oi.prototype.ancestors=void 0;Oi.prototype.cause=void 0;Oi.prototype.fatal=void 0;Oi.prototype.place=void 0;Oi.prototype.ruleId=void 0;Oi.prototype.source=void 0;const ub={}.hasOwnProperty,rF=new Map,iF=/[A-Z]/g,aF=new Set(["table","tbody","thead","tfoot","tr"]),sF=new Set(["td","th"]),xA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function oF(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=mF(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=pF(t,e.jsx,e.jsxs)}const o={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ob:KP,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},u=EA(o,n,void 0);return u&&typeof u!="string"?u:o.create(n,o.Fragment,{children:u||void 0},void 0)}function EA(n,e,t){if(e.type==="element")return lF(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return uF(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return fF(n,e,t);if(e.type==="mdxjsEsm")return cF(n,e);if(e.type==="root")return hF(n,e,t);if(e.type==="text")return dF(n,e)}function lF(n,e,t){const r=n.schema;let o=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=ob,n.schema=o),n.ancestors.push(e);const u=TA(n,e.tagName,!1),f=gF(n,e);let m=fb(n,e);return aF.has(e.tagName)&&(m=m.filter(function(g){return typeof g=="string"?!zP(g):!0})),SA(n,f,u,e),cb(f,m),n.ancestors.pop(),n.schema=r,n.create(e,u,f,t)}function uF(n,e){if(e.data&&e.data.estree&&n.evaluater){const r=e.data.estree.body[0];return r.type,n.evaluater.evaluateExpression(r.expression)}xp(n,e.position)}function cF(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);xp(n,e.position)}function fF(n,e,t){const r=n.schema;let o=r;e.name==="svg"&&r.space==="html"&&(o=ob,n.schema=o),n.ancestors.push(e);const u=e.name===null?n.Fragment:TA(n,e.name,!0),f=yF(n,e),m=fb(n,e);return SA(n,f,u,e),cb(f,m),n.ancestors.pop(),n.schema=r,n.create(e,u,f,t)}function hF(n,e,t){const r={};return cb(r,fb(n,e)),n.create(e,n.Fragment,r,t)}function dF(n,e){return e.value}function SA(n,e,t,r){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=r)}function cb(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function pF(n,e,t){return r;function r(o,u,f,m){const v=Array.isArray(f.children)?t:e;return m?v(u,f,m):v(u,f)}}function mF(n,e){return t;function t(r,o,u,f){const m=Array.isArray(u.children),g=lb(r);return e(o,u,f,m,{columnNumber:g?g.column-1:void 0,fileName:n,lineNumber:g?g.line:void 0},void 0)}}function gF(n,e){const t={};let r,o;for(o in e.properties)if(o!=="children"&&ub.call(e.properties,o)){const u=vF(n,o,e.properties[o]);if(u){const[f,m]=u;n.tableCellAlignToStyle&&f==="align"&&typeof m=="string"&&sF.has(e.tagName)?r=m:t[f]=m}}if(r){const u=t.style||(t.style={});u[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return t}function yF(n,e){const t={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&n.evaluater){const u=r.data.estree.body[0];u.type;const f=u.expression;f.type;const m=f.properties[0];m.type,Object.assign(t,n.evaluater.evaluateExpression(m.argument))}else xp(n,e.position);else{const o=r.name;let u;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&n.evaluater){const m=r.value.data.estree.body[0];m.type,u=n.evaluater.evaluateExpression(m.expression)}else xp(n,e.position);else u=r.value===null?!0:r.value;t[o]=u}return t}function fb(n,e){const t=[];let r=-1;const o=n.passKeys?new Map:rF;for(;++r<e.children.length;){const u=e.children[r];let f;if(n.passKeys){const g=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(g){const v=o.get(g)||0;f=g+"-"+v,o.set(g,v+1)}}const m=EA(n,u,f);m!==void 0&&t.push(m)}return t}function vF(n,e,t){const r=WP(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=r.commaSeparated?OP(t):QP(t)),r.property==="style"){let o=typeof t=="object"?t:bF(n,String(t));return n.stylePropertyNameCase==="css"&&(o=_F(o)),["style",o]}return[n.elementAttributeNameCase==="react"&&r.space?jP[r.property]||r.property:r.attribute,t]}}function bF(n,e){try{return tF(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const r=t,o=new Oi("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=n.filePath||void 0,o.url=xA+"#cannot-parse-style-attribute",o}}function TA(n,e,t){let r;if(!t)r={type:"Literal",value:e};else if(e.includes(".")){const o=e.split(".");let u=-1,f;for(;++u<o.length;){const m=Vx(o[u])?{type:"Identifier",name:o[u]}:{type:"Literal",value:o[u]};f=f?{type:"MemberExpression",object:f,property:m,computed:!!(u&&m.type==="Literal"),optional:!1}:m}r=f}else r=Vx(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const o=r.value;return ub.call(n.components,o)?n.components[o]:o}if(n.evaluater)return n.evaluater.evaluateExpression(r);xp(n)}function xp(n,e){const t=new Oi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=xA+"#cannot-handle-mdx-estrees-without-createevaluater",t}function _F(n){const e={};let t;for(t in n)ub.call(n,t)&&(e[wF(t)]=n[t]);return e}function wF(n){let e=n.replace(iF,xF);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function xF(n){return"-"+n.toLowerCase()}const Wv={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},EF={};function SF(n,e){const t=EF,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,o=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return CA(n,r,o)}function CA(n,e,t){if(TF(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return Xx(n.children,e,t)}return Array.isArray(n)?Xx(n,e,t):""}function Xx(n,e,t){const r=[];let o=-1;for(;++o<n.length;)r[o]=CA(n[o],e,t);return r.join("")}function TF(n){return!!(n&&typeof n=="object")}const Zx=document.createElement("i");function hb(n){const e="&"+n+";";Zx.innerHTML=e;const t=Zx.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function So(n,e,t,r){const o=n.length;let u=0,f;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,t=t>0?t:0,r.length<1e4)f=Array.from(r),f.unshift(e,t),n.splice(...f);else for(t&&n.splice(e,t);u<r.length;)f=r.slice(u,u+1e4),f.unshift(e,0),n.splice(...f),u+=1e4,e+=1e4}function as(n,e){return n.length>0?(So(n,n.length,0,e),n):e}const Jx={}.hasOwnProperty;function CF(n){const e={};let t=-1;for(;++t<n.length;)AF(e,n[t]);return e}function AF(n,e){let t;for(t in e){const o=(Jx.call(n,t)?n[t]:void 0)||(n[t]={}),u=e[t];let f;if(u)for(f in u){Jx.call(o,f)||(o[f]=[]);const m=u[f];kF(o[f],Array.isArray(m)?m:m?[m]:[])}}}function kF(n,e){let t=-1;const r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);So(n,0,0,r)}function AA(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function sh(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const go=ju(/[A-Za-z]/),Aa=ju(/[\dA-Za-z]/),DF=ju(/[#-'*+\--9=?A-Z^-~]/);function V0(n){return n!==null&&(n<32||n===127)}const j0=ju(/\d/),RF=ju(/[\dA-Fa-f]/),IF=ju(/[!-/:-@[-`{-~]/);function Vt(n){return n!==null&&n<-2}function ua(n){return n!==null&&(n<0||n===32)}function Tn(n){return n===-2||n===-1||n===32}const NF=ju(new RegExp("\\p{P}|\\p{S}","u")),OF=ju(/\s/);function ju(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function Rh(n){const e=[];let t=-1,r=0,o=0;for(;++t<n.length;){const u=n.charCodeAt(t);let f="";if(u===37&&Aa(n.charCodeAt(t+1))&&Aa(n.charCodeAt(t+2)))o=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(f=String.fromCharCode(u));else if(u>55295&&u<57344){const m=n.charCodeAt(t+1);u<56320&&m>56319&&m<57344?(f=String.fromCharCode(u,m),o=1):f=""}else f=String.fromCharCode(u);f&&(e.push(n.slice(r,t),encodeURIComponent(f)),r=t+o+1,f=""),o&&(t+=o,o=0)}return e.join("")+n.slice(r)}function Kn(n,e,t,r){const o=r?r-1:Number.POSITIVE_INFINITY;let u=0;return f;function f(g){return Tn(g)?(n.enter(t),m(g)):e(g)}function m(g){return Tn(g)&&u++<o?(n.consume(g),m):(n.exit(t),e(g))}}const MF={tokenize:LF};function LF(n){const e=n.attempt(this.parser.constructs.contentInitial,r,o);let t;return e;function r(m){if(m===null){n.consume(m);return}return n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),Kn(n,e,"linePrefix")}function o(m){return n.enter("paragraph"),u(m)}function u(m){const g=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=g),t=g,f(m)}function f(m){if(m===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(m);return}return Vt(m)?(n.consume(m),n.exit("chunkText"),u):(n.consume(m),f)}}const PF={tokenize:FF},eE={tokenize:zF};function FF(n){const e=this,t=[];let r=0,o,u,f;return m;function m(W){if(r<t.length){const re=t[r];return e.containerState=re[1],n.attempt(re[0].continuation,g,v)(W)}return v(W)}function g(W){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&P();const re=e.events.length;let te=re,ne;for(;te--;)if(e.events[te][0]==="exit"&&e.events[te][1].type==="chunkFlow"){ne=e.events[te][1].end;break}N(r);let B=re;for(;B<e.events.length;)e.events[B][1].end={...ne},B++;return So(e.events,te+1,0,e.events.slice(re)),e.events.length=B,v(W)}return m(W)}function v(W){if(r===t.length){if(!o)return T(W);if(o.currentConstruct&&o.currentConstruct.concrete)return L(W);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(eE,_,x)(W)}function _(W){return o&&P(),N(r),T(W)}function x(W){return e.parser.lazy[e.now().line]=r!==t.length,f=e.now().offset,L(W)}function T(W){return e.containerState={},n.attempt(eE,C,L)(W)}function C(W){return r++,t.push([e.currentConstruct,e.containerState]),T(W)}function L(W){if(W===null){o&&P(),N(0),n.consume(W);return}return o=o||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:u}),R(W)}function R(W){if(W===null){I(n.exit("chunkFlow"),!0),N(0),n.consume(W);return}return Vt(W)?(n.consume(W),I(n.exit("chunkFlow")),r=0,e.interrupt=void 0,m):(n.consume(W),R)}function I(W,re){const te=e.sliceStream(W);if(re&&te.push(null),W.previous=u,u&&(u.next=W),u=W,o.defineSkip(W.start),o.write(te),e.parser.lazy[W.start.line]){let ne=o.events.length;for(;ne--;)if(o.events[ne][1].start.offset<f&&(!o.events[ne][1].end||o.events[ne][1].end.offset>f))return;const B=e.events.length;let Q=B,q,ae;for(;Q--;)if(e.events[Q][0]==="exit"&&e.events[Q][1].type==="chunkFlow"){if(q){ae=e.events[Q][1].end;break}q=!0}for(N(r),ne=B;ne<e.events.length;)e.events[ne][1].end={...ae},ne++;So(e.events,Q+1,0,e.events.slice(B)),e.events.length=ne}}function N(W){let re=t.length;for(;re-- >W;){const te=t[re];e.containerState=te[1],te[0].exit.call(e,n)}t.length=W}function P(){o.write([null]),u=void 0,o=void 0,e.containerState._closeFlow=void 0}}function zF(n,e,t){return Kn(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function tE(n){if(n===null||ua(n)||OF(n))return 1;if(NF(n))return 2}function db(n,e,t){const r=[];let o=-1;for(;++o<n.length;){const u=n[o].resolveAll;u&&!r.includes(u)&&(e=u(e,t),r.push(u))}return e}const H0={name:"attention",resolveAll:BF,tokenize:UF};function BF(n,e){let t=-1,r,o,u,f,m,g,v,_;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;g=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const x={...n[r][1].end},T={...n[t][1].start};nE(x,-g),nE(T,g),f={type:g>1?"strongSequence":"emphasisSequence",start:x,end:{...n[r][1].end}},m={type:g>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:T},u={type:g>1?"strongText":"emphasisText",start:{...n[r][1].end},end:{...n[t][1].start}},o={type:g>1?"strong":"emphasis",start:{...f.start},end:{...m.end}},n[r][1].end={...f.start},n[t][1].start={...m.end},v=[],n[r][1].end.offset-n[r][1].start.offset&&(v=as(v,[["enter",n[r][1],e],["exit",n[r][1],e]])),v=as(v,[["enter",o,e],["enter",f,e],["exit",f,e],["enter",u,e]]),v=as(v,db(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),v=as(v,[["exit",u,e],["enter",m,e],["exit",m,e],["exit",o,e]]),n[t][1].end.offset-n[t][1].start.offset?(_=2,v=as(v,[["enter",n[t][1],e],["exit",n[t][1],e]])):_=0,So(n,r-1,t-r+3,v),t=r+v.length-_-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function UF(n,e){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,o=tE(r);let u;return f;function f(g){return u=g,n.enter("attentionSequence"),m(g)}function m(g){if(g===u)return n.consume(g),m;const v=n.exit("attentionSequence"),_=tE(g),x=!_||_===2&&o||t.includes(g),T=!o||o===2&&_||t.includes(r);return v._open=!!(u===42?x:x&&(o||!T)),v._close=!!(u===42?T:T&&(_||!x)),e(g)}}function nE(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const VF={name:"autolink",tokenize:jF};function jF(n,e,t){let r=0;return o;function o(C){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(C),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),u}function u(C){return go(C)?(n.consume(C),f):C===64?t(C):v(C)}function f(C){return C===43||C===45||C===46||Aa(C)?(r=1,m(C)):v(C)}function m(C){return C===58?(n.consume(C),r=0,g):(C===43||C===45||C===46||Aa(C))&&r++<32?(n.consume(C),m):(r=0,v(C))}function g(C){return C===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(C),n.exit("autolinkMarker"),n.exit("autolink"),e):C===null||C===32||C===60||V0(C)?t(C):(n.consume(C),g)}function v(C){return C===64?(n.consume(C),_):DF(C)?(n.consume(C),v):t(C)}function _(C){return Aa(C)?x(C):t(C)}function x(C){return C===46?(n.consume(C),r=0,_):C===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(C),n.exit("autolinkMarker"),n.exit("autolink"),e):T(C)}function T(C){if((C===45||Aa(C))&&r++<63){const L=C===45?T:x;return n.consume(C),L}return t(C)}}const Sy={partial:!0,tokenize:HF};function HF(n,e,t){return r;function r(u){return Tn(u)?Kn(n,o,"linePrefix")(u):o(u)}function o(u){return u===null||Vt(u)?e(u):t(u)}}const kA={continuation:{tokenize:WF},exit:GF,name:"blockQuote",tokenize:qF};function qF(n,e,t){const r=this;return o;function o(f){if(f===62){const m=r.containerState;return m.open||(n.enter("blockQuote",{_container:!0}),m.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(f),n.exit("blockQuoteMarker"),u}return t(f)}function u(f){return Tn(f)?(n.enter("blockQuotePrefixWhitespace"),n.consume(f),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(f))}}function WF(n,e,t){const r=this;return o;function o(f){return Tn(f)?Kn(n,u,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f):u(f)}function u(f){return n.attempt(kA,e,t)(f)}}function GF(n){n.exit("blockQuote")}const DA={name:"characterEscape",tokenize:YF};function YF(n,e,t){return r;function r(u){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(u),n.exit("escapeMarker"),o}function o(u){return IF(u)?(n.enter("characterEscapeValue"),n.consume(u),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(u)}}const RA={name:"characterReference",tokenize:KF};function KF(n,e,t){const r=this;let o=0,u,f;return m;function m(x){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(x),n.exit("characterReferenceMarker"),g}function g(x){return x===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(x),n.exit("characterReferenceMarkerNumeric"),v):(n.enter("characterReferenceValue"),u=31,f=Aa,_(x))}function v(x){return x===88||x===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(x),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),u=6,f=RF,_):(n.enter("characterReferenceValue"),u=7,f=j0,_(x))}function _(x){if(x===59&&o){const T=n.exit("characterReferenceValue");return f===Aa&&!hb(r.sliceSerialize(T))?t(x):(n.enter("characterReferenceMarker"),n.consume(x),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return f(x)&&o++<u?(n.consume(x),_):t(x)}}const rE={partial:!0,tokenize:$F},iE={concrete:!0,name:"codeFenced",tokenize:QF};function QF(n,e,t){const r=this,o={partial:!0,tokenize:te};let u=0,f=0,m;return g;function g(ne){return v(ne)}function v(ne){const B=r.events[r.events.length-1];return u=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,m=ne,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),_(ne)}function _(ne){return ne===m?(f++,n.consume(ne),_):f<3?t(ne):(n.exit("codeFencedFenceSequence"),Tn(ne)?Kn(n,x,"whitespace")(ne):x(ne))}function x(ne){return ne===null||Vt(ne)?(n.exit("codeFencedFence"),r.interrupt?e(ne):n.check(rE,R,re)(ne)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),T(ne))}function T(ne){return ne===null||Vt(ne)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),x(ne)):Tn(ne)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Kn(n,C,"whitespace")(ne)):ne===96&&ne===m?t(ne):(n.consume(ne),T)}function C(ne){return ne===null||Vt(ne)?x(ne):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),L(ne))}function L(ne){return ne===null||Vt(ne)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),x(ne)):ne===96&&ne===m?t(ne):(n.consume(ne),L)}function R(ne){return n.attempt(o,re,I)(ne)}function I(ne){return n.enter("lineEnding"),n.consume(ne),n.exit("lineEnding"),N}function N(ne){return u>0&&Tn(ne)?Kn(n,P,"linePrefix",u+1)(ne):P(ne)}function P(ne){return ne===null||Vt(ne)?n.check(rE,R,re)(ne):(n.enter("codeFlowValue"),W(ne))}function W(ne){return ne===null||Vt(ne)?(n.exit("codeFlowValue"),P(ne)):(n.consume(ne),W)}function re(ne){return n.exit("codeFenced"),e(ne)}function te(ne,B,Q){let q=0;return ae;function ae(ee){return ne.enter("lineEnding"),ne.consume(ee),ne.exit("lineEnding"),$}function $(ee){return ne.enter("codeFencedFence"),Tn(ee)?Kn(ne,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):F(ee)}function F(ee){return ee===m?(ne.enter("codeFencedFenceSequence"),Z(ee)):Q(ee)}function Z(ee){return ee===m?(q++,ne.consume(ee),Z):q>=f?(ne.exit("codeFencedFenceSequence"),Tn(ee)?Kn(ne,U,"whitespace")(ee):U(ee)):Q(ee)}function U(ee){return ee===null||Vt(ee)?(ne.exit("codeFencedFence"),B(ee)):Q(ee)}}}function $F(n,e,t){const r=this;return o;function o(f){return f===null?t(f):(n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),u)}function u(f){return r.parser.lazy[r.now().line]?t(f):e(f)}}const Gv={name:"codeIndented",tokenize:ZF},XF={partial:!0,tokenize:JF};function ZF(n,e,t){const r=this;return o;function o(v){return n.enter("codeIndented"),Kn(n,u,"linePrefix",5)(v)}function u(v){const _=r.events[r.events.length-1];return _&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?f(v):t(v)}function f(v){return v===null?g(v):Vt(v)?n.attempt(XF,f,g)(v):(n.enter("codeFlowValue"),m(v))}function m(v){return v===null||Vt(v)?(n.exit("codeFlowValue"),f(v)):(n.consume(v),m)}function g(v){return n.exit("codeIndented"),e(v)}}function JF(n,e,t){const r=this;return o;function o(f){return r.parser.lazy[r.now().line]?t(f):Vt(f)?(n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),o):Kn(n,u,"linePrefix",5)(f)}function u(f){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?e(f):Vt(f)?o(f):t(f)}}const e9={name:"codeText",previous:n9,resolve:t9,tokenize:r9};function t9(n){let e=n.length-4,t=3,r,o;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)o===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(o=r):(r===e||n[r][1].type==="lineEnding")&&(n[o][1].type="codeTextData",r!==o+2&&(n[o][1].end=n[r-1][1].end,n.splice(o+2,r-o-2),e-=r-o-2,r=o+2),o=void 0);return n}function n9(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function r9(n,e,t){let r=0,o,u;return f;function f(x){return n.enter("codeText"),n.enter("codeTextSequence"),m(x)}function m(x){return x===96?(n.consume(x),r++,m):(n.exit("codeTextSequence"),g(x))}function g(x){return x===null?t(x):x===32?(n.enter("space"),n.consume(x),n.exit("space"),g):x===96?(u=n.enter("codeTextSequence"),o=0,_(x)):Vt(x)?(n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),g):(n.enter("codeTextData"),v(x))}function v(x){return x===null||x===32||x===96||Vt(x)?(n.exit("codeTextData"),g(x)):(n.consume(x),v)}function _(x){return x===96?(n.consume(x),o++,_):o===r?(n.exit("codeTextSequence"),n.exit("codeText"),e(x)):(u.type="codeTextData",v(x))}}class i9{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,t,r){const o=t||0;this.setCursor(Math.trunc(e));const u=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&qd(this.left,r),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),qd(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),qd(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);qd(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);qd(this.left,t.reverse())}}}function qd(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function IA(n){const e={};let t=-1,r,o,u,f,m,g,v;const _=new i9(n);for(;++t<_.length;){for(;t in e;)t=e[t];if(r=_.get(t),t&&r[1].type==="chunkFlow"&&_.get(t-1)[1].type==="listItemPrefix"&&(g=r[1]._tokenizer.events,u=0,u<g.length&&g[u][1].type==="lineEndingBlank"&&(u+=2),u<g.length&&g[u][1].type==="content"))for(;++u<g.length&&g[u][1].type!=="content";)g[u][1].type==="chunkText"&&(g[u][1]._isInFirstContentOfListItem=!0,u++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,a9(_,t)),t=e[t],v=!0);else if(r[1]._container){for(u=t,o=void 0;u--;)if(f=_.get(u),f[1].type==="lineEnding"||f[1].type==="lineEndingBlank")f[0]==="enter"&&(o&&(_.get(o)[1].type="lineEndingBlank"),f[1].type="lineEnding",o=u);else if(!(f[1].type==="linePrefix"||f[1].type==="listItemIndent"))break;o&&(r[1].end={..._.get(o)[1].start},m=_.slice(o,t),m.unshift(r),_.splice(o,t-o+1,m))}}return So(n,0,Number.POSITIVE_INFINITY,_.slice(0)),!v}function a9(n,e){const t=n.get(e)[1],r=n.get(e)[2];let o=e-1;const u=[];let f=t._tokenizer;f||(f=r.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(f._contentTypeTextTrailing=!0));const m=f.events,g=[],v={};let _,x,T=-1,C=t,L=0,R=0;const I=[R];for(;C;){for(;n.get(++o)[1]!==C;);u.push(o),C._tokenizer||(_=r.sliceStream(C),C.next||_.push(null),x&&f.defineSkip(C.start),C._isInFirstContentOfListItem&&(f._gfmTasklistFirstContentOfListItem=!0),f.write(_),C._isInFirstContentOfListItem&&(f._gfmTasklistFirstContentOfListItem=void 0)),x=C,C=C.next}for(C=t;++T<m.length;)m[T][0]==="exit"&&m[T-1][0]==="enter"&&m[T][1].type===m[T-1][1].type&&m[T][1].start.line!==m[T][1].end.line&&(R=T+1,I.push(R),C._tokenizer=void 0,C.previous=void 0,C=C.next);for(f.events=[],C?(C._tokenizer=void 0,C.previous=void 0):I.pop(),T=I.length;T--;){const N=m.slice(I[T],I[T+1]),P=u.pop();g.push([P,P+N.length-1]),n.splice(P,2,N)}for(g.reverse(),T=-1;++T<g.length;)v[L+g[T][0]]=L+g[T][1],L+=g[T][1]-g[T][0]-1;return v}const s9={resolve:l9,tokenize:u9},o9={partial:!0,tokenize:c9};function l9(n){return IA(n),n}function u9(n,e){let t;return r;function r(m){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),o(m)}function o(m){return m===null?u(m):Vt(m)?n.check(o9,f,u)(m):(n.consume(m),o)}function u(m){return n.exit("chunkContent"),n.exit("content"),e(m)}function f(m){return n.consume(m),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,o}}function c9(n,e,t){const r=this;return o;function o(f){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),Kn(n,u,"linePrefix")}function u(f){if(f===null||Vt(f))return t(f);const m=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?e(f):n.interrupt(r.parser.constructs.flow,t,e)(f)}}function NA(n,e,t,r,o,u,f,m,g){const v=g||Number.POSITIVE_INFINITY;let _=0;return x;function x(N){return N===60?(n.enter(r),n.enter(o),n.enter(u),n.consume(N),n.exit(u),T):N===null||N===32||N===41||V0(N)?t(N):(n.enter(r),n.enter(f),n.enter(m),n.enter("chunkString",{contentType:"string"}),R(N))}function T(N){return N===62?(n.enter(u),n.consume(N),n.exit(u),n.exit(o),n.exit(r),e):(n.enter(m),n.enter("chunkString",{contentType:"string"}),C(N))}function C(N){return N===62?(n.exit("chunkString"),n.exit(m),T(N)):N===null||N===60||Vt(N)?t(N):(n.consume(N),N===92?L:C)}function L(N){return N===60||N===62||N===92?(n.consume(N),C):C(N)}function R(N){return!_&&(N===null||N===41||ua(N))?(n.exit("chunkString"),n.exit(m),n.exit(f),n.exit(r),e(N)):_<v&&N===40?(n.consume(N),_++,R):N===41?(n.consume(N),_--,R):N===null||N===32||N===40||V0(N)?t(N):(n.consume(N),N===92?I:R)}function I(N){return N===40||N===41||N===92?(n.consume(N),R):R(N)}}function OA(n,e,t,r,o,u){const f=this;let m=0,g;return v;function v(C){return n.enter(r),n.enter(o),n.consume(C),n.exit(o),n.enter(u),_}function _(C){return m>999||C===null||C===91||C===93&&!g||C===94&&!m&&"_hiddenFootnoteSupport"in f.parser.constructs?t(C):C===93?(n.exit(u),n.enter(o),n.consume(C),n.exit(o),n.exit(r),e):Vt(C)?(n.enter("lineEnding"),n.consume(C),n.exit("lineEnding"),_):(n.enter("chunkString",{contentType:"string"}),x(C))}function x(C){return C===null||C===91||C===93||Vt(C)||m++>999?(n.exit("chunkString"),_(C)):(n.consume(C),g||(g=!Tn(C)),C===92?T:x)}function T(C){return C===91||C===92||C===93?(n.consume(C),m++,x):x(C)}}function MA(n,e,t,r,o,u){let f;return m;function m(T){return T===34||T===39||T===40?(n.enter(r),n.enter(o),n.consume(T),n.exit(o),f=T===40?41:T,g):t(T)}function g(T){return T===f?(n.enter(o),n.consume(T),n.exit(o),n.exit(r),e):(n.enter(u),v(T))}function v(T){return T===f?(n.exit(u),g(f)):T===null?t(T):Vt(T)?(n.enter("lineEnding"),n.consume(T),n.exit("lineEnding"),Kn(n,v,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),_(T))}function _(T){return T===f||T===null||Vt(T)?(n.exit("chunkString"),v(T)):(n.consume(T),T===92?x:_)}function x(T){return T===f||T===92?(n.consume(T),_):_(T)}}function op(n,e){let t;return r;function r(o){return Vt(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),t=!0,r):Tn(o)?Kn(n,r,t?"linePrefix":"lineSuffix")(o):e(o)}}const f9={name:"definition",tokenize:d9},h9={partial:!0,tokenize:p9};function d9(n,e,t){const r=this;let o;return u;function u(C){return n.enter("definition"),f(C)}function f(C){return OA.call(r,n,m,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(C)}function m(C){return o=sh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),C===58?(n.enter("definitionMarker"),n.consume(C),n.exit("definitionMarker"),g):t(C)}function g(C){return ua(C)?op(n,v)(C):v(C)}function v(C){return NA(n,_,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(C)}function _(C){return n.attempt(h9,x,x)(C)}function x(C){return Tn(C)?Kn(n,T,"whitespace")(C):T(C)}function T(C){return C===null||Vt(C)?(n.exit("definition"),r.parser.defined.push(o),e(C)):t(C)}}function p9(n,e,t){return r;function r(m){return ua(m)?op(n,o)(m):t(m)}function o(m){return MA(n,u,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(m)}function u(m){return Tn(m)?Kn(n,f,"whitespace")(m):f(m)}function f(m){return m===null||Vt(m)?e(m):t(m)}}const m9={name:"hardBreakEscape",tokenize:g9};function g9(n,e,t){return r;function r(u){return n.enter("hardBreakEscape"),n.consume(u),o}function o(u){return Vt(u)?(n.exit("hardBreakEscape"),e(u)):t(u)}}const y9={name:"headingAtx",resolve:v9,tokenize:b9};function v9(n,e){let t=n.length-2,r=3,o,u;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(o={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},u={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},So(n,r,t-r+1,[["enter",o,e],["enter",u,e],["exit",u,e],["exit",o,e]])),n}function b9(n,e,t){let r=0;return o;function o(_){return n.enter("atxHeading"),u(_)}function u(_){return n.enter("atxHeadingSequence"),f(_)}function f(_){return _===35&&r++<6?(n.consume(_),f):_===null||ua(_)?(n.exit("atxHeadingSequence"),m(_)):t(_)}function m(_){return _===35?(n.enter("atxHeadingSequence"),g(_)):_===null||Vt(_)?(n.exit("atxHeading"),e(_)):Tn(_)?Kn(n,m,"whitespace")(_):(n.enter("atxHeadingText"),v(_))}function g(_){return _===35?(n.consume(_),g):(n.exit("atxHeadingSequence"),m(_))}function v(_){return _===null||_===35||ua(_)?(n.exit("atxHeadingText"),m(_)):(n.consume(_),v)}}const _9=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],aE=["pre","script","style","textarea"],w9={concrete:!0,name:"htmlFlow",resolveTo:S9,tokenize:T9},x9={partial:!0,tokenize:A9},E9={partial:!0,tokenize:C9};function S9(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function T9(n,e,t){const r=this;let o,u,f,m,g;return v;function v(A){return _(A)}function _(A){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(A),x}function x(A){return A===33?(n.consume(A),T):A===47?(n.consume(A),u=!0,R):A===63?(n.consume(A),o=3,r.interrupt?e:le):go(A)?(n.consume(A),f=String.fromCharCode(A),I):t(A)}function T(A){return A===45?(n.consume(A),o=2,C):A===91?(n.consume(A),o=5,m=0,L):go(A)?(n.consume(A),o=4,r.interrupt?e:le):t(A)}function C(A){return A===45?(n.consume(A),r.interrupt?e:le):t(A)}function L(A){const ge="CDATA[";return A===ge.charCodeAt(m++)?(n.consume(A),m===ge.length?r.interrupt?e:F:L):t(A)}function R(A){return go(A)?(n.consume(A),f=String.fromCharCode(A),I):t(A)}function I(A){if(A===null||A===47||A===62||ua(A)){const ge=A===47,Ue=f.toLowerCase();return!ge&&!u&&aE.includes(Ue)?(o=1,r.interrupt?e(A):F(A)):_9.includes(f.toLowerCase())?(o=6,ge?(n.consume(A),N):r.interrupt?e(A):F(A)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(A):u?P(A):W(A))}return A===45||Aa(A)?(n.consume(A),f+=String.fromCharCode(A),I):t(A)}function N(A){return A===62?(n.consume(A),r.interrupt?e:F):t(A)}function P(A){return Tn(A)?(n.consume(A),P):ae(A)}function W(A){return A===47?(n.consume(A),ae):A===58||A===95||go(A)?(n.consume(A),re):Tn(A)?(n.consume(A),W):ae(A)}function re(A){return A===45||A===46||A===58||A===95||Aa(A)?(n.consume(A),re):te(A)}function te(A){return A===61?(n.consume(A),ne):Tn(A)?(n.consume(A),te):W(A)}function ne(A){return A===null||A===60||A===61||A===62||A===96?t(A):A===34||A===39?(n.consume(A),g=A,B):Tn(A)?(n.consume(A),ne):Q(A)}function B(A){return A===g?(n.consume(A),g=null,q):A===null||Vt(A)?t(A):(n.consume(A),B)}function Q(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||ua(A)?te(A):(n.consume(A),Q)}function q(A){return A===47||A===62||Tn(A)?W(A):t(A)}function ae(A){return A===62?(n.consume(A),$):t(A)}function $(A){return A===null||Vt(A)?F(A):Tn(A)?(n.consume(A),$):t(A)}function F(A){return A===45&&o===2?(n.consume(A),fe):A===60&&o===1?(n.consume(A),he):A===62&&o===4?(n.consume(A),se):A===63&&o===3?(n.consume(A),le):A===93&&o===5?(n.consume(A),Fe):Vt(A)&&(o===6||o===7)?(n.exit("htmlFlowData"),n.check(x9,H,Z)(A)):A===null||Vt(A)?(n.exit("htmlFlowData"),Z(A)):(n.consume(A),F)}function Z(A){return n.check(E9,U,H)(A)}function U(A){return n.enter("lineEnding"),n.consume(A),n.exit("lineEnding"),ee}function ee(A){return A===null||Vt(A)?Z(A):(n.enter("htmlFlowData"),F(A))}function fe(A){return A===45?(n.consume(A),le):F(A)}function he(A){return A===47?(n.consume(A),f="",Pe):F(A)}function Pe(A){if(A===62){const ge=f.toLowerCase();return aE.includes(ge)?(n.consume(A),se):F(A)}return go(A)&&f.length<8?(n.consume(A),f+=String.fromCharCode(A),Pe):F(A)}function Fe(A){return A===93?(n.consume(A),le):F(A)}function le(A){return A===62?(n.consume(A),se):A===45&&o===2?(n.consume(A),le):F(A)}function se(A){return A===null||Vt(A)?(n.exit("htmlFlowData"),H(A)):(n.consume(A),se)}function H(A){return n.exit("htmlFlow"),e(A)}}function C9(n,e,t){const r=this;return o;function o(f){return Vt(f)?(n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),u):t(f)}function u(f){return r.parser.lazy[r.now().line]?t(f):e(f)}}function A9(n,e,t){return r;function r(o){return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),n.attempt(Sy,e,t)}}const k9={name:"htmlText",tokenize:D9};function D9(n,e,t){const r=this;let o,u,f;return m;function m(le){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(le),g}function g(le){return le===33?(n.consume(le),v):le===47?(n.consume(le),te):le===63?(n.consume(le),W):go(le)?(n.consume(le),Q):t(le)}function v(le){return le===45?(n.consume(le),_):le===91?(n.consume(le),u=0,L):go(le)?(n.consume(le),P):t(le)}function _(le){return le===45?(n.consume(le),C):t(le)}function x(le){return le===null?t(le):le===45?(n.consume(le),T):Vt(le)?(f=x,he(le)):(n.consume(le),x)}function T(le){return le===45?(n.consume(le),C):x(le)}function C(le){return le===62?fe(le):le===45?T(le):x(le)}function L(le){const se="CDATA[";return le===se.charCodeAt(u++)?(n.consume(le),u===se.length?R:L):t(le)}function R(le){return le===null?t(le):le===93?(n.consume(le),I):Vt(le)?(f=R,he(le)):(n.consume(le),R)}function I(le){return le===93?(n.consume(le),N):R(le)}function N(le){return le===62?fe(le):le===93?(n.consume(le),N):R(le)}function P(le){return le===null||le===62?fe(le):Vt(le)?(f=P,he(le)):(n.consume(le),P)}function W(le){return le===null?t(le):le===63?(n.consume(le),re):Vt(le)?(f=W,he(le)):(n.consume(le),W)}function re(le){return le===62?fe(le):W(le)}function te(le){return go(le)?(n.consume(le),ne):t(le)}function ne(le){return le===45||Aa(le)?(n.consume(le),ne):B(le)}function B(le){return Vt(le)?(f=B,he(le)):Tn(le)?(n.consume(le),B):fe(le)}function Q(le){return le===45||Aa(le)?(n.consume(le),Q):le===47||le===62||ua(le)?q(le):t(le)}function q(le){return le===47?(n.consume(le),fe):le===58||le===95||go(le)?(n.consume(le),ae):Vt(le)?(f=q,he(le)):Tn(le)?(n.consume(le),q):fe(le)}function ae(le){return le===45||le===46||le===58||le===95||Aa(le)?(n.consume(le),ae):$(le)}function $(le){return le===61?(n.consume(le),F):Vt(le)?(f=$,he(le)):Tn(le)?(n.consume(le),$):q(le)}function F(le){return le===null||le===60||le===61||le===62||le===96?t(le):le===34||le===39?(n.consume(le),o=le,Z):Vt(le)?(f=F,he(le)):Tn(le)?(n.consume(le),F):(n.consume(le),U)}function Z(le){return le===o?(n.consume(le),o=void 0,ee):le===null?t(le):Vt(le)?(f=Z,he(le)):(n.consume(le),Z)}function U(le){return le===null||le===34||le===39||le===60||le===61||le===96?t(le):le===47||le===62||ua(le)?q(le):(n.consume(le),U)}function ee(le){return le===47||le===62||ua(le)?q(le):t(le)}function fe(le){return le===62?(n.consume(le),n.exit("htmlTextData"),n.exit("htmlText"),e):t(le)}function he(le){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(le),n.exit("lineEnding"),Pe}function Pe(le){return Tn(le)?Kn(n,Fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le):Fe(le)}function Fe(le){return n.enter("htmlTextData"),f(le)}}const pb={name:"labelEnd",resolveAll:O9,resolveTo:M9,tokenize:L9},R9={tokenize:P9},I9={tokenize:F9},N9={tokenize:z9};function O9(n){let e=-1;const t=[];for(;++e<n.length;){const r=n[e][1];if(t.push(n[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",e+=o}}return n.length!==t.length&&So(n,0,n.length,t),n}function M9(n,e){let t=n.length,r=0,o,u,f,m;for(;t--;)if(o=n[t][1],u){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;n[t][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(f){if(n[t][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(u=t,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(f=t);const g={type:n[u][1].type==="labelLink"?"link":"image",start:{...n[u][1].start},end:{...n[n.length-1][1].end}},v={type:"label",start:{...n[u][1].start},end:{...n[f][1].end}},_={type:"labelText",start:{...n[u+r+2][1].end},end:{...n[f-2][1].start}};return m=[["enter",g,e],["enter",v,e]],m=as(m,n.slice(u+1,u+r+3)),m=as(m,[["enter",_,e]]),m=as(m,db(e.parser.constructs.insideSpan.null,n.slice(u+r+4,f-3),e)),m=as(m,[["exit",_,e],n[f-2],n[f-1],["exit",v,e]]),m=as(m,n.slice(f+1)),m=as(m,[["exit",g,e]]),So(n,u,n.length,m),n}function L9(n,e,t){const r=this;let o=r.events.length,u,f;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){u=r.events[o][1];break}return m;function m(T){return u?u._inactive?x(T):(f=r.parser.defined.includes(sh(r.sliceSerialize({start:u.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(T),n.exit("labelMarker"),n.exit("labelEnd"),g):t(T)}function g(T){return T===40?n.attempt(R9,_,f?_:x)(T):T===91?n.attempt(I9,_,f?v:x)(T):f?_(T):x(T)}function v(T){return n.attempt(N9,_,x)(T)}function _(T){return e(T)}function x(T){return u._balanced=!0,t(T)}}function P9(n,e,t){return r;function r(x){return n.enter("resource"),n.enter("resourceMarker"),n.consume(x),n.exit("resourceMarker"),o}function o(x){return ua(x)?op(n,u)(x):u(x)}function u(x){return x===41?_(x):NA(n,f,m,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(x)}function f(x){return ua(x)?op(n,g)(x):_(x)}function m(x){return t(x)}function g(x){return x===34||x===39||x===40?MA(n,v,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(x):_(x)}function v(x){return ua(x)?op(n,_)(x):_(x)}function _(x){return x===41?(n.enter("resourceMarker"),n.consume(x),n.exit("resourceMarker"),n.exit("resource"),e):t(x)}}function F9(n,e,t){const r=this;return o;function o(m){return OA.call(r,n,u,f,"reference","referenceMarker","referenceString")(m)}function u(m){return r.parser.defined.includes(sh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(m):t(m)}function f(m){return t(m)}}function z9(n,e,t){return r;function r(u){return n.enter("reference"),n.enter("referenceMarker"),n.consume(u),n.exit("referenceMarker"),o}function o(u){return u===93?(n.enter("referenceMarker"),n.consume(u),n.exit("referenceMarker"),n.exit("reference"),e):t(u)}}const B9={name:"labelStartImage",resolveAll:pb.resolveAll,tokenize:U9};function U9(n,e,t){const r=this;return o;function o(m){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(m),n.exit("labelImageMarker"),u}function u(m){return m===91?(n.enter("labelMarker"),n.consume(m),n.exit("labelMarker"),n.exit("labelImage"),f):t(m)}function f(m){return m===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(m):e(m)}}const V9={name:"labelStartLink",resolveAll:pb.resolveAll,tokenize:j9};function j9(n,e,t){const r=this;return o;function o(f){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(f),n.exit("labelMarker"),n.exit("labelLink"),u}function u(f){return f===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(f):e(f)}}const Yv={name:"lineEnding",tokenize:H9};function H9(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),Kn(n,e,"linePrefix")}}const vg={name:"thematicBreak",tokenize:q9};function q9(n,e,t){let r=0,o;return u;function u(v){return n.enter("thematicBreak"),f(v)}function f(v){return o=v,m(v)}function m(v){return v===o?(n.enter("thematicBreakSequence"),g(v)):r>=3&&(v===null||Vt(v))?(n.exit("thematicBreak"),e(v)):t(v)}function g(v){return v===o?(n.consume(v),r++,g):(n.exit("thematicBreakSequence"),Tn(v)?Kn(n,m,"whitespace")(v):m(v))}}const oa={continuation:{tokenize:K9},exit:$9,name:"list",tokenize:Y9},W9={partial:!0,tokenize:X9},G9={partial:!0,tokenize:Q9};function Y9(n,e,t){const r=this,o=r.events[r.events.length-1];let u=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,f=0;return m;function m(C){const L=r.containerState.type||(C===42||C===43||C===45?"listUnordered":"listOrdered");if(L==="listUnordered"?!r.containerState.marker||C===r.containerState.marker:j0(C)){if(r.containerState.type||(r.containerState.type=L,n.enter(L,{_container:!0})),L==="listUnordered")return n.enter("listItemPrefix"),C===42||C===45?n.check(vg,t,v)(C):v(C);if(!r.interrupt||C===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),g(C)}return t(C)}function g(C){return j0(C)&&++f<10?(n.consume(C),g):(!r.interrupt||f<2)&&(r.containerState.marker?C===r.containerState.marker:C===41||C===46)?(n.exit("listItemValue"),v(C)):t(C)}function v(C){return n.enter("listItemMarker"),n.consume(C),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||C,n.check(Sy,r.interrupt?t:_,n.attempt(W9,T,x))}function _(C){return r.containerState.initialBlankLine=!0,u++,T(C)}function x(C){return Tn(C)?(n.enter("listItemPrefixWhitespace"),n.consume(C),n.exit("listItemPrefixWhitespace"),T):t(C)}function T(C){return r.containerState.size=u+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(C)}}function K9(n,e,t){const r=this;return r.containerState._closeFlow=void 0,n.check(Sy,o,u);function o(m){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Kn(n,e,"listItemIndent",r.containerState.size+1)(m)}function u(m){return r.containerState.furtherBlankLines||!Tn(m)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,f(m)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(G9,e,f)(m))}function f(m){return r.containerState._closeFlow=!0,r.interrupt=void 0,Kn(n,n.attempt(oa,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m)}}function Q9(n,e,t){const r=this;return Kn(n,o,"listItemIndent",r.containerState.size+1);function o(u){const f=r.events[r.events.length-1];return f&&f[1].type==="listItemIndent"&&f[2].sliceSerialize(f[1],!0).length===r.containerState.size?e(u):t(u)}}function $9(n){n.exit(this.containerState.type)}function X9(n,e,t){const r=this;return Kn(n,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(u){const f=r.events[r.events.length-1];return!Tn(u)&&f&&f[1].type==="listItemPrefixWhitespace"?e(u):t(u)}}const sE={name:"setextUnderline",resolveTo:Z9,tokenize:J9};function Z9(n,e){let t=n.length,r,o,u;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(o=t)}else n[t][1].type==="content"&&n.splice(t,1),!u&&n[t][1].type==="definition"&&(u=t);const f={type:"setextHeading",start:{...n[r][1].start},end:{...n[n.length-1][1].end}};return n[o][1].type="setextHeadingText",u?(n.splice(o,0,["enter",f,e]),n.splice(u+1,0,["exit",n[r][1],e]),n[r][1].end={...n[u][1].end}):n[r][1]=f,n.push(["exit",f,e]),n}function J9(n,e,t){const r=this;let o;return u;function u(v){let _=r.events.length,x;for(;_--;)if(r.events[_][1].type!=="lineEnding"&&r.events[_][1].type!=="linePrefix"&&r.events[_][1].type!=="content"){x=r.events[_][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||x)?(n.enter("setextHeadingLine"),o=v,f(v)):t(v)}function f(v){return n.enter("setextHeadingLineSequence"),m(v)}function m(v){return v===o?(n.consume(v),m):(n.exit("setextHeadingLineSequence"),Tn(v)?Kn(n,g,"lineSuffix")(v):g(v))}function g(v){return v===null||Vt(v)?(n.exit("setextHeadingLine"),e(v)):t(v)}}const ez={tokenize:tz};function tz(n){const e=this,t=n.attempt(Sy,r,n.attempt(this.parser.constructs.flowInitial,o,Kn(n,n.attempt(this.parser.constructs.flow,o,n.attempt(s9,o)),"linePrefix")));return t;function r(u){if(u===null){n.consume(u);return}return n.enter("lineEndingBlank"),n.consume(u),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function o(u){if(u===null){n.consume(u);return}return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const nz={resolveAll:PA()},rz=LA("string"),iz=LA("text");function LA(n){return{resolveAll:PA(n==="text"?az:void 0),tokenize:e};function e(t){const r=this,o=this.parser.constructs[n],u=t.attempt(o,f,m);return f;function f(_){return v(_)?u(_):m(_)}function m(_){if(_===null){t.consume(_);return}return t.enter("data"),t.consume(_),g}function g(_){return v(_)?(t.exit("data"),u(_)):(t.consume(_),g)}function v(_){if(_===null)return!0;const x=o[_];let T=-1;if(x)for(;++T<x.length;){const C=x[T];if(!C.previous||C.previous.call(r,r.previous))return!0}return!1}}}function PA(n){return e;function e(t,r){let o=-1,u;for(;++o<=t.length;)u===void 0?t[o]&&t[o][1].type==="data"&&(u=o,o++):(!t[o]||t[o][1].type!=="data")&&(o!==u+2&&(t[u][1].end=t[o-1][1].end,t.splice(u+2,o-u-2),o=u+2),u=void 0);return n?n(t,r):t}}function az(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const r=n[t-1][1],o=e.sliceStream(r);let u=o.length,f=-1,m=0,g;for(;u--;){const v=o[u];if(typeof v=="string"){for(f=v.length;v.charCodeAt(f-1)===32;)m++,f--;if(f)break;f=-1}else if(v===-2)g=!0,m++;else if(v!==-1){u++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(m=0),m){const v={type:t===n.length||g||m<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?f:r.start._bufferIndex+f,_index:r.start._index+u,line:r.end.line,column:r.end.column-m,offset:r.end.offset-m},end:{...r.end}};r.end={...v.start},r.start.offset===r.end.offset?Object.assign(r,v):(n.splice(t,0,["enter",v,e],["exit",v,e]),t+=2)}t++}return n}const sz={42:oa,43:oa,45:oa,48:oa,49:oa,50:oa,51:oa,52:oa,53:oa,54:oa,55:oa,56:oa,57:oa,62:kA},oz={91:f9},lz={[-2]:Gv,[-1]:Gv,32:Gv},uz={35:y9,42:vg,45:[sE,vg],60:w9,61:sE,95:vg,96:iE,126:iE},cz={38:RA,92:DA},fz={[-5]:Yv,[-4]:Yv,[-3]:Yv,33:B9,38:RA,42:H0,60:[VF,k9],91:V9,92:[m9,DA],93:pb,95:H0,96:e9},hz={null:[H0,nz]},dz={null:[42,95]},pz={null:[]},mz=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:dz,contentInitial:oz,disable:pz,document:sz,flow:uz,flowInitial:lz,insideSpan:hz,string:cz,text:fz},Symbol.toStringTag,{value:"Module"}));function gz(n,e,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const o={},u=[];let f=[],m=[];const g={attempt:B(te),check:B(ne),consume:P,enter:W,exit:re,interrupt:B(ne,{interrupt:!0})},v={code:null,containerState:{},defineSkip:R,events:[],now:L,parser:n,previous:null,sliceSerialize:T,sliceStream:C,write:x};let _=e.tokenize.call(v,g);return e.resolveAll&&u.push(e),v;function x($){return f=as(f,$),I(),f[f.length-1]!==null?[]:(Q(e,0),v.events=db(u,v.events,v),v.events)}function T($,F){return vz(C($),F)}function C($){return yz(f,$)}function L(){const{_bufferIndex:$,_index:F,line:Z,column:U,offset:ee}=r;return{_bufferIndex:$,_index:F,line:Z,column:U,offset:ee}}function R($){o[$.line]=$.column,ae()}function I(){let $;for(;r._index<f.length;){const F=f[r._index];if(typeof F=="string")for($=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===$&&r._bufferIndex<F.length;)N(F.charCodeAt(r._bufferIndex));else N(F)}}function N($){_=_($)}function P($){Vt($)?(r.line++,r.column=1,r.offset+=$===-3?2:1,ae()):$!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===f[r._index].length&&(r._bufferIndex=-1,r._index++)),v.previous=$}function W($,F){const Z=F||{};return Z.type=$,Z.start=L(),v.events.push(["enter",Z,v]),m.push(Z),Z}function re($){const F=m.pop();return F.end=L(),v.events.push(["exit",F,v]),F}function te($,F){Q($,F.from)}function ne($,F){F.restore()}function B($,F){return Z;function Z(U,ee,fe){let he,Pe,Fe,le;return Array.isArray(U)?H(U):"tokenize"in U?H([U]):se(U);function se($e){return gt;function gt(ht){const dt=ht!==null&&$e[ht],At=ht!==null&&$e.null,_t=[...Array.isArray(dt)?dt:dt?[dt]:[],...Array.isArray(At)?At:At?[At]:[]];return H(_t)(ht)}}function H($e){return he=$e,Pe=0,$e.length===0?fe:A($e[Pe])}function A($e){return gt;function gt(ht){return le=q(),Fe=$e,$e.partial||(v.currentConstruct=$e),$e.name&&v.parser.constructs.disable.null.includes($e.name)?Ue():$e.tokenize.call(F?Object.assign(Object.create(v),F):v,g,ge,Ue)(ht)}}function ge($e){return $(Fe,le),ee}function Ue($e){return le.restore(),++Pe<he.length?A(he[Pe]):fe}}}function Q($,F){$.resolveAll&&!u.includes($)&&u.push($),$.resolve&&So(v.events,F,v.events.length-F,$.resolve(v.events.slice(F),v)),$.resolveTo&&(v.events=$.resolveTo(v.events,v))}function q(){const $=L(),F=v.previous,Z=v.currentConstruct,U=v.events.length,ee=Array.from(m);return{from:U,restore:fe};function fe(){r=$,v.previous=F,v.currentConstruct=Z,v.events.length=U,m=ee,ae()}}function ae(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function yz(n,e){const t=e.start._index,r=e.start._bufferIndex,o=e.end._index,u=e.end._bufferIndex;let f;if(t===o)f=[n[t].slice(r,u)];else{if(f=n.slice(t,o),r>-1){const m=f[0];typeof m=="string"?f[0]=m.slice(r):f.shift()}u>0&&f.push(n[o].slice(0,u))}return f}function vz(n,e){let t=-1;const r=[];let o;for(;++t<n.length;){const u=n[t];let f;if(typeof u=="string")f=u;else switch(u){case-5:{f="\r";break}case-4:{f=`
`;break}case-3:{f=`\r
`;break}case-2:{f=e?" ":"	";break}case-1:{if(!e&&o)continue;f=" ";break}default:f=String.fromCharCode(u)}o=u===-2,r.push(f)}return r.join("")}function bz(n){const r={constructs:CF([mz,...(n||{}).extensions||[]]),content:o(MF),defined:[],document:o(PF),flow:o(ez),lazy:{},string:o(rz),text:o(iz)};return r;function o(u){return f;function f(m){return gz(r,u,m)}}}function _z(n){for(;!IA(n););return n}const oE=/[\0\t\n\r]/g;function wz(){let n=1,e="",t=!0,r;return o;function o(u,f,m){const g=[];let v,_,x,T,C;for(u=e+(typeof u=="string"?u.toString():new TextDecoder(f||void 0).decode(u)),x=0,e="",t&&(u.charCodeAt(0)===65279&&x++,t=void 0);x<u.length;){if(oE.lastIndex=x,v=oE.exec(u),T=v&&v.index!==void 0?v.index:u.length,C=u.charCodeAt(T),!v){e=u.slice(x);break}if(C===10&&x===T&&r)g.push(-3),r=void 0;else switch(r&&(g.push(-5),r=void 0),x<T&&(g.push(u.slice(x,T)),n+=T-x),C){case 0:{g.push(65533),n++;break}case 9:{for(_=Math.ceil(n/4)*4,g.push(-2);n++<_;)g.push(-1);break}case 10:{g.push(-4),n=1;break}default:r=!0,n=1}x=T+1}return m&&(r&&g.push(-5),e&&g.push(e),g.push(null)),g}}const xz=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ez(n){return n.replace(xz,Sz)}function Sz(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const o=t.charCodeAt(1),u=o===120||o===88;return AA(t.slice(u?2:1),u?16:10)}return hb(t)||n}const FA={}.hasOwnProperty;function Tz(n,e,t){return typeof e!="string"&&(t=e,e=void 0),Cz(t)(_z(bz(t).document().write(wz()(n,e,!0))))}function Cz(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(ke),autolinkProtocol:q,autolinkEmail:q,atxHeading:u(ze),blockQuote:u(At),characterEscape:q,characterReference:q,codeFenced:u(_t),codeFencedFenceInfo:f,codeFencedFenceMeta:f,codeIndented:u(_t,f),codeText:u(Pt,f),codeTextData:q,data:q,codeFlowValue:q,definition:u(Ht),definitionDestinationString:f,definitionLabelString:f,definitionTitleString:f,emphasis:u(K),hardBreakEscape:u(He),hardBreakTrailing:u(He),htmlFlow:u(be,f),htmlFlowData:q,htmlText:u(be,f),htmlTextData:q,image:u(pe),label:f,link:u(ke),listItem:u(Xe),listItemValue:T,listOrdered:u(Me,x),listUnordered:u(Me),paragraph:u(Ve),reference:A,referenceString:f,resourceDestinationString:f,resourceTitleString:f,setextHeading:u(ze),strong:u(lt),thematicBreak:u(we)},exit:{atxHeading:g(),atxHeadingSequence:te,autolink:g(),autolinkEmail:dt,autolinkProtocol:ht,blockQuote:g(),characterEscapeValue:ae,characterReferenceMarkerHexadecimal:Ue,characterReferenceMarkerNumeric:Ue,characterReferenceValue:$e,characterReference:gt,codeFenced:g(I),codeFencedFence:R,codeFencedFenceInfo:C,codeFencedFenceMeta:L,codeFlowValue:ae,codeIndented:g(N),codeText:g(ee),codeTextData:ae,data:ae,definition:g(),definitionDestinationString:re,definitionLabelString:P,definitionTitleString:W,emphasis:g(),hardBreakEscape:g(F),hardBreakTrailing:g(F),htmlFlow:g(Z),htmlFlowData:ae,htmlText:g(U),htmlTextData:ae,image:g(he),label:Fe,labelText:Pe,lineEnding:$,link:g(fe),listItem:g(),listOrdered:g(),listUnordered:g(),paragraph:g(),referenceString:ge,resourceDestinationString:le,resourceTitleString:se,resource:H,setextHeading:g(Q),setextHeadingLineSequence:B,setextHeadingText:ne,strong:g(),thematicBreak:g()}};zA(e,(n||{}).mdastExtensions||[]);const t={};return r;function r(ie){let j={type:"root",children:[]};const G={stack:[j],tokenStack:[],config:e,enter:m,exit:v,buffer:f,resume:_,data:t},ve=[];let D=-1;for(;++D<ie.length;)if(ie[D][1].type==="listOrdered"||ie[D][1].type==="listUnordered")if(ie[D][0]==="enter")ve.push(D);else{const Y=ve.pop();D=o(ie,Y,D)}for(D=-1;++D<ie.length;){const Y=e[ie[D][0]];FA.call(Y,ie[D][1].type)&&Y[ie[D][1].type].call(Object.assign({sliceSerialize:ie[D][2].sliceSerialize},G),ie[D][1])}if(G.tokenStack.length>0){const Y=G.tokenStack[G.tokenStack.length-1];(Y[1]||lE).call(G,void 0,Y[0])}for(j.position={start:wu(ie.length>0?ie[0][1].start:{line:1,column:1,offset:0}),end:wu(ie.length>0?ie[ie.length-2][1].end:{line:1,column:1,offset:0})},D=-1;++D<e.transforms.length;)j=e.transforms[D](j)||j;return j}function o(ie,j,G){let ve=j-1,D=-1,Y=!1,ce,me,Se,Ie;for(;++ve<=G;){const xe=ie[ve];switch(xe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{xe[0]==="enter"?D++:D--,Ie=void 0;break}case"lineEndingBlank":{xe[0]==="enter"&&(ce&&!Ie&&!D&&!Se&&(Se=ve),Ie=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ie=void 0}if(!D&&xe[0]==="enter"&&xe[1].type==="listItemPrefix"||D===-1&&xe[0]==="exit"&&(xe[1].type==="listUnordered"||xe[1].type==="listOrdered")){if(ce){let Te=ve;for(me=void 0;Te--;){const Oe=ie[Te];if(Oe[1].type==="lineEnding"||Oe[1].type==="lineEndingBlank"){if(Oe[0]==="exit")continue;me&&(ie[me][1].type="lineEndingBlank",Y=!0),Oe[1].type="lineEnding",me=Te}else if(!(Oe[1].type==="linePrefix"||Oe[1].type==="blockQuotePrefix"||Oe[1].type==="blockQuotePrefixWhitespace"||Oe[1].type==="blockQuoteMarker"||Oe[1].type==="listItemIndent"))break}Se&&(!me||Se<me)&&(ce._spread=!0),ce.end=Object.assign({},me?ie[me][1].start:xe[1].end),ie.splice(me||ve,0,["exit",ce,xe[2]]),ve++,G++}if(xe[1].type==="listItemPrefix"){const Te={type:"listItem",_spread:!1,start:Object.assign({},xe[1].start),end:void 0};ce=Te,ie.splice(ve,0,["enter",Te,xe[2]]),ve++,G++,Se=void 0,Ie=!0}}}return ie[j][1]._spread=Y,G}function u(ie,j){return G;function G(ve){m.call(this,ie(ve),ve),j&&j.call(this,ve)}}function f(){this.stack.push({type:"fragment",children:[]})}function m(ie,j,G){this.stack[this.stack.length-1].children.push(ie),this.stack.push(ie),this.tokenStack.push([j,G||void 0]),ie.position={start:wu(j.start),end:void 0}}function g(ie){return j;function j(G){ie&&ie.call(this,G),v.call(this,G)}}function v(ie,j){const G=this.stack.pop(),ve=this.tokenStack.pop();if(ve)ve[0].type!==ie.type&&(j?j.call(this,ie,ve[0]):(ve[1]||lE).call(this,ie,ve[0]));else throw new Error("Cannot close `"+ie.type+"` ("+sp({start:ie.start,end:ie.end})+"): its not open");G.position.end=wu(ie.end)}function _(){return SF(this.stack.pop())}function x(){this.data.expectingFirstListItemValue=!0}function T(ie){if(this.data.expectingFirstListItemValue){const j=this.stack[this.stack.length-2];j.start=Number.parseInt(this.sliceSerialize(ie),10),this.data.expectingFirstListItemValue=void 0}}function C(){const ie=this.resume(),j=this.stack[this.stack.length-1];j.lang=ie}function L(){const ie=this.resume(),j=this.stack[this.stack.length-1];j.meta=ie}function R(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function I(){const ie=this.resume(),j=this.stack[this.stack.length-1];j.value=ie.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const ie=this.resume(),j=this.stack[this.stack.length-1];j.value=ie.replace(/(\r?\n|\r)$/g,"")}function P(ie){const j=this.resume(),G=this.stack[this.stack.length-1];G.label=j,G.identifier=sh(this.sliceSerialize(ie)).toLowerCase()}function W(){const ie=this.resume(),j=this.stack[this.stack.length-1];j.title=ie}function re(){const ie=this.resume(),j=this.stack[this.stack.length-1];j.url=ie}function te(ie){const j=this.stack[this.stack.length-1];if(!j.depth){const G=this.sliceSerialize(ie).length;j.depth=G}}function ne(){this.data.setextHeadingSlurpLineEnding=!0}function B(ie){const j=this.stack[this.stack.length-1];j.depth=this.sliceSerialize(ie).codePointAt(0)===61?1:2}function Q(){this.data.setextHeadingSlurpLineEnding=void 0}function q(ie){const G=this.stack[this.stack.length-1].children;let ve=G[G.length-1];(!ve||ve.type!=="text")&&(ve=Ee(),ve.position={start:wu(ie.start),end:void 0},G.push(ve)),this.stack.push(ve)}function ae(ie){const j=this.stack.pop();j.value+=this.sliceSerialize(ie),j.position.end=wu(ie.end)}function $(ie){const j=this.stack[this.stack.length-1];if(this.data.atHardBreak){const G=j.children[j.children.length-1];G.position.end=wu(ie.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(j.type)&&(q.call(this,ie),ae.call(this,ie))}function F(){this.data.atHardBreak=!0}function Z(){const ie=this.resume(),j=this.stack[this.stack.length-1];j.value=ie}function U(){const ie=this.resume(),j=this.stack[this.stack.length-1];j.value=ie}function ee(){const ie=this.resume(),j=this.stack[this.stack.length-1];j.value=ie}function fe(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const j=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=j,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function he(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const j=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=j,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function Pe(ie){const j=this.sliceSerialize(ie),G=this.stack[this.stack.length-2];G.label=Ez(j),G.identifier=sh(j).toLowerCase()}function Fe(){const ie=this.stack[this.stack.length-1],j=this.resume(),G=this.stack[this.stack.length-1];if(this.data.inReference=!0,G.type==="link"){const ve=ie.children;G.children=ve}else G.alt=j}function le(){const ie=this.resume(),j=this.stack[this.stack.length-1];j.url=ie}function se(){const ie=this.resume(),j=this.stack[this.stack.length-1];j.title=ie}function H(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function ge(ie){const j=this.resume(),G=this.stack[this.stack.length-1];G.label=j,G.identifier=sh(this.sliceSerialize(ie)).toLowerCase(),this.data.referenceType="full"}function Ue(ie){this.data.characterReferenceType=ie.type}function $e(ie){const j=this.sliceSerialize(ie),G=this.data.characterReferenceType;let ve;G?(ve=AA(j,G==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ve=hb(j);const D=this.stack[this.stack.length-1];D.value+=ve}function gt(ie){const j=this.stack.pop();j.position.end=wu(ie.end)}function ht(ie){ae.call(this,ie);const j=this.stack[this.stack.length-1];j.url=this.sliceSerialize(ie)}function dt(ie){ae.call(this,ie);const j=this.stack[this.stack.length-1];j.url="mailto:"+this.sliceSerialize(ie)}function At(){return{type:"blockquote",children:[]}}function _t(){return{type:"code",lang:null,meta:null,value:""}}function Pt(){return{type:"inlineCode",value:""}}function Ht(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function K(){return{type:"emphasis",children:[]}}function ze(){return{type:"heading",depth:0,children:[]}}function He(){return{type:"break"}}function be(){return{type:"html",value:""}}function pe(){return{type:"image",title:null,url:"",alt:null}}function ke(){return{type:"link",title:null,url:"",children:[]}}function Me(ie){return{type:"list",ordered:ie.type==="listOrdered",start:null,spread:ie._spread,children:[]}}function Xe(ie){return{type:"listItem",spread:ie._spread,checked:null,children:[]}}function Ve(){return{type:"paragraph",children:[]}}function lt(){return{type:"strong",children:[]}}function Ee(){return{type:"text",value:""}}function we(){return{type:"thematicBreak"}}}function wu(n){return{line:n.line,column:n.column,offset:n.offset}}function zA(n,e){let t=-1;for(;++t<e.length;){const r=e[t];Array.isArray(r)?zA(n,r):Az(n,r)}}function Az(n,e){let t;for(t in e)if(FA.call(e,t))switch(t){case"canContainEols":{const r=e[t];r&&n[t].push(...r);break}case"transforms":{const r=e[t];r&&n[t].push(...r);break}case"enter":case"exit":{const r=e[t];r&&Object.assign(n[t],r);break}}}function lE(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+sp({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+sp({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+sp({start:e.start,end:e.end})+") is still open")}function kz(n){const e=this;e.parser=t;function t(r){return Tz(r,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Dz(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function Rz(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function Iz(n,e){const t=e.value?e.value+`
`:"",r={},o=e.lang?e.lang.split(/\s+/):[];o.length>0&&(r.className=["language-"+o[0]]);let u={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return e.meta&&(u.data={meta:e.meta}),n.patch(e,u),u=n.applyData(e,u),u={type:"element",tagName:"pre",properties:{},children:[u]},n.patch(e,u),u}function Nz(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Oz(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Mz(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),o=Rh(r.toLowerCase()),u=n.footnoteOrder.indexOf(r);let f,m=n.footnoteCounts.get(r);m===void 0?(m=0,n.footnoteOrder.push(r),f=n.footnoteOrder.length):f=u+1,m+=1,n.footnoteCounts.set(r,m);const g={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+o,id:t+"fnref-"+o+(m>1?"-"+m:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(f)}]};n.patch(e,g);const v={type:"element",tagName:"sup",properties:{},children:[g]};return n.patch(e,v),n.applyData(e,v)}function Lz(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Pz(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function BA(n,e){const t=e.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const o=n.all(e),u=o[0];u&&u.type==="text"?u.value="["+u.value:o.unshift({type:"text",value:"["});const f=o[o.length-1];return f&&f.type==="text"?f.value+=r:o.push({type:"text",value:r}),o}function Fz(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return BA(n,e);const o={src:Rh(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const u={type:"element",tagName:"img",properties:o,children:[]};return n.patch(e,u),n.applyData(e,u)}function zz(n,e){const t={src:Rh(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,r),n.applyData(e,r)}function Bz(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,r),n.applyData(e,r)}function Uz(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return BA(n,e);const o={href:Rh(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const u={type:"element",tagName:"a",properties:o,children:n.all(e)};return n.patch(e,u),n.applyData(e,u)}function Vz(n,e){const t={href:Rh(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function jz(n,e,t){const r=n.all(e),o=t?Hz(t):UA(e),u={},f=[];if(typeof e.checked=="boolean"){const _=r[0];let x;_&&_.type==="element"&&_.tagName==="p"?x=_:(x={type:"element",tagName:"p",properties:{},children:[]},r.unshift(x)),x.children.length>0&&x.children.unshift({type:"text",value:" "}),x.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let m=-1;for(;++m<r.length;){const _=r[m];(o||m!==0||_.type!=="element"||_.tagName!=="p")&&f.push({type:"text",value:`
`}),_.type==="element"&&_.tagName==="p"&&!o?f.push(..._.children):f.push(_)}const g=r[r.length-1];g&&(o||g.type!=="element"||g.tagName!=="p")&&f.push({type:"text",value:`
`});const v={type:"element",tagName:"li",properties:u,children:f};return n.patch(e,v),n.applyData(e,v)}function Hz(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let r=-1;for(;!e&&++r<t.length;)e=UA(t[r])}return e}function UA(n){const e=n.spread;return e??n.children.length>1}function qz(n,e){const t={},r=n.all(e);let o=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++o<r.length;){const f=r[o];if(f.type==="element"&&f.tagName==="li"&&f.properties&&Array.isArray(f.properties.className)&&f.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const u={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(r,!0)};return n.patch(e,u),n.applyData(e,u)}function Wz(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Gz(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function Yz(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Kz(n,e){const t=n.all(e),r=t.shift(),o=[];if(r){const f={type:"element",tagName:"thead",properties:{},children:n.wrap([r],!0)};n.patch(e.children[0],f),o.push(f)}if(t.length>0){const f={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},m=lb(e.children[1]),g=_A(e.children[e.children.length-1]);m&&g&&(f.position={start:m,end:g}),o.push(f)}const u={type:"element",tagName:"table",properties:{},children:n.wrap(o,!0)};return n.patch(e,u),n.applyData(e,u)}function Qz(n,e,t){const r=t?t.children:void 0,u=(r?r.indexOf(e):1)===0?"th":"td",f=t&&t.type==="table"?t.align:void 0,m=f?f.length:e.children.length;let g=-1;const v=[];for(;++g<m;){const x=e.children[g],T={},C=f?f[g]:void 0;C&&(T.align=C);let L={type:"element",tagName:u,properties:T,children:[]};x&&(L.children=n.all(x),n.patch(x,L),L=n.applyData(x,L)),v.push(L)}const _={type:"element",tagName:"tr",properties:{},children:n.wrap(v,!0)};return n.patch(e,_),n.applyData(e,_)}function $z(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const uE=9,cE=32;function Xz(n){const e=String(n),t=/\r?\n|\r/g;let r=t.exec(e),o=0;const u=[];for(;r;)u.push(fE(e.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=t.exec(e);return u.push(fE(e.slice(o),o>0,!1)),u.join("")}function fE(n,e,t){let r=0,o=n.length;if(e){let u=n.codePointAt(r);for(;u===uE||u===cE;)r++,u=n.codePointAt(r)}if(t){let u=n.codePointAt(o-1);for(;u===uE||u===cE;)o--,u=n.codePointAt(o-1)}return o>r?n.slice(r,o):""}function Zz(n,e){const t={type:"text",value:Xz(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function Jz(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const eB={blockquote:Dz,break:Rz,code:Iz,delete:Nz,emphasis:Oz,footnoteReference:Mz,heading:Lz,html:Pz,imageReference:Fz,image:zz,inlineCode:Bz,linkReference:Uz,link:Vz,listItem:jz,list:qz,paragraph:Wz,root:Gz,strong:Yz,table:Kz,tableCell:$z,tableRow:Qz,text:Zz,thematicBreak:Jz,toml:eg,yaml:eg,definition:eg,footnoteDefinition:eg};function eg(){}const VA=-1,Ty=0,lp=1,Wg=2,mb=3,gb=4,yb=5,vb=6,jA=7,HA=8,hE=typeof self=="object"?self:globalThis,tB=(n,e)=>{const t=(o,u)=>(n.set(u,o),o),r=o=>{if(n.has(o))return n.get(o);const[u,f]=e[o];switch(u){case Ty:case VA:return t(f,o);case lp:{const m=t([],o);for(const g of f)m.push(r(g));return m}case Wg:{const m=t({},o);for(const[g,v]of f)m[r(g)]=r(v);return m}case mb:return t(new Date(f),o);case gb:{const{source:m,flags:g}=f;return t(new RegExp(m,g),o)}case yb:{const m=t(new Map,o);for(const[g,v]of f)m.set(r(g),r(v));return m}case vb:{const m=t(new Set,o);for(const g of f)m.add(r(g));return m}case jA:{const{name:m,message:g}=f;return t(new hE[m](g),o)}case HA:return t(BigInt(f),o);case"BigInt":return t(Object(BigInt(f)),o);case"ArrayBuffer":return t(new Uint8Array(f).buffer,f);case"DataView":{const{buffer:m}=new Uint8Array(f);return t(new DataView(m),f)}}return t(new hE[u](f),o)};return r},dE=n=>tB(new Map,n)(0),Kf="",{toString:nB}={},{keys:rB}=Object,Wd=n=>{const e=typeof n;if(e!=="object"||!n)return[Ty,e];const t=nB.call(n).slice(8,-1);switch(t){case"Array":return[lp,Kf];case"Object":return[Wg,Kf];case"Date":return[mb,Kf];case"RegExp":return[gb,Kf];case"Map":return[yb,Kf];case"Set":return[vb,Kf];case"DataView":return[lp,t]}return t.includes("Array")?[lp,t]:t.includes("Error")?[jA,t]:[Wg,t]},tg=([n,e])=>n===Ty&&(e==="function"||e==="symbol"),iB=(n,e,t,r)=>{const o=(f,m)=>{const g=r.push(f)-1;return t.set(m,g),g},u=f=>{if(t.has(f))return t.get(f);let[m,g]=Wd(f);switch(m){case Ty:{let _=f;switch(g){case"bigint":m=HA,_=f.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+g);_=null;break;case"undefined":return o([VA],f)}return o([m,_],f)}case lp:{if(g){let T=f;return g==="DataView"?T=new Uint8Array(f.buffer):g==="ArrayBuffer"&&(T=new Uint8Array(f)),o([g,[...T]],f)}const _=[],x=o([m,_],f);for(const T of f)_.push(u(T));return x}case Wg:{if(g)switch(g){case"BigInt":return o([g,f.toString()],f);case"Boolean":case"Number":case"String":return o([g,f.valueOf()],f)}if(e&&"toJSON"in f)return u(f.toJSON());const _=[],x=o([m,_],f);for(const T of rB(f))(n||!tg(Wd(f[T])))&&_.push([u(T),u(f[T])]);return x}case mb:return o([m,f.toISOString()],f);case gb:{const{source:_,flags:x}=f;return o([m,{source:_,flags:x}],f)}case yb:{const _=[],x=o([m,_],f);for(const[T,C]of f)(n||!(tg(Wd(T))||tg(Wd(C))))&&_.push([u(T),u(C)]);return x}case vb:{const _=[],x=o([m,_],f);for(const T of f)(n||!tg(Wd(T)))&&_.push(u(T));return x}}const{message:v}=f;return o([m,{name:g,message:v}],f)};return u},pE=(n,{json:e,lossy:t}={})=>{const r=[];return iB(!(e||t),!!e,new Map,r)(n),r},Gg=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?dE(pE(n,e)):structuredClone(n):(n,e)=>dE(pE(n,e));function aB(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function sB(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function oB(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||aB,r=n.options.footnoteBackLabel||sB,o=n.options.footnoteLabel||"Footnotes",u=n.options.footnoteLabelTagName||"h2",f=n.options.footnoteLabelProperties||{className:["sr-only"]},m=[];let g=-1;for(;++g<n.footnoteOrder.length;){const v=n.footnoteById.get(n.footnoteOrder[g]);if(!v)continue;const _=n.all(v),x=String(v.identifier).toUpperCase(),T=Rh(x.toLowerCase());let C=0;const L=[],R=n.footnoteCounts.get(x);for(;R!==void 0&&++C<=R;){L.length>0&&L.push({type:"text",value:" "});let P=typeof t=="string"?t:t(g,C);typeof P=="string"&&(P={type:"text",value:P}),L.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+T+(C>1?"-"+C:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(g,C),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const I=_[_.length-1];if(I&&I.type==="element"&&I.tagName==="p"){const P=I.children[I.children.length-1];P&&P.type==="text"?P.value+=" ":I.children.push({type:"text",value:" "}),I.children.push(...L)}else _.push(...L);const N={type:"element",tagName:"li",properties:{id:e+"fn-"+T},children:n.wrap(_,!0)};n.patch(v,N),m.push(N)}if(m.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...Gg(f),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(m,!0)},{type:"text",value:`
`}]}}const qA=(function(n){if(n==null)return fB;if(typeof n=="function")return Cy(n);if(typeof n=="object")return Array.isArray(n)?lB(n):uB(n);if(typeof n=="string")return cB(n);throw new Error("Expected function, string, or object as test")});function lB(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=qA(n[t]);return Cy(r);function r(...o){let u=-1;for(;++u<e.length;)if(e[u].apply(this,o))return!0;return!1}}function uB(n){const e=n;return Cy(t);function t(r){const o=r;let u;for(u in n)if(o[u]!==e[u])return!1;return!0}}function cB(n){return Cy(e);function e(t){return t&&t.type===n}}function Cy(n){return e;function e(t,r,o){return!!(hB(t)&&n.call(this,t,typeof r=="number"?r:void 0,o||void 0))}}function fB(){return!0}function hB(n){return n!==null&&typeof n=="object"&&"type"in n}const WA=[],dB=!0,mE=!1,pB="skip";function mB(n,e,t,r){let o;typeof e=="function"&&typeof t!="function"?(r=t,t=e):o=e;const u=qA(o),f=r?-1:1;m(n,void 0,[])();function m(g,v,_){const x=g&&typeof g=="object"?g:{};if(typeof x.type=="string"){const C=typeof x.tagName=="string"?x.tagName:typeof x.name=="string"?x.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(g.type+(C?"<"+C+">":""))+")"})}return T;function T(){let C=WA,L,R,I;if((!e||u(g,v,_[_.length-1]||void 0))&&(C=gB(t(g,_)),C[0]===mE))return C;if("children"in g&&g.children){const N=g;if(N.children&&C[0]!==pB)for(R=(r?N.children.length:-1)+f,I=_.concat(N);R>-1&&R<N.children.length;){const P=N.children[R];if(L=m(P,R,I)(),L[0]===mE)return L;R=typeof L[1]=="number"?L[1]:R+f}}return C}}}function gB(n){return Array.isArray(n)?n:typeof n=="number"?[dB,n]:n==null?WA:[n]}function GA(n,e,t,r){let o,u,f;typeof e=="function"&&typeof t!="function"?(u=void 0,f=e,o=t):(u=e,f=t,o=r),mB(n,u,m,o);function m(g,v){const _=v[v.length-1],x=_?_.children.indexOf(g):void 0;return f(g,x,_)}}const q0={}.hasOwnProperty,yB={};function vB(n,e){const t=e||yB,r=new Map,o=new Map,u=new Map,f={...eB,...t.handlers},m={all:v,applyData:_B,definitionById:r,footnoteById:o,footnoteCounts:u,footnoteOrder:[],handlers:f,one:g,options:t,patch:bB,wrap:xB};return GA(n,function(_){if(_.type==="definition"||_.type==="footnoteDefinition"){const x=_.type==="definition"?r:o,T=String(_.identifier).toUpperCase();x.has(T)||x.set(T,_)}}),m;function g(_,x){const T=_.type,C=m.handlers[T];if(q0.call(m.handlers,T)&&C)return C(m,_,x);if(m.options.passThrough&&m.options.passThrough.includes(T)){if("children"in _){const{children:R,...I}=_,N=Gg(I);return N.children=m.all(_),N}return Gg(_)}return(m.options.unknownHandler||wB)(m,_,x)}function v(_){const x=[];if("children"in _){const T=_.children;let C=-1;for(;++C<T.length;){const L=m.one(T[C],_);if(L){if(C&&T[C-1].type==="break"&&(!Array.isArray(L)&&L.type==="text"&&(L.value=gE(L.value)),!Array.isArray(L)&&L.type==="element")){const R=L.children[0];R&&R.type==="text"&&(R.value=gE(R.value))}Array.isArray(L)?x.push(...L):x.push(L)}}}return x}}function bB(n,e){n.position&&(e.position=nF(n))}function _B(n,e){let t=e;if(n&&n.data){const r=n.data.hName,o=n.data.hChildren,u=n.data.hProperties;if(typeof r=="string")if(t.type==="element")t.tagName=r;else{const f="children"in t?t.children:[t];t={type:"element",tagName:r,properties:{},children:f}}t.type==="element"&&u&&Object.assign(t.properties,Gg(u)),"children"in t&&t.children&&o!==null&&o!==void 0&&(t.children=o)}return t}function wB(n,e){const t=e.data||{},r="value"in e&&!(q0.call(t,"hProperties")||q0.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function xB(n,e){const t=[];let r=-1;for(e&&t.push({type:"text",value:`
`});++r<n.length;)r&&t.push({type:"text",value:`
`}),t.push(n[r]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function gE(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function yE(n,e){const t=vB(n,e),r=t.one(n,void 0),o=oB(t),u=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&u.children.push({type:"text",value:`
`},o),u}function EB(n,e){return n&&"run"in n?async function(t,r){const o=yE(t,{file:r,...e});await n.run(o,r)}:function(t,r){return yE(t,{file:r,...n||e})}}function vE(n){if(n)throw n}var Kv,bE;function SB(){if(bE)return Kv;bE=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(v){return typeof Array.isArray=="function"?Array.isArray(v):e.call(v)==="[object Array]"},u=function(v){if(!v||e.call(v)!=="[object Object]")return!1;var _=n.call(v,"constructor"),x=v.constructor&&v.constructor.prototype&&n.call(v.constructor.prototype,"isPrototypeOf");if(v.constructor&&!_&&!x)return!1;var T;for(T in v);return typeof T>"u"||n.call(v,T)},f=function(v,_){t&&_.name==="__proto__"?t(v,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):v[_.name]=_.newValue},m=function(v,_){if(_==="__proto__")if(n.call(v,_)){if(r)return r(v,_).value}else return;return v[_]};return Kv=function g(){var v,_,x,T,C,L,R=arguments[0],I=1,N=arguments.length,P=!1;for(typeof R=="boolean"&&(P=R,R=arguments[1]||{},I=2),(R==null||typeof R!="object"&&typeof R!="function")&&(R={});I<N;++I)if(v=arguments[I],v!=null)for(_ in v)x=m(R,_),T=m(v,_),R!==T&&(P&&T&&(u(T)||(C=o(T)))?(C?(C=!1,L=x&&o(x)?x:[]):L=x&&u(x)?x:{},f(R,{name:_,newValue:g(P,L,T)})):typeof T<"u"&&f(R,{name:_,newValue:T}));return R},Kv}var TB=SB();const Qv=Bc(TB);function W0(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function CB(){const n=[],e={run:t,use:r};return e;function t(...o){let u=-1;const f=o.pop();if(typeof f!="function")throw new TypeError("Expected function as last argument, not "+f);m(null,...o);function m(g,...v){const _=n[++u];let x=-1;if(g){f(g);return}for(;++x<o.length;)(v[x]===null||v[x]===void 0)&&(v[x]=o[x]);o=v,_?AB(_,m)(...v):f(null,...v)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return n.push(o),e}}function AB(n,e){let t;return r;function r(...f){const m=n.length>f.length;let g;m&&f.push(o);try{g=n.apply(this,f)}catch(v){const _=v;if(m&&t)throw _;return o(_)}m||(g&&g.then&&typeof g.then=="function"?g.then(u,o):g instanceof Error?o(g):u(g))}function o(f,...m){t||(t=!0,e(f,...m))}function u(f){o(null,f)}}const fo={basename:kB,dirname:DB,extname:RB,join:IB,sep:"/"};function kB(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Fp(n);let t=0,r=-1,o=n.length,u;if(e===void 0||e.length===0||e.length>n.length){for(;o--;)if(n.codePointAt(o)===47){if(u){t=o+1;break}}else r<0&&(u=!0,r=o+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let f=-1,m=e.length-1;for(;o--;)if(n.codePointAt(o)===47){if(u){t=o+1;break}}else f<0&&(u=!0,f=o+1),m>-1&&(n.codePointAt(o)===e.codePointAt(m--)?m<0&&(r=o):(m=-1,r=f));return t===r?r=f:r<0&&(r=n.length),n.slice(t,r)}function DB(n){if(Fp(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.codePointAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function RB(n){Fp(n);let e=n.length,t=-1,r=0,o=-1,u=0,f;for(;e--;){const m=n.codePointAt(e);if(m===47){if(f){r=e+1;break}continue}t<0&&(f=!0,t=e+1),m===46?o<0?o=e:u!==1&&(u=1):o>-1&&(u=-1)}return o<0||t<0||u===0||u===1&&o===t-1&&o===r+1?"":n.slice(o,t)}function IB(...n){let e=-1,t;for(;++e<n.length;)Fp(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":NB(t)}function NB(n){Fp(n);const e=n.codePointAt(0)===47;let t=OB(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function OB(n,e){let t="",r=0,o=-1,u=0,f=-1,m,g;for(;++f<=n.length;){if(f<n.length)m=n.codePointAt(f);else{if(m===47)break;m=47}if(m===47){if(!(o===f-1||u===1))if(o!==f-1&&u===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(g=t.lastIndexOf("/"),g!==t.length-1){g<0?(t="",r=0):(t=t.slice(0,g),r=t.length-1-t.lastIndexOf("/")),o=f,u=0;continue}}else if(t.length>0){t="",r=0,o=f,u=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(o+1,f):t=n.slice(o+1,f),r=f-o-1;o=f,u=0}else m===46&&u>-1?u++:u=-1}return t}function Fp(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const MB={cwd:LB};function LB(){return"/"}function G0(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function PB(n){if(typeof n=="string")n=new URL(n);else if(!G0(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return FB(n)}function FB(n){if(n.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const r=e.codePointAt(t+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(e)}const $v=["history","path","basename","stem","extname","dirname"];class YA{constructor(e){let t;e?G0(e)?t={path:e}:typeof e=="string"||zB(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":MB.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<$v.length;){const u=$v[r];u in t&&t[u]!==void 0&&t[u]!==null&&(this[u]=u==="history"?[...t[u]]:t[u])}let o;for(o in t)$v.includes(o)||(this[o]=t[o])}get basename(){return typeof this.path=="string"?fo.basename(this.path):void 0}set basename(e){Zv(e,"basename"),Xv(e,"basename"),this.path=fo.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?fo.dirname(this.path):void 0}set dirname(e){_E(this.basename,"dirname"),this.path=fo.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?fo.extname(this.path):void 0}set extname(e){if(Xv(e,"extname"),_E(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=fo.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){G0(e)&&(e=PB(e)),Zv(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?fo.basename(this.path,this.extname):void 0}set stem(e){Zv(e,"stem"),Xv(e,"stem"),this.path=fo.join(this.dirname||"",e+(this.extname||""))}fail(e,t,r){const o=this.message(e,t,r);throw o.fatal=!0,o}info(e,t,r){const o=this.message(e,t,r);return o.fatal=void 0,o}message(e,t,r){const o=new Oi(e,t,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Xv(n,e){if(n&&n.includes(fo.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+fo.sep+"`")}function Zv(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function _E(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function zB(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const BB=(function(n){const r=this.constructor.prototype,o=r[n],u=function(){return o.apply(u,arguments)};return Object.setPrototypeOf(u,r),u}),UB={}.hasOwnProperty;class bb extends BB{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=CB()}copy(){const e=new bb;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];e.use(...r)}return e.data(Qv(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(t0("data",this.frozen),this.namespace[e]=t,this):UB.call(this.namespace,e)&&this.namespace[e]||void 0:e?(t0("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=t.call(e,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=ng(e),r=this.parser||this.Parser;return Jv("parse",r),r(String(t),t)}process(e,t){const r=this;return this.freeze(),Jv("process",this.parser||this.Parser),e0("process",this.compiler||this.Compiler),t?o(void 0,t):new Promise(o);function o(u,f){const m=ng(e),g=r.parse(m);r.run(g,m,function(_,x,T){if(_||!x||!T)return v(_);const C=x,L=r.stringify(C,T);HB(L)?T.value=L:T.result=L,v(_,T)});function v(_,x){_||!x?f(_):u?u(x):t(void 0,x)}}}processSync(e){let t=!1,r;return this.freeze(),Jv("processSync",this.parser||this.Parser),e0("processSync",this.compiler||this.Compiler),this.process(e,o),xE("processSync","process",t),r;function o(u,f){t=!0,vE(u),r=f}}run(e,t,r){wE(e),this.freeze();const o=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?u(void 0,r):new Promise(u);function u(f,m){const g=ng(t);o.run(e,g,v);function v(_,x,T){const C=x||e;_?m(_):f?f(C):r(void 0,C,T)}}}runSync(e,t){let r=!1,o;return this.run(e,t,u),xE("runSync","run",r),o;function u(f,m){vE(f),o=m,r=!0}}stringify(e,t){this.freeze();const r=ng(t),o=this.compiler||this.Compiler;return e0("stringify",o),wE(e),o(e,r)}use(e,...t){const r=this.attachers,o=this.namespace;if(t0("use",this.frozen),e!=null)if(typeof e=="function")g(e,t);else if(typeof e=="object")Array.isArray(e)?m(e):f(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function u(v){if(typeof v=="function")g(v,[]);else if(typeof v=="object")if(Array.isArray(v)){const[_,...x]=v;g(_,x)}else f(v);else throw new TypeError("Expected usable value, not `"+v+"`")}function f(v){if(!("plugins"in v)&&!("settings"in v))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");m(v.plugins),v.settings&&(o.settings=Qv(!0,o.settings,v.settings))}function m(v){let _=-1;if(v!=null)if(Array.isArray(v))for(;++_<v.length;){const x=v[_];u(x)}else throw new TypeError("Expected a list of plugins, not `"+v+"`")}function g(v,_){let x=-1,T=-1;for(;++x<r.length;)if(r[x][0]===v){T=x;break}if(T===-1)r.push([v,..._]);else if(_.length>0){let[C,...L]=_;const R=r[T][1];W0(R)&&W0(C)&&(C=Qv(!0,R,C)),r[T]=[v,C,...L]}}}}const VB=new bb().freeze();function Jv(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function e0(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function t0(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function wE(n){if(!W0(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function xE(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function ng(n){return jB(n)?n:new YA(n)}function jB(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function HB(n){return typeof n=="string"||qB(n)}function qB(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const WB="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",EE=[],SE={allowDangerousHtml:!0},GB=/^(https?|ircs?|mailto|xmpp)$/i,YB=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function KB(n){const e=QB(n),t=$B(n);return XB(e.runSync(e.parse(t),t),n)}function QB(n){const e=n.rehypePlugins||EE,t=n.remarkPlugins||EE,r=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...SE}:SE;return VB().use(kz).use(t).use(EB,r).use(e)}function $B(n){const e=n.children||"",t=new YA;return typeof e=="string"&&(t.value=e),t}function XB(n,e){const t=e.allowedElements,r=e.allowElement,o=e.components,u=e.disallowedElements,f=e.skipHtml,m=e.unwrapDisallowed,g=e.urlTransform||ZB;for(const _ of YB)Object.hasOwn(e,_.from)&&(""+_.from+(_.to?"use `"+_.to+"` instead":"remove it")+WB+_.id,void 0);return GA(n,v),oF(n,{Fragment:ye.Fragment,components:o,ignoreInvalidStyle:!0,jsx:ye.jsx,jsxs:ye.jsxs,passKeys:!0,passNode:!0});function v(_,x,T){if(_.type==="raw"&&T&&typeof x=="number")return f?T.children.splice(x,1):T.children[x]={type:"text",value:_.value},x;if(_.type==="element"){let C;for(C in Wv)if(Object.hasOwn(Wv,C)&&Object.hasOwn(_.properties,C)){const L=_.properties[C],R=Wv[C];(R===null||R.includes(_.tagName))&&(_.properties[C]=g(String(L||""),C,_))}}if(_.type==="element"){let C=t?!t.includes(_.tagName):u?u.includes(_.tagName):!1;if(!C&&r&&typeof x=="number"&&(C=!r(_,x,T)),C&&T&&typeof x=="number")return m&&_.children?T.children.splice(x,1,..._.children):T.children.splice(x,1),x}}}function ZB(n){const e=n.indexOf(":"),t=n.indexOf("?"),r=n.indexOf("#"),o=n.indexOf("/");return e===-1||o!==-1&&e>o||t!==-1&&e>t||r!==-1&&e>r||GB.test(n.slice(0,e))?n:""}var bg={exports:{}},JB=bg.exports,TE;function Ia(){return TE||(TE=1,(function(n,e){(function(t,r){n.exports=r()})(JB,(function(){var t=navigator.userAgent,r=navigator.platform,o=/gecko\/\d/i.test(t),u=/MSIE \d/.test(t),f=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),m=/Edge\/(\d+)/.exec(t),g=u||f||m,v=g&&(u?document.documentMode||6:+(m||f)[1]),_=!m&&/WebKit\//.test(t),x=_&&/Qt\/\d+\.\d+/.test(t),T=!m&&/Chrome\/(\d+)/.exec(t),C=T&&+T[1],L=/Opera\//.test(t),R=/Apple Computer/.test(navigator.vendor),I=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),N=/PhantomJS/.test(t),P=R&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),W=/Android/.test(t),re=P||W||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),te=P||/Mac/.test(r),ne=/\bCrOS\b/.test(t),B=/win/i.test(r),Q=L&&t.match(/Version\/(\d*\.\d*)/);Q&&(Q=Number(Q[1])),Q&&Q>=15&&(L=!1,_=!0);var q=te&&(x||L&&(Q==null||Q<12.11)),ae=o||g&&v>=9;function $(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var F=function(a,l){var d=a.className,h=$(l).exec(d);if(h){var y=d.slice(h.index+h[0].length);a.className=d.slice(0,h.index)+(y?h[1]+y:"")}};function Z(a){for(var l=a.childNodes.length;l>0;--l)a.removeChild(a.firstChild);return a}function U(a,l){return Z(a).appendChild(l)}function ee(a,l,d,h){var y=document.createElement(a);if(d&&(y.className=d),h&&(y.style.cssText=h),typeof l=="string")y.appendChild(document.createTextNode(l));else if(l)for(var E=0;E<l.length;++E)y.appendChild(l[E]);return y}function fe(a,l,d,h){var y=ee(a,l,d,h);return y.setAttribute("role","presentation"),y}var he;document.createRange?he=function(a,l,d,h){var y=document.createRange();return y.setEnd(h||a,d),y.setStart(a,l),y}:he=function(a,l,d){var h=document.body.createTextRange();try{h.moveToElementText(a.parentNode)}catch{return h}return h.collapse(!0),h.moveEnd("character",d),h.moveStart("character",l),h};function Pe(a,l){if(l.nodeType==3&&(l=l.parentNode),a.contains)return a.contains(l);do if(l.nodeType==11&&(l=l.host),l==a)return!0;while(l=l.parentNode)}function Fe(a){var l=a.ownerDocument||a,d;try{d=a.activeElement}catch{d=l.body||null}for(;d&&d.shadowRoot&&d.shadowRoot.activeElement;)d=d.shadowRoot.activeElement;return d}function le(a,l){var d=a.className;$(l).test(d)||(a.className+=(d?" ":"")+l)}function se(a,l){for(var d=a.split(" "),h=0;h<d.length;h++)d[h]&&!$(d[h]).test(l)&&(l+=" "+d[h]);return l}var H=function(a){a.select()};P?H=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:g&&(H=function(a){try{a.select()}catch{}});function A(a){return a.display.wrapper.ownerDocument}function ge(a){return Ue(a.display.wrapper)}function Ue(a){return a.getRootNode?a.getRootNode():a.ownerDocument}function $e(a){return A(a).defaultView}function gt(a){var l=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,l)}}function ht(a,l,d){l||(l={});for(var h in a)a.hasOwnProperty(h)&&(d!==!1||!l.hasOwnProperty(h))&&(l[h]=a[h]);return l}function dt(a,l,d,h,y){l==null&&(l=a.search(/[^\s\u00a0]/),l==-1&&(l=a.length));for(var E=h||0,k=y||0;;){var M=a.indexOf("	",E);if(M<0||M>=l)return k+(l-E);k+=M-E,k+=d-k%d,E=M+1}}var At=function(){this.id=null,this.f=null,this.time=0,this.handler=gt(this.onTimeout,this)};At.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},At.prototype.set=function(a,l){this.f=l;var d=+new Date+a;(!this.id||d<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=d)};function _t(a,l){for(var d=0;d<a.length;++d)if(a[d]==l)return d;return-1}var Pt=50,Ht={toString:function(){return"CodeMirror.Pass"}},K={scroll:!1},ze={origin:"*mouse"},He={origin:"+move"};function be(a,l,d){for(var h=0,y=0;;){var E=a.indexOf("	",h);E==-1&&(E=a.length);var k=E-h;if(E==a.length||y+k>=l)return h+Math.min(k,l-y);if(y+=E-h,y+=d-y%d,h=E+1,y>=l)return h}}var pe=[""];function ke(a){for(;pe.length<=a;)pe.push(Me(pe)+" ");return pe[a]}function Me(a){return a[a.length-1]}function Xe(a,l){for(var d=[],h=0;h<a.length;h++)d[h]=l(a[h],h);return d}function Ve(a,l,d){for(var h=0,y=d(l);h<a.length&&d(a[h])<=y;)h++;a.splice(h,0,l)}function lt(){}function Ee(a,l){var d;return Object.create?d=Object.create(a):(lt.prototype=a,d=new lt),l&&ht(l,d),d}var we=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ie(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||we.test(a))}function j(a,l){return l?l.source.indexOf("\\w")>-1&&ie(a)?!0:l.test(a):ie(a)}function G(a){for(var l in a)if(a.hasOwnProperty(l)&&a[l])return!1;return!0}var ve=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function D(a){return a.charCodeAt(0)>=768&&ve.test(a)}function Y(a,l,d){for(;(d<0?l>0:l<a.length)&&D(a.charAt(l));)l+=d;return l}function ce(a,l,d){for(var h=l>d?-1:1;;){if(l==d)return l;var y=(l+d)/2,E=h<0?Math.ceil(y):Math.floor(y);if(E==l)return a(E)?l:d;a(E)?d=E:l=E+h}}function me(a,l,d,h){if(!a)return h(l,d,"ltr",0);for(var y=!1,E=0;E<a.length;++E){var k=a[E];(k.from<d&&k.to>l||l==d&&k.to==l)&&(h(Math.max(k.from,l),Math.min(k.to,d),k.level==1?"rtl":"ltr",E),y=!0)}y||h(l,d,"ltr")}var Se=null;function Ie(a,l,d){var h;Se=null;for(var y=0;y<a.length;++y){var E=a[y];if(E.from<l&&E.to>l)return y;E.to==l&&(E.from!=E.to&&d=="before"?h=y:Se=y),E.from==l&&(E.from!=E.to&&d!="before"?h=y:Se=y)}return h??Se}var xe=(function(){var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",l="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function d(J){return J<=247?a.charAt(J):1424<=J&&J<=1524?"R":1536<=J&&J<=1785?l.charAt(J-1536):1774<=J&&J<=2220?"r":8192<=J&&J<=8203?"w":J==8204?"b":"L"}var h=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,y=/[stwN]/,E=/[LRr]/,k=/[Lb1n]/,M=/[1n]/;function z(J,de,_e){this.level=J,this.from=de,this.to=_e}return function(J,de){var _e=de=="ltr"?"L":"R";if(J.length==0||de=="ltr"&&!h.test(J))return!1;for(var Le=J.length,Re=[],Ye=0;Ye<Le;++Ye)Re.push(d(J.charCodeAt(Ye)));for(var tt=0,ct=_e;tt<Le;++tt){var pt=Re[tt];pt=="m"?Re[tt]=ct:ct=pt}for(var yt=0,it=_e;yt<Le;++yt){var wt=Re[yt];wt=="1"&&it=="r"?Re[yt]="n":E.test(wt)&&(it=wt,wt=="r"&&(Re[yt]="R"))}for(var It=1,Ct=Re[0];It<Le-1;++It){var Ut=Re[It];Ut=="+"&&Ct=="1"&&Re[It+1]=="1"?Re[It]="1":Ut==","&&Ct==Re[It+1]&&(Ct=="1"||Ct=="n")&&(Re[It]=Ct),Ct=Ut}for(var rn=0;rn<Le;++rn){var yr=Re[rn];if(yr==",")Re[rn]="N";else if(yr=="%"){var jn=void 0;for(jn=rn+1;jn<Le&&Re[jn]=="%";++jn);for(var Pr=rn&&Re[rn-1]=="!"||jn<Le&&Re[jn]=="1"?"1":"N",Gn=rn;Gn<jn;++Gn)Re[Gn]=Pr;rn=jn-1}}for(var ir=0,Gr=_e;ir<Le;++ir){var xr=Re[ir];Gr=="L"&&xr=="1"?Re[ir]="L":E.test(xr)&&(Gr=xr)}for(var ar=0;ar<Le;++ar)if(y.test(Re[ar])){var Xn=void 0;for(Xn=ar+1;Xn<Le&&y.test(Re[Xn]);++Xn);for(var Fn=(ar?Re[ar-1]:_e)=="L",Jr=(Xn<Le?Re[Xn]:_e)=="L",Ci=Fn==Jr?Fn?"L":"R":_e,Dn=ar;Dn<Xn;++Dn)Re[Dn]=Ci;ar=Xn-1}for(var Er=[],_a,en=0;en<Le;)if(k.test(Re[en])){var bd=en;for(++en;en<Le&&k.test(Re[en]);++en);Er.push(new z(0,bd,en))}else{var ns=en,uo=Er.length,_n=de=="rtl"?1:0;for(++en;en<Le&&Re[en]!="L";++en);for(var En=ns;En<en;)if(M.test(Re[En])){ns<En&&(Er.splice(uo,0,new z(1,ns,En)),uo+=_n);var Ai=En;for(++En;En<en&&M.test(Re[En]);++En);Er.splice(uo,0,new z(2,Ai,En)),uo+=_n,ns=En}else++En;ns<en&&Er.splice(uo,0,new z(1,ns,en))}return de=="ltr"&&(Er[0].level==1&&(_a=J.match(/^\s+/))&&(Er[0].from=_a[0].length,Er.unshift(new z(0,0,_a[0].length))),Me(Er).level==1&&(_a=J.match(/\s+$/))&&(Me(Er).to-=_a[0].length,Er.push(new z(0,Le-_a[0].length,Le)))),de=="rtl"?Er.reverse():Er}})();function Te(a,l){var d=a.order;return d==null&&(d=a.order=xe(a.text,l)),d}var Oe=[],De=function(a,l,d){if(a.addEventListener)a.addEventListener(l,d,!1);else if(a.attachEvent)a.attachEvent("on"+l,d);else{var h=a._handlers||(a._handlers={});h[l]=(h[l]||Oe).concat(d)}};function ut(a,l){return a._handlers&&a._handlers[l]||Oe}function vt(a,l,d){if(a.removeEventListener)a.removeEventListener(l,d,!1);else if(a.detachEvent)a.detachEvent("on"+l,d);else{var h=a._handlers,y=h&&h[l];if(y){var E=_t(y,d);E>-1&&(h[l]=y.slice(0,E).concat(y.slice(E+1)))}}}function ft(a,l){var d=ut(a,l);if(d.length)for(var h=Array.prototype.slice.call(arguments,2),y=0;y<d.length;++y)d[y].apply(null,h)}function at(a,l,d){return typeof l=="string"&&(l={type:l,preventDefault:function(){this.defaultPrevented=!0}}),ft(a,d||l.type,a,l),on(l)||l.codemirrorIgnore}function kt(a){var l=a._handlers&&a._handlers.cursorActivity;if(l)for(var d=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),h=0;h<l.length;++h)_t(d,l[h])==-1&&d.push(l[h])}function Rt(a,l){return ut(a,l).length>0}function zt(a){a.prototype.on=function(l,d){De(this,l,d)},a.prototype.off=function(l,d){vt(this,l,d)}}function Nt(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Xt(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function on(a){return a.defaultPrevented!=null?a.defaultPrevented:a.returnValue==!1}function $n(a){Nt(a),Xt(a)}function Jn(a){return a.target||a.srcElement}function or(a){var l=a.which;return l==null&&(a.button&1?l=1:a.button&2?l=3:a.button&4&&(l=2)),te&&a.ctrlKey&&l==1&&(l=3),l}var Na=(function(){if(g&&v<9)return!1;var a=ee("div");return"draggable"in a||"dragDrop"in a})(),Gi;function Yi(a){if(Gi==null){var l=ee("span","");U(a,ee("span",[l,document.createTextNode("x")])),a.firstChild.offsetHeight!=0&&(Gi=l.offsetWidth<=1&&l.offsetHeight>2&&!(g&&v<8))}var d=Gi?ee("span",""):ee("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return d.setAttribute("cm-text",""),d}var js;function ti(a){if(js!=null)return js;var l=U(a,document.createTextNode("AA")),d=he(l,0,1).getBoundingClientRect(),h=he(l,1,2).getBoundingClientRect();return Z(a),!d||d.left==d.right?!1:js=h.right-d.right<3}var ni=`

b`.split(/\n/).length!=3?function(a){for(var l=0,d=[],h=a.length;l<=h;){var y=a.indexOf(`
`,l);y==-1&&(y=a.length);var E=a.slice(l,a.charAt(y-1)=="\r"?y-1:y),k=E.indexOf("\r");k!=-1?(d.push(E.slice(0,k)),l+=k+1):(d.push(E),l=y+1)}return d}:function(a){return a.split(/\r\n?|\n/)},er=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var l;try{l=a.ownerDocument.selection.createRange()}catch{}return!l||l.parentElement()!=a?!1:l.compareEndPoints("StartToEnd",l)!=0},tn=(function(){var a=ee("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),typeof a.oncopy=="function")})(),_r=null;function Qr(a){if(_r!=null)return _r;var l=U(a,ee("span","x")),d=l.getBoundingClientRect(),h=he(l,0,1).getBoundingClientRect();return _r=Math.abs(d.left-h.left)>1}var ri={},jr={};function Oa(a,l){arguments.length>2&&(l.dependencies=Array.prototype.slice.call(arguments,2)),ri[a]=l}function Mi(a,l){jr[a]=l}function fa(a){if(typeof a=="string"&&jr.hasOwnProperty(a))a=jr[a];else if(a&&typeof a.name=="string"&&jr.hasOwnProperty(a.name)){var l=jr[a.name];typeof l=="string"&&(l={name:l}),a=Ee(l,a),a.name=l.name}else{if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return fa("application/xml");if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return fa("application/json")}return typeof a=="string"?{name:a}:a||{name:"null"}}function ii(a,l){l=fa(l);var d=ri[l.name];if(!d)return ii(a,"text/plain");var h=d(a,l);if(Hr.hasOwnProperty(l.name)){var y=Hr[l.name];for(var E in y)y.hasOwnProperty(E)&&(h.hasOwnProperty(E)&&(h["_"+E]=h[E]),h[E]=y[E])}if(h.name=l.name,l.helperType&&(h.helperType=l.helperType),l.modeProps)for(var k in l.modeProps)h[k]=l.modeProps[k];return h}var Hr={};function Li(a,l){var d=Hr.hasOwnProperty(a)?Hr[a]:Hr[a]={};ht(l,d)}function $r(a,l){if(l===!0)return l;if(a.copyState)return a.copyState(l);var d={};for(var h in l){var y=l[h];y instanceof Array&&(y=y.concat([])),d[h]=y}return d}function tr(a,l){for(var d;a.innerMode&&(d=a.innerMode(l),!(!d||d.mode==a));)l=d.state,a=d.mode;return d||{mode:a,state:l}}function bl(a,l,d){return a.startState?a.startState(l,d):!0}var Un=function(a,l,d){this.pos=this.start=0,this.string=a,this.tabSize=l||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=d};Un.prototype.eol=function(){return this.pos>=this.string.length},Un.prototype.sol=function(){return this.pos==this.lineStart},Un.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Un.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Un.prototype.eat=function(a){var l=this.string.charAt(this.pos),d;if(typeof a=="string"?d=l==a:d=l&&(a.test?a.test(l):a(l)),d)return++this.pos,l},Un.prototype.eatWhile=function(a){for(var l=this.pos;this.eat(a););return this.pos>l},Un.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},Un.prototype.skipToEnd=function(){this.pos=this.string.length},Un.prototype.skipTo=function(a){var l=this.string.indexOf(a,this.pos);if(l>-1)return this.pos=l,!0},Un.prototype.backUp=function(a){this.pos-=a},Un.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=dt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?dt(this.string,this.lineStart,this.tabSize):0)},Un.prototype.indentation=function(){return dt(this.string,null,this.tabSize)-(this.lineStart?dt(this.string,this.lineStart,this.tabSize):0)},Un.prototype.match=function(a,l,d){if(typeof a=="string"){var h=function(k){return d?k.toLowerCase():k},y=this.string.substr(this.pos,a.length);if(h(y)==h(a))return l!==!1&&(this.pos+=a.length),!0}else{var E=this.string.slice(this.pos).match(a);return E&&E.index>0?null:(E&&l!==!1&&(this.pos+=E[0].length),E)}},Un.prototype.current=function(){return this.string.slice(this.start,this.pos)},Un.prototype.hideFirstChars=function(a,l){this.lineStart+=a;try{return l()}finally{this.lineStart-=a}},Un.prototype.lookAhead=function(a){var l=this.lineOracle;return l&&l.lookAhead(a)},Un.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};function xt(a,l){if(l-=a.first,l<0||l>=a.size)throw new Error("There is no line "+(l+a.first)+" in the document.");for(var d=a;!d.lines;)for(var h=0;;++h){var y=d.children[h],E=y.chunkSize();if(l<E){d=y;break}l-=E}return d.lines[l]}function Xr(a,l,d){var h=[],y=l.line;return a.iter(l.line,d.line+1,function(E){var k=E.text;y==d.line&&(k=k.slice(0,d.ch)),y==l.line&&(k=k.slice(l.ch)),h.push(k),++y}),h}function Co(a,l,d){var h=[];return a.iter(l,d,function(y){h.push(y.text)}),h}function gi(a,l){var d=l-a.height;if(d)for(var h=a;h;h=h.parent)h.height+=d}function ln(a){if(a.parent==null)return null;for(var l=a.parent,d=_t(l.lines,a),h=l.parent;h;l=h,h=h.parent)for(var y=0;h.children[y]!=l;++y)d+=h.children[y].chunkSize();return d+l.first}function Ma(a,l){var d=a.first;e:do{for(var h=0;h<a.children.length;++h){var y=a.children[h],E=y.height;if(l<E){a=y;continue e}l-=E,d+=y.chunkSize()}return d}while(!a.lines);for(var k=0;k<a.lines.length;++k){var M=a.lines[k],z=M.height;if(l<z)break;l-=z}return d+k}function La(a,l){return l>=a.first&&l<a.first+a.size}function ai(a,l){return String(a.lineNumberFormatter(l+a.firstLineNumber))}function et(a,l,d){if(d===void 0&&(d=null),!(this instanceof et))return new et(a,l,d);this.line=a,this.ch=l,this.sticky=d}function St(a,l){return a.line-l.line||a.ch-l.ch}function Pa(a,l){return a.sticky==l.sticky&&St(a,l)==0}function Ao(a){return et(a.line,a.ch)}function pn(a,l){return St(a,l)<0?l:a}function Fa(a,l){return St(a,l)<0?a:l}function ha(a,l){return Math.max(a.first,Math.min(l,a.first+a.size-1))}function Mt(a,l){if(l.line<a.first)return et(a.first,0);var d=a.first+a.size-1;return l.line>d?et(d,xt(a,d).text.length):yi(l,xt(a,l.line).text.length)}function yi(a,l){var d=a.ch;return d==null||d>l?et(a.line,l):d<0?et(a.line,0):a}function ko(a,l){for(var d=[],h=0;h<l.length;h++)d[h]=Mt(a,l[h]);return d}var Do=function(a,l){this.state=a,this.lookAhead=l},vi=function(a,l,d,h){this.state=l,this.doc=a,this.line=d,this.maxLookAhead=h||0,this.baseTokens=null,this.baseTokenPos=1};vi.prototype.lookAhead=function(a){var l=this.doc.getLine(this.line+a);return l!=null&&a>this.maxLookAhead&&(this.maxLookAhead=a),l},vi.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var l=this.baseTokens[this.baseTokenPos+1];return{type:l&&l.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},vi.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},vi.fromSaved=function(a,l,d){return l instanceof Do?new vi(a,$r(a.mode,l.state),d,l.lookAhead):new vi(a,$r(a.mode,l),d)},vi.prototype.save=function(a){var l=a!==!1?$r(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Do(l,this.maxLookAhead):l};function us(a,l,d,h){var y=[a.state.modeGen],E={};cs(a,l.text,a.doc.mode,d,function(J,de){return y.push(J,de)},E,h);for(var k=d.state,M=function(J){d.baseTokens=y;var de=a.state.overlays[J],_e=1,Le=0;d.state=!0,cs(a,l.text,de.mode,d,function(Re,Ye){for(var tt=_e;Le<Re;){var ct=y[_e];ct>Re&&y.splice(_e,1,Re,y[_e+1],ct),_e+=2,Le=Math.min(Re,ct)}if(Ye)if(de.opaque)y.splice(tt,_e-tt,Re,"overlay "+Ye),_e=tt+2;else for(;tt<_e;tt+=2){var pt=y[tt+1];y[tt+1]=(pt?pt+" ":"")+"overlay "+Ye}},E),d.state=k,d.baseTokens=null,d.baseTokenPos=1},z=0;z<a.state.overlays.length;++z)M(z);return{styles:y,classes:E.bgClass||E.textClass?E:null}}function Hu(a,l,d){if(!l.styles||l.styles[0]!=a.state.modeGen){var h=Ki(a,ln(l)),y=l.text.length>a.options.maxHighlightLength&&$r(a.doc.mode,h.state),E=us(a,l,h);y&&(h.state=y),l.stateAfter=h.save(!y),l.styles=E.styles,E.classes?l.styleClasses=E.classes:l.styleClasses&&(l.styleClasses=null),d===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return l.styles}function Ki(a,l,d){var h=a.doc,y=a.display;if(!h.mode.startState)return new vi(h,!0,l);var E=wl(a,l,d),k=E>h.first&&xt(h,E-1).stateAfter,M=k?vi.fromSaved(h,k,E):new vi(h,bl(h.mode),E);return h.iter(E,l,function(z){Zr(a,z.text,M);var J=M.line;z.stateAfter=J==l-1||J%5==0||J>=y.viewFrom&&J<y.viewTo?M.save():null,M.nextLine()}),d&&(h.modeFrontier=M.line),M}function Zr(a,l,d,h){var y=a.doc.mode,E=new Un(l,a.options.tabSize,d);for(E.start=E.pos=h||0,l==""&&qu(y,d.state);!E.eol();)Ro(y,E,d.state),E.start=E.pos}function qu(a,l){if(a.blankLine)return a.blankLine(l);if(a.innerMode){var d=tr(a,l);if(d.mode.blankLine)return d.mode.blankLine(d.state)}}function Ro(a,l,d,h){for(var y=0;y<10;y++){h&&(h[0]=tr(a,d).mode);var E=a.token(l,d);if(l.pos>l.start)return E}throw new Error("Mode "+a.name+" failed to advance stream.")}var _l=function(a,l,d){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=l||null,this.state=d};function Io(a,l,d,h){var y=a.doc,E=y.mode,k;l=Mt(y,l);var M=xt(y,l.line),z=Ki(a,l.line,d),J=new Un(M.text,a.options.tabSize,z),de;for(h&&(de=[]);(h||J.pos<l.ch)&&!J.eol();)J.start=J.pos,k=Ro(E,J,z.state),h&&de.push(new _l(J,k,$r(y.mode,z.state)));return h?de:new _l(J,k,z.state)}function Wu(a,l){if(a)for(;;){var d=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!d)break;a=a.slice(0,d.index)+a.slice(d.index+d[0].length);var h=d[1]?"bgClass":"textClass";l[h]==null?l[h]=d[2]:new RegExp("(?:^|\\s)"+d[2]+"(?:$|\\s)").test(l[h])||(l[h]+=" "+d[2])}return a}function cs(a,l,d,h,y,E,k){var M=d.flattenSpans;M==null&&(M=a.options.flattenSpans);var z=0,J=null,de=new Un(l,a.options.tabSize,h),_e,Le=a.options.addModeClass&&[null];for(l==""&&Wu(qu(d,h.state),E);!de.eol();){if(de.pos>a.options.maxHighlightLength?(M=!1,k&&Zr(a,l,h,de.pos),de.pos=l.length,_e=null):_e=Wu(Ro(d,de,h.state,Le),E),Le){var Re=Le[0].name;Re&&(_e="m-"+(_e?Re+" "+_e:Re))}if(!M||J!=_e){for(;z<de.start;)z=Math.min(de.start,z+5e3),y(z,J);J=_e}de.start=de.pos}for(;z<de.pos;){var Ye=Math.min(de.pos,z+5e3);y(Ye,J),z=Ye}}function wl(a,l,d){for(var h,y,E=a.doc,k=d?-1:l-(a.doc.mode.innerMode?1e3:100),M=l;M>k;--M){if(M<=E.first)return E.first;var z=xt(E,M-1),J=z.stateAfter;if(J&&(!d||M+(J instanceof Do?J.lookAhead:0)<=E.modeFrontier))return M;var de=dt(z.text,null,a.options.tabSize);(y==null||h>de)&&(y=M-1,h=de)}return y}function da(a,l){if(a.modeFrontier=Math.min(a.modeFrontier,l),!(a.highlightFrontier<l-10)){for(var d=a.first,h=l-1;h>d;h--){var y=xt(a,h).stateAfter;if(y&&(!(y instanceof Do)||h+y.lookAhead<l)){d=h+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,d)}}var xl=!1,mr=!1;function Hs(){xl=!0}function za(){mr=!0}function Ba(a,l,d){this.marker=a,this.from=l,this.to=d}function Ua(a,l){if(a)for(var d=0;d<a.length;++d){var h=a[d];if(h.marker==l)return h}}function qs(a,l){for(var d,h=0;h<a.length;++h)a[h]!=l&&(d||(d=[])).push(a[h]);return d}function pa(a,l,d){var h=d&&window.WeakSet&&(d.markedSpans||(d.markedSpans=new WeakSet));h&&a.markedSpans&&h.has(a.markedSpans)?a.markedSpans.push(l):(a.markedSpans=a.markedSpans?a.markedSpans.concat([l]):[l],h&&h.add(a.markedSpans)),l.marker.attachLine(a)}function Qi(a,l,d){var h;if(a)for(var y=0;y<a.length;++y){var E=a[y],k=E.marker,M=E.from==null||(k.inclusiveLeft?E.from<=l:E.from<l);if(M||E.from==l&&k.type=="bookmark"&&(!d||!E.marker.insertLeft)){var z=E.to==null||(k.inclusiveRight?E.to>=l:E.to>l);(h||(h=[])).push(new Ba(k,E.from,z?null:E.to))}}return h}function No(a,l,d){var h;if(a)for(var y=0;y<a.length;++y){var E=a[y],k=E.marker,M=E.to==null||(k.inclusiveRight?E.to>=l:E.to>l);if(M||E.from==l&&k.type=="bookmark"&&(!d||E.marker.insertLeft)){var z=E.from==null||(k.inclusiveLeft?E.from<=l:E.from<l);(h||(h=[])).push(new Ba(k,z?null:E.from-l,E.to==null?null:E.to-l))}}return h}function bn(a,l){if(l.full)return null;var d=La(a,l.from.line)&&xt(a,l.from.line).markedSpans,h=La(a,l.to.line)&&xt(a,l.to.line).markedSpans;if(!d&&!h)return null;var y=l.from.ch,E=l.to.ch,k=St(l.from,l.to)==0,M=Qi(d,y,k),z=No(h,E,k),J=l.text.length==1,de=Me(l.text).length+(J?y:0);if(M)for(var _e=0;_e<M.length;++_e){var Le=M[_e];if(Le.to==null){var Re=Ua(z,Le.marker);Re?J&&(Le.to=Re.to==null?null:Re.to+de):Le.to=y}}if(z)for(var Ye=0;Ye<z.length;++Ye){var tt=z[Ye];if(tt.to!=null&&(tt.to+=de),tt.from==null){var ct=Ua(M,tt.marker);ct||(tt.from=de,J&&(M||(M=[])).push(tt))}else tt.from+=de,J&&(M||(M=[])).push(tt)}M&&(M=ma(M)),z&&z!=M&&(z=ma(z));var pt=[M];if(!J){var yt=l.text.length-2,it;if(yt>0&&M)for(var wt=0;wt<M.length;++wt)M[wt].to==null&&(it||(it=[])).push(new Ba(M[wt].marker,null,null));for(var It=0;It<yt;++It)pt.push(it);pt.push(z)}return pt}function ma(a){for(var l=0;l<a.length;++l){var d=a[l];d.from!=null&&d.from==d.to&&d.marker.clearWhenEmpty!==!1&&a.splice(l--,1)}return a.length?a:null}function Gu(a,l,d){var h=null;if(a.iter(l.line,d.line+1,function(Re){if(Re.markedSpans)for(var Ye=0;Ye<Re.markedSpans.length;++Ye){var tt=Re.markedSpans[Ye].marker;tt.readOnly&&(!h||_t(h,tt)==-1)&&(h||(h=[])).push(tt)}}),!h)return null;for(var y=[{from:l,to:d}],E=0;E<h.length;++E)for(var k=h[E],M=k.find(0),z=0;z<y.length;++z){var J=y[z];if(!(St(J.to,M.from)<0||St(J.from,M.to)>0)){var de=[z,1],_e=St(J.from,M.from),Le=St(J.to,M.to);(_e<0||!k.inclusiveLeft&&!_e)&&de.push({from:J.from,to:M.from}),(Le>0||!k.inclusiveRight&&!Le)&&de.push({from:M.to,to:J.to}),y.splice.apply(y,de),z+=de.length-3}}return y}function Ws(a){var l=a.markedSpans;if(l){for(var d=0;d<l.length;++d)l[d].marker.detachLine(a);a.markedSpans=null}}function El(a,l){if(l){for(var d=0;d<l.length;++d)l[d].marker.attachLine(a);a.markedSpans=l}}function Va(a){return a.inclusiveLeft?-1:0}function $i(a){return a.inclusiveRight?1:0}function Pi(a,l){var d=a.lines.length-l.lines.length;if(d!=0)return d;var h=a.find(),y=l.find(),E=St(h.from,y.from)||Va(a)-Va(l);if(E)return-E;var k=St(h.to,y.to)||$i(a)-$i(l);return k||l.id-a.id}function Dr(a,l){var d=mr&&a.markedSpans,h;if(d)for(var y=void 0,E=0;E<d.length;++E)y=d[E],y.marker.collapsed&&(l?y.from:y.to)==null&&(!h||Pi(h,y.marker)<0)&&(h=y.marker);return h}function ja(a){return Dr(a,!0)}function Fi(a){return Dr(a,!1)}function Gs(a,l){var d=mr&&a.markedSpans,h;if(d)for(var y=0;y<d.length;++y){var E=d[y];E.marker.collapsed&&(E.from==null||E.from<l)&&(E.to==null||E.to>l)&&(!h||Pi(h,E.marker)<0)&&(h=E.marker)}return h}function Sl(a,l,d,h,y){var E=xt(a,l),k=mr&&E.markedSpans;if(k)for(var M=0;M<k.length;++M){var z=k[M];if(z.marker.collapsed){var J=z.marker.find(0),de=St(J.from,d)||Va(z.marker)-Va(y),_e=St(J.to,h)||$i(z.marker)-$i(y);if(!(de>=0&&_e<=0||de<=0&&_e>=0)&&(de<=0&&(z.marker.inclusiveRight&&y.inclusiveLeft?St(J.to,d)>=0:St(J.to,d)>0)||de>=0&&(z.marker.inclusiveRight&&y.inclusiveLeft?St(J.from,h)<=0:St(J.from,h)<0)))return!0}}}function Rr(a){for(var l;l=ja(a);)a=l.find(-1,!0).line;return a}function Tl(a){for(var l;l=Fi(a);)a=l.find(1,!0).line;return a}function Ha(a){for(var l,d;l=Fi(a);)a=l.find(1,!0).line,(d||(d=[])).push(a);return d}function Ys(a,l){var d=xt(a,l),h=Rr(d);return d==h?l:ln(h)}function Cl(a,l){if(l>a.lastLine())return l;var d=xt(a,l),h;if(!bi(a,d))return l;for(;h=Fi(d);)d=h.find(1,!0).line;return ln(d)+1}function bi(a,l){var d=mr&&l.markedSpans;if(d){for(var h=void 0,y=0;y<d.length;++y)if(h=d[y],!!h.marker.collapsed){if(h.from==null)return!0;if(!h.marker.widgetNode&&h.from==0&&h.marker.inclusiveLeft&&Al(a,l,h))return!0}}}function Al(a,l,d){if(d.to==null){var h=d.marker.find(1,!0);return Al(a,h.line,Ua(h.line.markedSpans,d.marker))}if(d.marker.inclusiveRight&&d.to==l.text.length)return!0;for(var y=void 0,E=0;E<l.markedSpans.length;++E)if(y=l.markedSpans[E],y.marker.collapsed&&!y.marker.widgetNode&&y.from==d.to&&(y.to==null||y.to!=d.from)&&(y.marker.inclusiveLeft||d.marker.inclusiveRight)&&Al(a,l,y))return!0}function Xi(a){a=Rr(a);for(var l=0,d=a.parent,h=0;h<d.lines.length;++h){var y=d.lines[h];if(y==a)break;l+=y.height}for(var E=d.parent;E;d=E,E=d.parent)for(var k=0;k<E.children.length;++k){var M=E.children[k];if(M==d)break;l+=M.height}return l}function qa(a){if(a.height==0)return 0;for(var l=a.text.length,d,h=a;d=ja(h);){var y=d.find(0,!0);h=y.from.line,l+=y.from.ch-y.to.ch}for(h=a;d=Fi(h);){var E=d.find(0,!0);l-=h.text.length-E.from.ch,h=E.to.line,l+=h.text.length-E.to.ch}return l}function Oo(a){var l=a.display,d=a.doc;l.maxLine=xt(d,d.first),l.maxLineLength=qa(l.maxLine),l.maxLineChanged=!0,d.iter(function(h){var y=qa(h);y>l.maxLineLength&&(l.maxLineLength=y,l.maxLine=h)})}var fs=function(a,l,d){this.text=a,El(this,l),this.height=d?d(this):1};fs.prototype.lineNo=function(){return ln(this)},zt(fs);function kl(a,l,d,h){a.text=l,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),a.order!=null&&(a.order=null),Ws(a),El(a,d);var y=h?h(a):1;y!=a.height&&gi(a,y)}function Wc(a){a.parent=null,Ws(a)}var Gc={},Wa={};function Yu(a,l){if(!a||/^\s*$/.test(a))return null;var d=l.addModeClass?Wa:Gc;return d[a]||(d[a]=a.replace(/\S+/g,"cm-$&"))}function Ku(a,l){var d=fe("span",null,null,_?"padding-right: .1px":null),h={pre:fe("pre",[d],"CodeMirror-line"),content:d,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};l.measure={};for(var y=0;y<=(l.rest?l.rest.length:0);y++){var E=y?l.rest[y-1]:l.line,k=void 0;h.pos=0,h.addToken=Kc,ti(a.display.measure)&&(k=Te(E,a.doc.direction))&&(h.addToken=si(h.addToken,k)),h.map=[];var M=l!=a.display.externalMeasured&&ln(E);Qc(E,h,Hu(a,E,M)),E.styleClasses&&(E.styleClasses.bgClass&&(h.bgClass=se(E.styleClasses.bgClass,h.bgClass||"")),E.styleClasses.textClass&&(h.textClass=se(E.styleClasses.textClass,h.textClass||""))),h.map.length==0&&h.map.push(0,0,h.content.appendChild(Yi(a.display.measure))),y==0?(l.measure.map=h.map,l.measure.cache={}):((l.measure.maps||(l.measure.maps=[])).push(h.map),(l.measure.caches||(l.measure.caches=[])).push({}))}if(_){var z=h.content.lastChild;(/\bcm-tab\b/.test(z.className)||z.querySelector&&z.querySelector(".cm-tab"))&&(h.content.className="cm-tab-wrap-hack")}return ft(a,"renderLine",a,l.line,h.pre),h.pre.className&&(h.textClass=se(h.pre.className,h.textClass||"")),h}function Yc(a){var l=ee("span","","cm-invalidchar");return l.title="\\u"+a.charCodeAt(0).toString(16),l.setAttribute("aria-label",l.title),l}function Kc(a,l,d,h,y,E,k){if(l){var M=a.splitSpaces?Ks(l,a.trailingSpace):l,z=a.cm.state.specialChars,J=!1,de;if(!z.test(l))a.col+=l.length,de=document.createTextNode(M),a.map.push(a.pos,a.pos+l.length,de),g&&v<9&&(J=!0),a.pos+=l.length;else{de=document.createDocumentFragment();for(var _e=0;;){z.lastIndex=_e;var Le=z.exec(l),Re=Le?Le.index-_e:l.length-_e;if(Re){var Ye=document.createTextNode(M.slice(_e,_e+Re));g&&v<9?de.appendChild(ee("span",[Ye])):de.appendChild(Ye),a.map.push(a.pos,a.pos+Re,Ye),a.col+=Re,a.pos+=Re}if(!Le)break;_e+=Re+1;var tt=void 0;if(Le[0]=="	"){var ct=a.cm.options.tabSize,pt=ct-a.col%ct;tt=de.appendChild(ee("span",ke(pt),"cm-tab")),tt.setAttribute("role","presentation"),tt.setAttribute("cm-text","	"),a.col+=pt}else Le[0]=="\r"||Le[0]==`
`?(tt=de.appendChild(ee("span",Le[0]=="\r"?"":"","cm-invalidchar")),tt.setAttribute("cm-text",Le[0]),a.col+=1):(tt=a.cm.options.specialCharPlaceholder(Le[0]),tt.setAttribute("cm-text",Le[0]),g&&v<9?de.appendChild(ee("span",[tt])):de.appendChild(tt),a.col+=1);a.map.push(a.pos,a.pos+1,tt),a.pos++}}if(a.trailingSpace=M.charCodeAt(l.length-1)==32,d||h||y||J||E||k){var yt=d||"";h&&(yt+=h),y&&(yt+=y);var it=ee("span",[de],yt,E);if(k)for(var wt in k)k.hasOwnProperty(wt)&&wt!="style"&&wt!="class"&&it.setAttribute(wt,k[wt]);return a.content.appendChild(it)}a.content.appendChild(de)}}function Ks(a,l){if(a.length>1&&!/  /.test(a))return a;for(var d=l,h="",y=0;y<a.length;y++){var E=a.charAt(y);E==" "&&d&&(y==a.length-1||a.charCodeAt(y+1)==32)&&(E=""),h+=E,d=E==" "}return h}function si(a,l){return function(d,h,y,E,k,M,z){y=y?y+" cm-force-border":"cm-force-border";for(var J=d.pos,de=J+h.length;;){for(var _e=void 0,Le=0;Le<l.length&&(_e=l[Le],!(_e.to>J&&_e.from<=J));Le++);if(_e.to>=de)return a(d,h,y,E,k,M,z);a(d,h.slice(0,_e.to-J),y,E,null,M,z),E=null,h=h.slice(_e.to-J),J=_e.to}}}function Qu(a,l,d,h){var y=!h&&d.widgetNode;y&&a.map.push(a.pos,a.pos+l,y),!h&&a.cm.display.input.needsContentAttribute&&(y||(y=a.content.appendChild(document.createElement("span"))),y.setAttribute("cm-marker",d.id)),y&&(a.cm.display.input.setUneditable(y),a.content.appendChild(y)),a.pos+=l,a.trailingSpace=!1}function Qc(a,l,d){var h=a.markedSpans,y=a.text,E=0;if(!h){for(var k=1;k<d.length;k+=2)l.addToken(l,y.slice(E,E=d[k]),Yu(d[k+1],l.cm.options));return}for(var M=y.length,z=0,J=1,de="",_e,Le,Re=0,Ye,tt,ct,pt,yt;;){if(Re==z){Ye=tt=ct=Le="",yt=null,pt=null,Re=1/0;for(var it=[],wt=void 0,It=0;It<h.length;++It){var Ct=h[It],Ut=Ct.marker;if(Ut.type=="bookmark"&&Ct.from==z&&Ut.widgetNode)it.push(Ut);else if(Ct.from<=z&&(Ct.to==null||Ct.to>z||Ut.collapsed&&Ct.to==z&&Ct.from==z)){if(Ct.to!=null&&Ct.to!=z&&Re>Ct.to&&(Re=Ct.to,tt=""),Ut.className&&(Ye+=" "+Ut.className),Ut.css&&(Le=(Le?Le+";":"")+Ut.css),Ut.startStyle&&Ct.from==z&&(ct+=" "+Ut.startStyle),Ut.endStyle&&Ct.to==Re&&(wt||(wt=[])).push(Ut.endStyle,Ct.to),Ut.title&&((yt||(yt={})).title=Ut.title),Ut.attributes)for(var rn in Ut.attributes)(yt||(yt={}))[rn]=Ut.attributes[rn];Ut.collapsed&&(!pt||Pi(pt.marker,Ut)<0)&&(pt=Ct)}else Ct.from>z&&Re>Ct.from&&(Re=Ct.from)}if(wt)for(var yr=0;yr<wt.length;yr+=2)wt[yr+1]==Re&&(tt+=" "+wt[yr]);if(!pt||pt.from==z)for(var jn=0;jn<it.length;++jn)Qu(l,0,it[jn]);if(pt&&(pt.from||0)==z){if(Qu(l,(pt.to==null?M+1:pt.to)-z,pt.marker,pt.from==null),pt.to==null)return;pt.to==z&&(pt=!1)}}if(z>=M)break;for(var Pr=Math.min(M,Re);;){if(de){var Gn=z+de.length;if(!pt){var ir=Gn>Pr?de.slice(0,Pr-z):de;l.addToken(l,ir,_e?_e+Ye:Ye,ct,z+ir.length==Re?tt:"",Le,yt)}if(Gn>=Pr){de=de.slice(Pr-z),z=Pr;break}z=Gn,ct=""}de=y.slice(E,E=d[J++]),_e=Yu(d[J++],l.cm.options)}}}function Ga(a,l,d){this.line=l,this.rest=Ha(l),this.size=this.rest?ln(Me(this.rest))-d+1:1,this.node=this.text=null,this.hidden=bi(a,l)}function b(a,l,d){for(var h=[],y,E=l;E<d;E=y){var k=new Ga(a.doc,xt(a.doc,E),E);y=E+k.size,h.push(k)}return h}var O=null;function X(a){O?O.ops.push(a):a.ownsGroup=O={ops:[a],delayedCallbacks:[]}}function ue(a){var l=a.delayedCallbacks,d=0;do{for(;d<l.length;d++)l[d].call(null);for(var h=0;h<a.ops.length;h++){var y=a.ops[h];if(y.cursorActivityHandlers)for(;y.cursorActivityCalled<y.cursorActivityHandlers.length;)y.cursorActivityHandlers[y.cursorActivityCalled++].call(null,y.cm)}}while(d<l.length)}function je(a,l){var d=a.ownsGroup;if(d)try{ue(d)}finally{O=null,l(d)}}var Ke=null;function ot(a,l){var d=ut(a,l);if(d.length){var h=Array.prototype.slice.call(arguments,2),y;O?y=O.delayedCallbacks:Ke?y=Ke:(y=Ke=[],setTimeout(Yt,0));for(var E=function(M){y.push(function(){return d[M].apply(null,h)})},k=0;k<d.length;++k)E(k)}}function Yt(){var a=Ke;Ke=null;for(var l=0;l<a.length;++l)a[l]()}function nr(a,l,d,h){for(var y=0;y<l.changes.length;y++){var E=l.changes[y];E=="text"?Ya(a,l):E=="gutter"?Zi(a,l,d,h):E=="class"?Bi(a,l):E=="widget"&&Mo(a,l,h)}l.changes=null}function nn(a){return a.node==a.text&&(a.node=ee("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),g&&v<8&&(a.node.style.zIndex=2)),a.node}function Wn(a,l){var d=l.bgClass?l.bgClass+" "+(l.line.bgClass||""):l.line.bgClass;if(d&&(d+=" CodeMirror-linebackground"),l.background)d?l.background.className=d:(l.background.parentNode.removeChild(l.background),l.background=null);else if(d){var h=nn(l);l.background=h.insertBefore(ee("div",null,d),h.firstChild),a.display.input.setUneditable(l.background)}}function zi(a,l){var d=a.display.externalMeasured;return d&&d.line==l.line?(a.display.externalMeasured=null,l.measure=d.measure,d.built):Ku(a,l)}function Ya(a,l){var d=l.text.className,h=zi(a,l);l.text==l.node&&(l.node=h.pre),l.text.parentNode.replaceChild(h.pre,l.text),l.text=h.pre,h.bgClass!=l.bgClass||h.textClass!=l.textClass?(l.bgClass=h.bgClass,l.textClass=h.textClass,Bi(a,l)):d&&(l.text.className=d)}function Bi(a,l){Wn(a,l),l.line.wrapClass?nn(l).className=l.line.wrapClass:l.node!=l.text&&(l.node.className="");var d=l.textClass?l.textClass+" "+(l.line.textClass||""):l.line.textClass;l.text.className=d||""}function Zi(a,l,d,h){if(l.gutter&&(l.node.removeChild(l.gutter),l.gutter=null),l.gutterBackground&&(l.node.removeChild(l.gutterBackground),l.gutterBackground=null),l.line.gutterClass){var y=nn(l);l.gutterBackground=ee("div",null,"CodeMirror-gutter-background "+l.line.gutterClass,"left: "+(a.options.fixedGutter?h.fixedPos:-h.gutterTotalWidth)+"px; width: "+h.gutterTotalWidth+"px"),a.display.input.setUneditable(l.gutterBackground),y.insertBefore(l.gutterBackground,l.text)}var E=l.line.gutterMarkers;if(a.options.lineNumbers||E){var k=nn(l),M=l.gutter=ee("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?h.fixedPos:-h.gutterTotalWidth)+"px");if(M.setAttribute("aria-hidden","true"),a.display.input.setUneditable(M),k.insertBefore(M,l.text),l.line.gutterClass&&(M.className+=" "+l.line.gutterClass),a.options.lineNumbers&&(!E||!E["CodeMirror-linenumbers"])&&(l.lineNumber=M.appendChild(ee("div",ai(a.options,d),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+h.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),E)for(var z=0;z<a.display.gutterSpecs.length;++z){var J=a.display.gutterSpecs[z].className,de=E.hasOwnProperty(J)&&E[J];de&&M.appendChild(ee("div",[de],"CodeMirror-gutter-elt","left: "+h.gutterLeft[J]+"px; width: "+h.gutterWidth[J]+"px"))}}}function Mo(a,l,d){l.alignable&&(l.alignable=null);for(var h=$("CodeMirror-linewidget"),y=l.node.firstChild,E=void 0;y;y=E)E=y.nextSibling,h.test(y.className)&&l.node.removeChild(y);Lo(a,l,d)}function Dl(a,l,d,h){var y=zi(a,l);return l.text=l.node=y.pre,y.bgClass&&(l.bgClass=y.bgClass),y.textClass&&(l.textClass=y.textClass),Bi(a,l),Zi(a,l,d,h),Lo(a,l,h),l.node}function Lo(a,l,d){if(zp(a,l.line,l,d,!0),l.rest)for(var h=0;h<l.rest.length;h++)zp(a,l.rest[h],l,d,!1)}function zp(a,l,d,h,y){if(l.widgets)for(var E=nn(d),k=0,M=l.widgets;k<M.length;++k){var z=M[k],J=ee("div",[z.node],"CodeMirror-linewidget"+(z.className?" "+z.className:""));z.handleMouseEvents||J.setAttribute("cm-ignore-events","true"),Ay(z,J,d,h),a.display.input.setUneditable(J),y&&z.above?E.insertBefore(J,d.gutter||d.text):E.appendChild(J),ot(z,"redraw")}}function Ay(a,l,d,h){if(a.noHScroll){(d.alignable||(d.alignable=[])).push(l);var y=h.wrapperWidth;l.style.left=h.fixedPos+"px",a.coverGutter||(y-=h.gutterTotalWidth,l.style.paddingLeft=h.gutterTotalWidth+"px"),l.style.width=y+"px"}a.coverGutter&&(l.style.zIndex=5,l.style.position="relative",a.noHScroll||(l.style.marginLeft=-h.gutterTotalWidth+"px"))}function $u(a){if(a.height!=null)return a.height;var l=a.doc.cm;if(!l)return 0;if(!Pe(document.body,a.node)){var d="position: relative;";a.coverGutter&&(d+="margin-left: -"+l.display.gutters.offsetWidth+"px;"),a.noHScroll&&(d+="width: "+l.display.wrapper.clientWidth+"px;"),U(l.display.measure,ee("div",[a.node],null,d))}return a.height=a.node.parentNode.offsetHeight}function Ka(a,l){for(var d=Jn(l);d!=a.wrapper;d=d.parentNode)if(!d||d.nodeType==1&&d.getAttribute("cm-ignore-events")=="true"||d.parentNode==a.sizer&&d!=a.mover)return!0}function Xu(a){return a.lineSpace.offsetTop}function Po(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function Rl(a){if(a.cachedPaddingH)return a.cachedPaddingH;var l=U(a.measure,ee("pre","x","CodeMirror-line-like")),d=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,h={left:parseInt(d.paddingLeft),right:parseInt(d.paddingRight)};return!isNaN(h.left)&&!isNaN(h.right)&&(a.cachedPaddingH=h),h}function Qa(a){return Pt-a.display.nativeBarWidth}function $a(a){return a.display.scroller.clientWidth-Qa(a)-a.display.barWidth}function $c(a){return a.display.scroller.clientHeight-Qa(a)-a.display.barHeight}function Bp(a,l,d){var h=a.options.lineWrapping,y=h&&$a(a);if(!l.measure.heights||h&&l.measure.width!=y){var E=l.measure.heights=[];if(h){l.measure.width=y;for(var k=l.text.firstChild.getClientRects(),M=0;M<k.length-1;M++){var z=k[M],J=k[M+1];Math.abs(z.bottom-J.bottom)>2&&E.push((z.bottom+J.top)/2-d.top)}}E.push(d.bottom-d.top)}}function Xc(a,l,d){if(a.line==l)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var h=0;h<a.rest.length;h++)if(a.rest[h]==l)return{map:a.measure.maps[h],cache:a.measure.caches[h]};for(var y=0;y<a.rest.length;y++)if(ln(a.rest[y])>d)return{map:a.measure.maps[y],cache:a.measure.caches[y],before:!0}}}function Ih(a,l){l=Rr(l);var d=ln(l),h=a.display.externalMeasured=new Ga(a.doc,l,d);h.lineN=d;var y=h.built=Ku(a,h);return h.text=y.pre,U(a.display.lineMeasure,y.pre),h}function Nh(a,l,d,h){return Xa(a,Fo(a,l),d,h)}function Zc(a,l){if(l>=a.display.viewFrom&&l<a.display.viewTo)return a.display.view[Za(a,l)];var d=a.display.externalMeasured;if(d&&l>=d.lineN&&l<d.lineN+d.size)return d}function Fo(a,l){var d=ln(l),h=Zc(a,d);h&&!h.text?h=null:h&&h.changes&&(nr(a,h,d,Ph(a)),a.curOp.forceUpdate=!0),h||(h=Ih(a,l));var y=Xc(h,l,d);return{line:l,view:h,rect:null,map:y.map,cache:y.cache,before:y.before,hasHeights:!1}}function Xa(a,l,d,h,y){l.before&&(d=-1);var E=d+(h||""),k;return l.cache.hasOwnProperty(E)?k=l.cache[E]:(l.rect||(l.rect=l.view.text.getBoundingClientRect()),l.hasHeights||(Bp(a,l.view,l.rect),l.hasHeights=!0),k=Dy(a,l,d,h),k.bogus||(l.cache[E]=k)),{left:k.left,right:k.right,top:y?k.rtop:k.top,bottom:y?k.rbottom:k.bottom}}var Up={left:0,right:0,top:0,bottom:0};function Vp(a,l,d){for(var h,y,E,k,M,z,J=0;J<a.length;J+=3)if(M=a[J],z=a[J+1],l<M?(y=0,E=1,k="left"):l<z?(y=l-M,E=y+1):(J==a.length-3||l==z&&a[J+3]>l)&&(E=z-M,y=E-1,l>=z&&(k="right")),y!=null){if(h=a[J+2],M==z&&d==(h.insertLeft?"left":"right")&&(k=d),d=="left"&&y==0)for(;J&&a[J-2]==a[J-3]&&a[J-1].insertLeft;)h=a[(J-=3)+2],k="left";if(d=="right"&&y==z-M)for(;J<a.length-3&&a[J+3]==a[J+4]&&!a[J+5].insertLeft;)h=a[(J+=3)+2],k="right";break}return{node:h,start:y,end:E,collapse:k,coverStart:M,coverEnd:z}}function ky(a,l){var d=Up;if(l=="left")for(var h=0;h<a.length&&(d=a[h]).left==d.right;h++);else for(var y=a.length-1;y>=0&&(d=a[y]).left==d.right;y--);return d}function Dy(a,l,d,h){var y=Vp(l.map,d,h),E=y.node,k=y.start,M=y.end,z=y.collapse,J;if(E.nodeType==3){for(var de=0;de<4;de++){for(;k&&D(l.line.text.charAt(y.coverStart+k));)--k;for(;y.coverStart+M<y.coverEnd&&D(l.line.text.charAt(y.coverStart+M));)++M;if(g&&v<9&&k==0&&M==y.coverEnd-y.coverStart?J=E.parentNode.getBoundingClientRect():J=ky(he(E,k,M).getClientRects(),h),J.left||J.right||k==0)break;M=k,k=k-1,z="right"}g&&v<11&&(J=Ui(a.display.measure,J))}else{k>0&&(z=h="right");var _e;a.options.lineWrapping&&(_e=E.getClientRects()).length>1?J=_e[h=="right"?_e.length-1:0]:J=E.getBoundingClientRect()}if(g&&v<9&&!k&&(!J||!J.left&&!J.right)){var Le=E.parentNode.getClientRects()[0];Le?J={left:Le.left,right:Le.left+Ll(a.display),top:Le.top,bottom:Le.bottom}:J=Up}for(var Re=J.top-l.rect.top,Ye=J.bottom-l.rect.top,tt=(Re+Ye)/2,ct=l.view.measure.heights,pt=0;pt<ct.length-1&&!(tt<ct[pt]);pt++);var yt=pt?ct[pt-1]:0,it=ct[pt],wt={left:(z=="right"?J.right:J.left)-l.rect.left,right:(z=="left"?J.left:J.right)-l.rect.left,top:yt,bottom:it};return!J.left&&!J.right&&(wt.bogus=!0),a.options.singleCursorHeightPerLine||(wt.rtop=Re,wt.rbottom=Ye),wt}function Ui(a,l){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Qr(a))return l;var d=screen.logicalXDPI/screen.deviceXDPI,h=screen.logicalYDPI/screen.deviceYDPI;return{left:l.left*d,right:l.right*d,top:l.top*h,bottom:l.bottom*h}}function Il(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var l=0;l<a.rest.length;l++)a.measure.caches[l]={}}function Oh(a){a.display.externalMeasure=null,Z(a.display.lineMeasure);for(var l=0;l<a.display.view.length;l++)Il(a.display.view[l])}function Nl(a){Oh(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function Mh(a){return T&&W?-(a.body.getBoundingClientRect().left-parseInt(getComputedStyle(a.body).marginLeft)):a.defaultView.pageXOffset||(a.documentElement||a.body).scrollLeft}function Lh(a){return T&&W?-(a.body.getBoundingClientRect().top-parseInt(getComputedStyle(a.body).marginTop)):a.defaultView.pageYOffset||(a.documentElement||a.body).scrollTop}function Zu(a){var l=Rr(a),d=l.widgets,h=0;if(d)for(var y=0;y<d.length;++y)d[y].above&&(h+=$u(d[y]));return h}function Jc(a,l,d,h,y){if(!y){var E=Zu(l);d.top+=E,d.bottom+=E}if(h=="line")return d;h||(h="local");var k=Xi(l);if(h=="local"?k+=Xu(a.display):k-=a.display.viewOffset,h=="page"||h=="window"){var M=a.display.lineSpace.getBoundingClientRect();k+=M.top+(h=="window"?0:Lh(A(a)));var z=M.left+(h=="window"?0:Mh(A(a)));d.left+=z,d.right+=z}return d.top+=k,d.bottom+=k,d}function zo(a,l,d){if(d=="div")return l;var h=l.left,y=l.top;if(d=="page")h-=Mh(A(a)),y-=Lh(A(a));else if(d=="local"||!d){var E=a.display.sizer.getBoundingClientRect();h+=E.left,y+=E.top}var k=a.display.lineSpace.getBoundingClientRect();return{left:h-k.left,top:y-k.top}}function Ol(a,l,d,h,y){return h||(h=xt(a.doc,l.line)),Jc(a,h,Nh(a,h,l.ch,y),d)}function oi(a,l,d,h,y,E){h=h||xt(a.doc,l.line),y||(y=Fo(a,h));function k(Ye,tt){var ct=Xa(a,y,Ye,tt?"right":"left",E);return tt?ct.left=ct.right:ct.right=ct.left,Jc(a,h,ct,d)}var M=Te(h,a.doc.direction),z=l.ch,J=l.sticky;if(z>=h.text.length?(z=h.text.length,J="before"):z<=0&&(z=0,J="after"),!M)return k(J=="before"?z-1:z,J=="before");function de(Ye,tt,ct){var pt=M[tt],yt=pt.level==1;return k(ct?Ye-1:Ye,yt!=ct)}var _e=Ie(M,z,J),Le=Se,Re=de(z,_e,J=="before");return Le!=null&&(Re.other=de(z,Le,J!="before")),Re}function ef(a,l){var d=0;l=Mt(a.doc,l),a.options.lineWrapping||(d=Ll(a.display)*l.ch);var h=xt(a.doc,l.line),y=Xi(h)+Xu(a.display);return{left:d,right:d,top:y,bottom:y+h.height}}function tf(a,l,d,h,y){var E=et(a,l,d);return E.xRel=y,h&&(E.outside=h),E}function hs(a,l,d){var h=a.doc;if(d+=a.display.viewOffset,d<0)return tf(h.first,0,null,-1,-1);var y=Ma(h,d),E=h.first+h.size-1;if(y>E)return tf(h.first+h.size-1,xt(h,E).text.length,null,1,1);l<0&&(l=0);for(var k=xt(h,y);;){var M=Uo(a,k,y,l,d),z=Gs(k,M.ch+(M.xRel>0||M.outside>0?1:0));if(!z)return M;var J=z.find(1);if(J.line==y)return J;k=xt(h,y=J.line)}}function Bo(a,l,d,h){h-=Zu(l);var y=l.text.length,E=ce(function(k){return Xa(a,d,k-1).bottom<=h},y,0);return y=ce(function(k){return Xa(a,d,k).top>h},E,y),{begin:E,end:y}}function nf(a,l,d,h){d||(d=Fo(a,l));var y=Jc(a,l,Xa(a,d,h),"line").top;return Bo(a,l,d,y)}function rf(a,l,d,h){return a.bottom<=d?!1:a.top>d?!0:(h?a.left:a.right)>l}function Uo(a,l,d,h,y){y-=Xi(l);var E=Fo(a,l),k=Zu(l),M=0,z=l.text.length,J=!0,de=Te(l,a.doc.direction);if(de){var _e=(a.options.lineWrapping?Hp:jp)(a,l,d,E,de,h,y);J=_e.level!=1,M=J?_e.from:_e.to-1,z=J?_e.to:_e.from-1}var Le=null,Re=null,Ye=ce(function(It){var Ct=Xa(a,E,It);return Ct.top+=k,Ct.bottom+=k,rf(Ct,h,y,!1)?(Ct.top<=y&&Ct.left<=h&&(Le=It,Re=Ct),!0):!1},M,z),tt,ct,pt=!1;if(Re){var yt=h-Re.left<Re.right-h,it=yt==J;Ye=Le+(it?0:1),ct=it?"after":"before",tt=yt?Re.left:Re.right}else{!J&&(Ye==z||Ye==M)&&Ye++,ct=Ye==0?"after":Ye==l.text.length?"before":Xa(a,E,Ye-(J?1:0)).bottom+k<=y==J?"after":"before";var wt=oi(a,et(d,Ye,ct),"line",l,E);tt=wt.left,pt=y<wt.top?-1:y>=wt.bottom?1:0}return Ye=Y(l.text,Ye,1),tf(d,Ye,ct,pt,h-tt)}function jp(a,l,d,h,y,E,k){var M=ce(function(_e){var Le=y[_e],Re=Le.level!=1;return rf(oi(a,et(d,Re?Le.to:Le.from,Re?"before":"after"),"line",l,h),E,k,!0)},0,y.length-1),z=y[M];if(M>0){var J=z.level!=1,de=oi(a,et(d,J?z.from:z.to,J?"after":"before"),"line",l,h);rf(de,E,k,!0)&&de.top>k&&(z=y[M-1])}return z}function Hp(a,l,d,h,y,E,k){var M=Bo(a,l,h,k),z=M.begin,J=M.end;/\s/.test(l.text.charAt(J-1))&&J--;for(var de=null,_e=null,Le=0;Le<y.length;Le++){var Re=y[Le];if(!(Re.from>=J||Re.to<=z)){var Ye=Re.level!=1,tt=Xa(a,h,Ye?Math.min(J,Re.to)-1:Math.max(z,Re.from)).right,ct=tt<E?E-tt+1e9:tt-E;(!de||_e>ct)&&(de=Re,_e=ct)}}return de||(de=y[y.length-1]),de.from<z&&(de={from:z,to:de.to,level:de.level}),de.to>J&&(de={from:de.from,to:J,level:de.level}),de}var Qs;function Ml(a){if(a.cachedTextHeight!=null)return a.cachedTextHeight;if(Qs==null){Qs=ee("pre",null,"CodeMirror-line-like");for(var l=0;l<49;++l)Qs.appendChild(document.createTextNode("x")),Qs.appendChild(ee("br"));Qs.appendChild(document.createTextNode("x"))}U(a.measure,Qs);var d=Qs.offsetHeight/50;return d>3&&(a.cachedTextHeight=d),Z(a.measure),d||1}function Ll(a){if(a.cachedCharWidth!=null)return a.cachedCharWidth;var l=ee("span","xxxxxxxxxx"),d=ee("pre",[l],"CodeMirror-line-like");U(a.measure,d);var h=l.getBoundingClientRect(),y=(h.right-h.left)/10;return y>2&&(a.cachedCharWidth=y),y||10}function Ph(a){for(var l=a.display,d={},h={},y=l.gutters.clientLeft,E=l.gutters.firstChild,k=0;E;E=E.nextSibling,++k){var M=a.display.gutterSpecs[k].className;d[M]=E.offsetLeft+E.clientLeft+y,h[M]=E.clientWidth}return{fixedPos:af(l),gutterTotalWidth:l.gutters.offsetWidth,gutterLeft:d,gutterWidth:h,wrapperWidth:l.wrapper.clientWidth}}function af(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function Fh(a){var l=Ml(a.display),d=a.options.lineWrapping,h=d&&Math.max(5,a.display.scroller.clientWidth/Ll(a.display)-3);return function(y){if(bi(a.doc,y))return 0;var E=0;if(y.widgets)for(var k=0;k<y.widgets.length;k++)y.widgets[k].height&&(E+=y.widgets[k].height);return d?E+(Math.ceil(y.text.length/h)||1)*l:E+l}}function Ju(a){var l=a.doc,d=Fh(a);l.iter(function(h){var y=d(h);y!=h.height&&gi(h,y)})}function qr(a,l,d,h){var y=a.display;if(!d&&Jn(l).getAttribute("cm-not-content")=="true")return null;var E,k,M=y.lineSpace.getBoundingClientRect();try{E=l.clientX-M.left,k=l.clientY-M.top}catch{return null}var z=hs(a,E,k),J;if(h&&z.xRel>0&&(J=xt(a.doc,z.line).text).length==z.ch){var de=dt(J,J.length,a.options.tabSize)-J.length;z=et(z.line,Math.max(0,Math.round((E-Rl(a.display).left)/Ll(a.display))-de))}return z}function Za(a,l){if(l>=a.display.viewTo||(l-=a.display.viewFrom,l<0))return null;for(var d=a.display.view,h=0;h<d.length;h++)if(l-=d[h].size,l<0)return h}function On(a,l,d,h){l==null&&(l=a.doc.first),d==null&&(d=a.doc.first+a.doc.size),h||(h=0);var y=a.display;if(h&&d<y.viewTo&&(y.updateLineNumbers==null||y.updateLineNumbers>l)&&(y.updateLineNumbers=l),a.curOp.viewChanged=!0,l>=y.viewTo)mr&&Ys(a.doc,l)<y.viewTo&&Ja(a);else if(d<=y.viewFrom)mr&&Cl(a.doc,d+h)>y.viewFrom?Ja(a):(y.viewFrom+=h,y.viewTo+=h);else if(l<=y.viewFrom&&d>=y.viewTo)Ja(a);else if(l<=y.viewFrom){var E=Vo(a,d,d+h,1);E?(y.view=y.view.slice(E.index),y.viewFrom=E.lineN,y.viewTo+=h):Ja(a)}else if(d>=y.viewTo){var k=Vo(a,l,l,-1);k?(y.view=y.view.slice(0,k.index),y.viewTo=k.lineN):Ja(a)}else{var M=Vo(a,l,l,-1),z=Vo(a,d,d+h,1);M&&z?(y.view=y.view.slice(0,M.index).concat(b(a,M.lineN,z.lineN)).concat(y.view.slice(z.index)),y.viewTo+=h):Ja(a)}var J=y.externalMeasured;J&&(d<J.lineN?J.lineN+=h:l<J.lineN+J.size&&(y.externalMeasured=null))}function Vi(a,l,d){a.curOp.viewChanged=!0;var h=a.display,y=a.display.externalMeasured;if(y&&l>=y.lineN&&l<y.lineN+y.size&&(h.externalMeasured=null),!(l<h.viewFrom||l>=h.viewTo)){var E=h.view[Za(a,l)];if(E.node!=null){var k=E.changes||(E.changes=[]);_t(k,d)==-1&&k.push(d)}}}function Ja(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function Vo(a,l,d,h){var y=Za(a,l),E,k=a.display.view;if(!mr||d==a.doc.first+a.doc.size)return{index:y,lineN:d};for(var M=a.display.viewFrom,z=0;z<y;z++)M+=k[z].size;if(M!=l){if(h>0){if(y==k.length-1)return null;E=M+k[y].size-l,y++}else E=M-l;l+=E,d+=E}for(;Ys(a.doc,d)!=d;){if(y==(h<0?0:k.length-1))return null;d+=h*k[y-(h<0?1:0)].size,y+=h}return{index:y,lineN:d}}function sf(a,l,d){var h=a.display,y=h.view;y.length==0||l>=h.viewTo||d<=h.viewFrom?(h.view=b(a,l,d),h.viewFrom=l):(h.viewFrom>l?h.view=b(a,l,h.viewFrom).concat(h.view):h.viewFrom<l&&(h.view=h.view.slice(Za(a,l))),h.viewFrom=l,h.viewTo<d?h.view=h.view.concat(b(a,h.viewTo,d)):h.viewTo>d&&(h.view=h.view.slice(0,Za(a,d)))),h.viewTo=d}function of(a){for(var l=a.display.view,d=0,h=0;h<l.length;h++){var y=l[h];!y.hidden&&(!y.node||y.changes)&&++d}return d}function ga(a){a.display.input.showSelection(a.display.input.prepareSelection())}function zh(a,l){l===void 0&&(l=!0);var d=a.doc,h={},y=h.cursors=document.createDocumentFragment(),E=h.selection=document.createDocumentFragment(),k=a.options.$customCursor;k&&(l=!0);for(var M=0;M<d.sel.ranges.length;M++)if(!(!l&&M==d.sel.primIndex)){var z=d.sel.ranges[M];if(!(z.from().line>=a.display.viewTo||z.to().line<a.display.viewFrom)){var J=z.empty();if(k){var de=k(a,z);de&&Pl(a,de,y)}else(J||a.options.showCursorWhenSelecting)&&Pl(a,z.head,y);J||Ry(a,z,E)}}return h}function Pl(a,l,d){var h=oi(a,l,"div",null,null,!a.options.singleCursorHeightPerLine),y=d.appendChild(ee("div","","CodeMirror-cursor"));if(y.style.left=h.left+"px",y.style.top=h.top+"px",y.style.height=Math.max(0,h.bottom-h.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var E=Ol(a,l,"div",null,null),k=E.right-E.left;y.style.width=(k>0?k:a.defaultCharWidth())+"px"}if(h.other){var M=d.appendChild(ee("div","","CodeMirror-cursor CodeMirror-secondarycursor"));M.style.display="",M.style.left=h.other.left+"px",M.style.top=h.other.top+"px",M.style.height=(h.other.bottom-h.other.top)*.85+"px"}}function ds(a,l){return a.top-l.top||a.left-l.left}function Ry(a,l,d){var h=a.display,y=a.doc,E=document.createDocumentFragment(),k=Rl(a.display),M=k.left,z=Math.max(h.sizerWidth,$a(a)-h.sizer.offsetLeft)-k.right,J=y.direction=="ltr";function de(it,wt,It,Ct){wt<0&&(wt=0),wt=Math.round(wt),Ct=Math.round(Ct),E.appendChild(ee("div",null,"CodeMirror-selected","position: absolute; left: "+it+`px;
                             top: `+wt+"px; width: "+(It??z-it)+`px;
                             height: `+(Ct-wt)+"px"))}function _e(it,wt,It){var Ct=xt(y,it),Ut=Ct.text.length,rn,yr;function jn(ir,Gr){return Ol(a,et(it,ir),"div",Ct,Gr)}function Pr(ir,Gr,xr){var ar=nf(a,Ct,null,ir),Xn=Gr=="ltr"==(xr=="after")?"left":"right",Fn=xr=="after"?ar.begin:ar.end-(/\s/.test(Ct.text.charAt(ar.end-1))?2:1);return jn(Fn,Xn)[Xn]}var Gn=Te(Ct,y.direction);return me(Gn,wt||0,It??Ut,function(ir,Gr,xr,ar){var Xn=xr=="ltr",Fn=jn(ir,Xn?"left":"right"),Jr=jn(Gr-1,Xn?"right":"left"),Ci=wt==null&&ir==0,Dn=It==null&&Gr==Ut,Er=ar==0,_a=!Gn||ar==Gn.length-1;if(Jr.top-Fn.top<=3){var en=(J?Ci:Dn)&&Er,bd=(J?Dn:Ci)&&_a,ns=en?M:(Xn?Fn:Jr).left,uo=bd?z:(Xn?Jr:Fn).right;de(ns,Fn.top,uo-ns,Fn.bottom)}else{var _n,En,Ai,Of;Xn?(_n=J&&Ci&&Er?M:Fn.left,En=J?z:Pr(ir,xr,"before"),Ai=J?M:Pr(Gr,xr,"after"),Of=J&&Dn&&_a?z:Jr.right):(_n=J?Pr(ir,xr,"before"):M,En=!J&&Ci&&Er?z:Fn.right,Ai=!J&&Dn&&_a?M:Jr.left,Of=J?Pr(Gr,xr,"after"):z),de(_n,Fn.top,En-_n,Fn.bottom),Fn.bottom<Jr.top&&de(M,Fn.bottom,null,Jr.top),de(Ai,Jr.top,Of-Ai,Jr.bottom)}(!rn||ds(Fn,rn)<0)&&(rn=Fn),ds(Jr,rn)<0&&(rn=Jr),(!yr||ds(Fn,yr)<0)&&(yr=Fn),ds(Jr,yr)<0&&(yr=Jr)}),{start:rn,end:yr}}var Le=l.from(),Re=l.to();if(Le.line==Re.line)_e(Le.line,Le.ch,Re.ch);else{var Ye=xt(y,Le.line),tt=xt(y,Re.line),ct=Rr(Ye)==Rr(tt),pt=_e(Le.line,Le.ch,ct?Ye.text.length+1:null).end,yt=_e(Re.line,ct?0:null,Re.ch).start;ct&&(pt.top<yt.top-2?(de(pt.right,pt.top,null,pt.bottom),de(M,yt.top,yt.left,yt.bottom)):de(pt.right,pt.top,yt.left-pt.right,pt.bottom)),pt.bottom<yt.top&&de(M,pt.bottom,null,yt.top)}d.appendChild(E)}function li(a){if(a.state.focused){var l=a.display;clearInterval(l.blinker);var d=!0;l.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?l.blinker=setInterval(function(){a.hasFocus()||ps(a),l.cursorDiv.style.visibility=(d=!d)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(l.cursorDiv.style.visibility="hidden")}}function lf(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||uf(a))}function ya(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&ps(a))},100)}function uf(a,l){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),a.options.readOnly!="nocursor"&&(a.state.focused||(ft(a,"focus",a,l),a.state.focused=!0,le(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),_&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),li(a))}function ps(a,l){a.state.delayingBlurEvent||(a.state.focused&&(ft(a,"blur",a,l),a.state.focused=!1,F(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function es(a){for(var l=a.display,d=l.lineDiv.offsetTop,h=Math.max(0,l.scroller.getBoundingClientRect().top),y=l.lineDiv.getBoundingClientRect().top,E=0,k=0;k<l.view.length;k++){var M=l.view[k],z=a.options.lineWrapping,J=void 0,de=0;if(!M.hidden){if(y+=M.line.height,g&&v<8){var _e=M.node.offsetTop+M.node.offsetHeight;J=_e-d,d=_e}else{var Le=M.node.getBoundingClientRect();J=Le.bottom-Le.top,!z&&M.text.firstChild&&(de=M.text.firstChild.getBoundingClientRect().right-Le.left-1)}var Re=M.line.height-J;if((Re>.005||Re<-.005)&&(y<h&&(E-=Re),gi(M.line,J),cf(M.line),M.rest))for(var Ye=0;Ye<M.rest.length;Ye++)cf(M.rest[Ye]);if(de>a.display.sizerWidth){var tt=Math.ceil(de/Ll(a.display));tt>a.display.maxLineLength&&(a.display.maxLineLength=tt,a.display.maxLine=M.line,a.display.maxLineChanged=!0)}}}Math.abs(E)>2&&(l.scroller.scrollTop+=E)}function cf(a){if(a.widgets)for(var l=0;l<a.widgets.length;++l){var d=a.widgets[l],h=d.node.parentNode;h&&(d.height=h.offsetHeight)}}function ec(a,l,d){var h=d&&d.top!=null?Math.max(0,d.top):a.scroller.scrollTop;h=Math.floor(h-Xu(a));var y=d&&d.bottom!=null?d.bottom:h+a.wrapper.clientHeight,E=Ma(l,h),k=Ma(l,y);if(d&&d.ensure){var M=d.ensure.from.line,z=d.ensure.to.line;M<E?(E=M,k=Ma(l,Xi(xt(l,M))+a.wrapper.clientHeight)):Math.min(z,l.lastLine())>=k&&(E=Ma(l,Xi(xt(l,z))-a.wrapper.clientHeight),k=z)}return{from:E,to:Math.max(k,E+1)}}function Bh(a,l){if(!at(a,"scrollCursorIntoView")){var d=a.display,h=d.sizer.getBoundingClientRect(),y=null,E=d.wrapper.ownerDocument;if(l.top+h.top<0?y=!0:l.bottom+h.top>(E.defaultView.innerHeight||E.documentElement.clientHeight)&&(y=!1),y!=null&&!N){var k=ee("div","",null,`position: absolute;
                         top: `+(l.top-d.viewOffset-Xu(a.display))+`px;
                         height: `+(l.bottom-l.top+Qa(a)+d.barHeight)+`px;
                         left: `+l.left+"px; width: "+Math.max(2,l.right-l.left)+"px;");a.display.lineSpace.appendChild(k),k.scrollIntoView(y),a.display.lineSpace.removeChild(k)}}}function qp(a,l,d,h){h==null&&(h=0);var y;!a.options.lineWrapping&&l==d&&(d=l.sticky=="before"?et(l.line,l.ch+1,"before"):l,l=l.ch?et(l.line,l.sticky=="before"?l.ch-1:l.ch,"after"):l);for(var E=0;E<5;E++){var k=!1,M=oi(a,l),z=!d||d==l?M:oi(a,d);y={left:Math.min(M.left,z.left),top:Math.min(M.top,z.top)-h,right:Math.max(M.left,z.left),bottom:Math.max(M.bottom,z.bottom)+h};var J=$s(a,y),de=a.doc.scrollTop,_e=a.doc.scrollLeft;if(J.scrollTop!=null&&(_i(a,J.scrollTop),Math.abs(a.doc.scrollTop-de)>1&&(k=!0)),J.scrollLeft!=null&&(ci(a,J.scrollLeft),Math.abs(a.doc.scrollLeft-_e)>1&&(k=!0)),!k)break}return y}function Ji(a,l){var d=$s(a,l);d.scrollTop!=null&&_i(a,d.scrollTop),d.scrollLeft!=null&&ci(a,d.scrollLeft)}function $s(a,l){var d=a.display,h=Ml(a.display);l.top<0&&(l.top=0);var y=a.curOp&&a.curOp.scrollTop!=null?a.curOp.scrollTop:d.scroller.scrollTop,E=$c(a),k={};l.bottom-l.top>E&&(l.bottom=l.top+E);var M=a.doc.height+Po(d),z=l.top<h,J=l.bottom>M-h;if(l.top<y)k.scrollTop=z?0:l.top;else if(l.bottom>y+E){var de=Math.min(l.top,(J?M:l.bottom)-E);de!=y&&(k.scrollTop=de)}var _e=a.options.fixedGutter?0:d.gutters.offsetWidth,Le=a.curOp&&a.curOp.scrollLeft!=null?a.curOp.scrollLeft:d.scroller.scrollLeft-_e,Re=$a(a)-d.gutters.offsetWidth,Ye=l.right-l.left>Re;return Ye&&(l.right=l.left+Re),l.left<10?k.scrollLeft=0:l.left<Le?k.scrollLeft=Math.max(0,l.left+_e-(Ye?0:10)):l.right>Re+Le-3&&(k.scrollLeft=l.right+(Ye?0:10)-Re),k}function Xs(a,l){l!=null&&(ui(a),a.curOp.scrollTop=(a.curOp.scrollTop==null?a.doc.scrollTop:a.curOp.scrollTop)+l)}function ms(a){ui(a);var l=a.getCursor();a.curOp.scrollToPos={from:l,to:l,margin:a.options.cursorScrollMargin}}function gs(a,l,d){(l!=null||d!=null)&&ui(a),l!=null&&(a.curOp.scrollLeft=l),d!=null&&(a.curOp.scrollTop=d)}function ea(a,l){ui(a),a.curOp.scrollToPos=l}function ui(a){var l=a.curOp.scrollToPos;if(l){a.curOp.scrollToPos=null;var d=ef(a,l.from),h=ef(a,l.to);ys(a,d,h,l.margin)}}function ys(a,l,d,h){var y=$s(a,{left:Math.min(l.left,d.left),top:Math.min(l.top,d.top)-h,right:Math.max(l.right,d.right),bottom:Math.max(l.bottom,d.bottom)+h});gs(a,y.scrollLeft,y.scrollTop)}function _i(a,l){Math.abs(a.doc.scrollTop-l)<2||(o||Vl(a,{top:l}),va(a,l,!0),o&&Vl(a),ta(a,100))}function va(a,l,d){l=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,l)),!(a.display.scroller.scrollTop==l&&!d)&&(a.doc.scrollTop=l,a.display.scrollbars.setScrollTop(l),a.display.scroller.scrollTop!=l&&(a.display.scroller.scrollTop=l))}function ci(a,l,d,h){l=Math.max(0,Math.min(l,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),!((d?l==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-l)<2)&&!h)&&(a.doc.scrollLeft=l,Kp(a),a.display.scroller.scrollLeft!=l&&(a.display.scroller.scrollLeft=l),a.display.scrollbars.setScrollLeft(l))}function Fl(a){var l=a.display,d=l.gutters.offsetWidth,h=Math.round(a.doc.height+Po(a.display));return{clientHeight:l.scroller.clientHeight,viewHeight:l.wrapper.clientHeight,scrollWidth:l.scroller.scrollWidth,clientWidth:l.scroller.clientWidth,viewWidth:l.wrapper.clientWidth,barLeft:a.options.fixedGutter?d:0,docHeight:h,scrollHeight:h+Qa(a)+l.barHeight,nativeBarWidth:l.nativeBarWidth,gutterWidth:d}}var vs=function(a,l,d){this.cm=d;var h=this.vert=ee("div",[ee("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),y=this.horiz=ee("div",[ee("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");h.tabIndex=y.tabIndex=-1,a(h),a(y),De(h,"scroll",function(){h.clientHeight&&l(h.scrollTop,"vertical")}),De(y,"scroll",function(){y.clientWidth&&l(y.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,g&&v<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};vs.prototype.update=function(a){var l=a.scrollWidth>a.clientWidth+1,d=a.scrollHeight>a.clientHeight+1,h=a.nativeBarWidth;if(d){this.vert.style.display="block",this.vert.style.bottom=l?h+"px":"0";var y=a.viewHeight-(l?h:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+y)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(l){this.horiz.style.display="block",this.horiz.style.right=d?h+"px":"0",this.horiz.style.left=a.barLeft+"px";var E=a.viewWidth-a.barLeft-(d?h:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+E)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&a.clientHeight>0&&(h==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:d?h:0,bottom:l?h:0}},vs.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},vs.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},vs.prototype.zeroWidthHack=function(){var a=te&&!I?"12px":"18px";this.horiz.style.height=this.vert.style.width=a,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new At,this.disableVert=new At},vs.prototype.enableZeroWidthBar=function(a,l,d){a.style.visibility="";function h(){var y=a.getBoundingClientRect(),E=d=="vert"?document.elementFromPoint(y.right-1,(y.top+y.bottom)/2):document.elementFromPoint((y.right+y.left)/2,y.bottom-1);E!=a?a.style.visibility="hidden":l.set(1e3,h)}l.set(1e3,h)},vs.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var jo=function(){};jo.prototype.update=function(){return{bottom:0,right:0}},jo.prototype.setScrollLeft=function(){},jo.prototype.setScrollTop=function(){},jo.prototype.clear=function(){};function Ho(a,l){l||(l=Fl(a));var d=a.display.barWidth,h=a.display.barHeight;Ir(a,l);for(var y=0;y<4&&d!=a.display.barWidth||h!=a.display.barHeight;y++)d!=a.display.barWidth&&a.options.lineWrapping&&es(a),Ir(a,Fl(a)),d=a.display.barWidth,h=a.display.barHeight}function Ir(a,l){var d=a.display,h=d.scrollbars.update(l);d.sizer.style.paddingRight=(d.barWidth=h.right)+"px",d.sizer.style.paddingBottom=(d.barHeight=h.bottom)+"px",d.heightForcer.style.borderBottom=h.bottom+"px solid transparent",h.right&&h.bottom?(d.scrollbarFiller.style.display="block",d.scrollbarFiller.style.height=h.bottom+"px",d.scrollbarFiller.style.width=h.right+"px"):d.scrollbarFiller.style.display="",h.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(d.gutterFiller.style.display="block",d.gutterFiller.style.height=h.bottom+"px",d.gutterFiller.style.width=l.gutterWidth+"px"):d.gutterFiller.style.display=""}var Mn={native:vs,null:jo};function Jt(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&F(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new Mn[a.options.scrollbarStyle](function(l){a.display.wrapper.insertBefore(l,a.display.scrollbarFiller),De(l,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),l.setAttribute("cm-not-content","true")},function(l,d){d=="horizontal"?ci(a,l):_i(a,l)},a),a.display.scrollbars.addClass&&le(a.display.wrapper,a.display.scrollbars.addClass)}var Zs=0;function Nr(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Zs,markArrays:null},X(a.curOp)}function bs(a){var l=a.curOp;l&&je(l,function(d){for(var h=0;h<d.ops.length;h++)d.ops[h].cm.curOp=null;Js(d)})}function Js(a){for(var l=a.ops,d=0;d<l.length;d++)Wp(l[d]);for(var h=0;h<l.length;h++)Gp(l[h]);for(var y=0;y<l.length;y++)zl(l[y]);for(var E=0;E<l.length;E++)qo(l[E]);for(var k=0;k<l.length;k++)Uh(l[k])}function Wp(a){var l=a.cm,d=l.display;Vh(l),a.updateMaxLine&&Oo(l),a.mustUpdate=a.viewChanged||a.forceUpdate||a.scrollTop!=null||a.scrollToPos&&(a.scrollToPos.from.line<d.viewFrom||a.scrollToPos.to.line>=d.viewTo)||d.maxLineChanged&&l.options.lineWrapping,a.update=a.mustUpdate&&new Bl(l,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function Gp(a){a.updatedDisplay=a.mustUpdate&&ws(a.cm,a.update)}function zl(a){var l=a.cm,d=l.display;a.updatedDisplay&&es(l),a.barMeasure=Fl(l),d.maxLineChanged&&!l.options.lineWrapping&&(a.adjustWidthTo=Nh(l,d.maxLine,d.maxLine.text.length).left+3,l.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(d.scroller.clientWidth,d.sizer.offsetLeft+a.adjustWidthTo+Qa(l)+l.display.barWidth),a.maxScrollLeft=Math.max(0,d.sizer.offsetLeft+a.adjustWidthTo-$a(l))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=d.input.prepareSelection())}function qo(a){var l=a.cm;a.adjustWidthTo!=null&&(l.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<l.doc.scrollLeft&&ci(l,Math.min(l.display.scroller.scrollLeft,a.maxScrollLeft),!0),l.display.maxLineChanged=!1);var d=a.focus&&a.focus==Fe(ge(l));a.preparedSelection&&l.display.input.showSelection(a.preparedSelection,d),(a.updatedDisplay||a.startHeight!=l.doc.height)&&Ho(l,a.barMeasure),a.updatedDisplay&&Hh(l,a.barMeasure),a.selectionChanged&&li(l),l.state.focused&&a.updateInput&&l.display.input.reset(a.typing),d&&lf(a.cm)}function Uh(a){var l=a.cm,d=l.display,h=l.doc;if(a.updatedDisplay&&Mr(l,a.update),d.wheelStartX!=null&&(a.scrollTop!=null||a.scrollLeft!=null||a.scrollToPos)&&(d.wheelStartX=d.wheelStartY=null),a.scrollTop!=null&&va(l,a.scrollTop,a.forceScroll),a.scrollLeft!=null&&ci(l,a.scrollLeft,!0,!0),a.scrollToPos){var y=qp(l,Mt(h,a.scrollToPos.from),Mt(h,a.scrollToPos.to),a.scrollToPos.margin);Bh(l,y)}var E=a.maybeHiddenMarkers,k=a.maybeUnhiddenMarkers;if(E)for(var M=0;M<E.length;++M)E[M].lines.length||ft(E[M],"hide");if(k)for(var z=0;z<k.length;++z)k[z].lines.length&&ft(k[z],"unhide");d.wrapper.offsetHeight&&(h.scrollTop=l.display.scroller.scrollTop),a.changeObjs&&ft(l,"changes",l,a.changeObjs),a.update&&a.update.finish()}function Or(a,l){if(a.curOp)return l();Nr(a);try{return l()}finally{bs(a)}}function lr(a,l){return function(){if(a.curOp)return l.apply(a,arguments);Nr(a);try{return l.apply(a,arguments)}finally{bs(a)}}}function rr(a){return function(){if(this.curOp)return a.apply(this,arguments);Nr(this);try{return a.apply(this,arguments)}finally{bs(this)}}}function kn(a){return function(){var l=this.cm;if(!l||l.curOp)return a.apply(this,arguments);Nr(l);try{return a.apply(this,arguments)}finally{bs(l)}}}function ta(a,l){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(l,gt(_s,a))}function _s(a){var l=a.doc;if(!(l.highlightFrontier>=a.display.viewTo)){var d=+new Date+a.options.workTime,h=Ki(a,l.highlightFrontier),y=[];l.iter(h.line,Math.min(l.first+l.size,a.display.viewTo+500),function(E){if(h.line>=a.display.viewFrom){var k=E.styles,M=E.text.length>a.options.maxHighlightLength?$r(l.mode,h.state):null,z=us(a,E,h,!0);M&&(h.state=M),E.styles=z.styles;var J=E.styleClasses,de=z.classes;de?E.styleClasses=de:J&&(E.styleClasses=null);for(var _e=!k||k.length!=E.styles.length||J!=de&&(!J||!de||J.bgClass!=de.bgClass||J.textClass!=de.textClass),Le=0;!_e&&Le<k.length;++Le)_e=k[Le]!=E.styles[Le];_e&&y.push(h.line),E.stateAfter=h.save(),h.nextLine()}else E.text.length<=a.options.maxHighlightLength&&Zr(a,E.text,h),E.stateAfter=h.line%5==0?h.save():null,h.nextLine();if(+new Date>d)return ta(a,a.options.workDelay),!0}),l.highlightFrontier=h.line,l.modeFrontier=Math.max(l.modeFrontier,h.line),y.length&&Or(a,function(){for(var E=0;E<y.length;E++)Vi(a,y[E],"text")})}}var Bl=function(a,l,d){var h=a.display;this.viewport=l,this.visible=ec(h,a.doc,l),this.editorIsHidden=!h.wrapper.offsetWidth,this.wrapperHeight=h.wrapper.clientHeight,this.wrapperWidth=h.wrapper.clientWidth,this.oldDisplayWidth=$a(a),this.force=d,this.dims=Ph(a),this.events=[]};Bl.prototype.signal=function(a,l){Rt(a,l)&&this.events.push(arguments)},Bl.prototype.finish=function(){for(var a=0;a<this.events.length;a++)ft.apply(null,this.events[a])};function Vh(a){var l=a.display;!l.scrollbarsClipped&&l.scroller.offsetWidth&&(l.nativeBarWidth=l.scroller.offsetWidth-l.scroller.clientWidth,l.heightForcer.style.height=Qa(a)+"px",l.sizer.style.marginBottom=-l.nativeBarWidth+"px",l.sizer.style.borderRightWidth=Qa(a)+"px",l.scrollbarsClipped=!0)}function Ul(a){if(a.hasFocus())return null;var l=Fe(ge(a));if(!l||!Pe(a.display.lineDiv,l))return null;var d={activeElt:l};if(window.getSelection){var h=$e(a).getSelection();h.anchorNode&&h.extend&&Pe(a.display.lineDiv,h.anchorNode)&&(d.anchorNode=h.anchorNode,d.anchorOffset=h.anchorOffset,d.focusNode=h.focusNode,d.focusOffset=h.focusOffset)}return d}function ff(a){if(!(!a||!a.activeElt||a.activeElt==Fe(Ue(a.activeElt)))&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&Pe(document.body,a.anchorNode)&&Pe(document.body,a.focusNode))){var l=a.activeElt.ownerDocument,d=l.defaultView.getSelection(),h=l.createRange();h.setEnd(a.anchorNode,a.anchorOffset),h.collapse(!1),d.removeAllRanges(),d.addRange(h),d.extend(a.focusNode,a.focusOffset)}}function ws(a,l){var d=a.display,h=a.doc;if(l.editorIsHidden)return Ja(a),!1;if(!l.force&&l.visible.from>=d.viewFrom&&l.visible.to<=d.viewTo&&(d.updateLineNumbers==null||d.updateLineNumbers>=d.viewTo)&&d.renderedView==d.view&&of(a)==0)return!1;ur(a)&&(Ja(a),l.dims=Ph(a));var y=h.first+h.size,E=Math.max(l.visible.from-a.options.viewportMargin,h.first),k=Math.min(y,l.visible.to+a.options.viewportMargin);d.viewFrom<E&&E-d.viewFrom<20&&(E=Math.max(h.first,d.viewFrom)),d.viewTo>k&&d.viewTo-k<20&&(k=Math.min(y,d.viewTo)),mr&&(E=Ys(a.doc,E),k=Cl(a.doc,k));var M=E!=d.viewFrom||k!=d.viewTo||d.lastWrapHeight!=l.wrapperHeight||d.lastWrapWidth!=l.wrapperWidth;sf(a,E,k),d.viewOffset=Xi(xt(a.doc,d.viewFrom)),a.display.mover.style.top=d.viewOffset+"px";var z=of(a);if(!M&&z==0&&!l.force&&d.renderedView==d.view&&(d.updateLineNumbers==null||d.updateLineNumbers>=d.viewTo))return!1;var J=Ul(a);return z>4&&(d.lineDiv.style.display="none"),Yp(a,d.updateLineNumbers,l.dims),z>4&&(d.lineDiv.style.display=""),d.renderedView=d.view,ff(J),Z(d.cursorDiv),Z(d.selectionDiv),d.gutters.style.height=d.sizer.style.minHeight=0,M&&(d.lastWrapHeight=l.wrapperHeight,d.lastWrapWidth=l.wrapperWidth,ta(a,400)),d.updateLineNumbers=null,!0}function Mr(a,l){for(var d=l.viewport,h=!0;;h=!1){if(!h||!a.options.lineWrapping||l.oldDisplayWidth==$a(a)){if(d&&d.top!=null&&(d={top:Math.min(a.doc.height+Po(a.display)-$c(a),d.top)}),l.visible=ec(a.display,a.doc,d),l.visible.from>=a.display.viewFrom&&l.visible.to<=a.display.viewTo)break}else h&&(l.visible=ec(a.display,a.doc,d));if(!ws(a,l))break;es(a);var y=Fl(a);ga(a),Ho(a,y),Hh(a,y),l.force=!1}l.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(l.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Vl(a,l){var d=new Bl(a,l);if(ws(a,d)){es(a),Mr(a,d);var h=Fl(a);ga(a),Ho(a,h),Hh(a,h),d.finish()}}function Yp(a,l,d){var h=a.display,y=a.options.lineNumbers,E=h.lineDiv,k=E.firstChild;function M(Ye){var tt=Ye.nextSibling;return _&&te&&a.display.currentWheelTarget==Ye?Ye.style.display="none":Ye.parentNode.removeChild(Ye),tt}for(var z=h.view,J=h.viewFrom,de=0;de<z.length;de++){var _e=z[de];if(!_e.hidden)if(!_e.node||_e.node.parentNode!=E){var Le=Dl(a,_e,J,d);E.insertBefore(Le,k)}else{for(;k!=_e.node;)k=M(k);var Re=y&&l!=null&&l<=J&&_e.lineNumber;_e.changes&&(_t(_e.changes,"gutter")>-1&&(Re=!1),nr(a,_e,J,d)),Re&&(Z(_e.lineNumber),_e.lineNumber.appendChild(document.createTextNode(ai(a.options,J)))),k=_e.node.nextSibling}J+=_e.size}for(;k;)k=M(k)}function jh(a){var l=a.gutters.offsetWidth;a.sizer.style.marginLeft=l+"px",ot(a,"gutterChanged",a)}function Hh(a,l){a.display.sizer.style.minHeight=l.docHeight+"px",a.display.heightForcer.style.top=l.docHeight+"px",a.display.gutters.style.height=l.docHeight+a.display.barHeight+Qa(a)+"px"}function Kp(a){var l=a.display,d=l.view;if(!(!l.alignWidgets&&(!l.gutters.firstChild||!a.options.fixedGutter))){for(var h=af(l)-l.scroller.scrollLeft+a.doc.scrollLeft,y=l.gutters.offsetWidth,E=h+"px",k=0;k<d.length;k++)if(!d[k].hidden){a.options.fixedGutter&&(d[k].gutter&&(d[k].gutter.style.left=E),d[k].gutterBackground&&(d[k].gutterBackground.style.left=E));var M=d[k].alignable;if(M)for(var z=0;z<M.length;z++)M[z].style.left=E}a.options.fixedGutter&&(l.gutters.style.left=h+y+"px")}}function ur(a){if(!a.options.lineNumbers)return!1;var l=a.doc,d=ai(a.options,l.first+l.size-1),h=a.display;if(d.length!=h.lineNumChars){var y=h.measure.appendChild(ee("div",[ee("div",d)],"CodeMirror-linenumber CodeMirror-gutter-elt")),E=y.firstChild.offsetWidth,k=y.offsetWidth-E;return h.lineGutter.style.width="",h.lineNumInnerWidth=Math.max(E,h.lineGutter.offsetWidth-k)+1,h.lineNumWidth=h.lineNumInnerWidth+k,h.lineNumChars=h.lineNumInnerWidth?d.length:-1,h.lineGutter.style.width=h.lineNumWidth+"px",jh(a.display),!0}return!1}function tc(a,l){for(var d=[],h=!1,y=0;y<a.length;y++){var E=a[y],k=null;if(typeof E!="string"&&(k=E.style,E=E.className),E=="CodeMirror-linenumbers")if(l)h=!0;else continue;d.push({className:E,style:k})}return l&&!h&&d.push({className:"CodeMirror-linenumbers",style:null}),d}function jl(a){var l=a.gutters,d=a.gutterSpecs;Z(l),a.lineGutter=null;for(var h=0;h<d.length;++h){var y=d[h],E=y.className,k=y.style,M=l.appendChild(ee("div",null,"CodeMirror-gutter "+E));k&&(M.style.cssText=k),E=="CodeMirror-linenumbers"&&(a.lineGutter=M,M.style.width=(a.lineNumWidth||1)+"px")}l.style.display=d.length?"":"none",jh(a)}function xs(a){jl(a.display),On(a),Kp(a)}function qh(a,l,d,h){var y=this;this.input=d,y.scrollbarFiller=ee("div",null,"CodeMirror-scrollbar-filler"),y.scrollbarFiller.setAttribute("cm-not-content","true"),y.gutterFiller=ee("div",null,"CodeMirror-gutter-filler"),y.gutterFiller.setAttribute("cm-not-content","true"),y.lineDiv=fe("div",null,"CodeMirror-code"),y.selectionDiv=ee("div",null,null,"position: relative; z-index: 1"),y.cursorDiv=ee("div",null,"CodeMirror-cursors"),y.measure=ee("div",null,"CodeMirror-measure"),y.lineMeasure=ee("div",null,"CodeMirror-measure"),y.lineSpace=fe("div",[y.measure,y.lineMeasure,y.selectionDiv,y.cursorDiv,y.lineDiv],null,"position: relative; outline: none");var E=fe("div",[y.lineSpace],"CodeMirror-lines");y.mover=ee("div",[E],null,"position: relative"),y.sizer=ee("div",[y.mover],"CodeMirror-sizer"),y.sizerWidth=null,y.heightForcer=ee("div",null,null,"position: absolute; height: "+Pt+"px; width: 1px;"),y.gutters=ee("div",null,"CodeMirror-gutters"),y.lineGutter=null,y.scroller=ee("div",[y.sizer,y.heightForcer,y.gutters],"CodeMirror-scroll"),y.scroller.setAttribute("tabIndex","-1"),y.wrapper=ee("div",[y.scrollbarFiller,y.gutterFiller,y.scroller],"CodeMirror"),T&&C===105&&(y.wrapper.style.clipPath="inset(0px)"),y.wrapper.setAttribute("translate","no"),g&&v<8&&(y.gutters.style.zIndex=-1,y.scroller.style.paddingRight=0),!_&&!(o&&re)&&(y.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(y.wrapper):a(y.wrapper)),y.viewFrom=y.viewTo=l.first,y.reportedViewFrom=y.reportedViewTo=l.first,y.view=[],y.renderedView=null,y.externalMeasured=null,y.viewOffset=0,y.lastWrapHeight=y.lastWrapWidth=0,y.updateLineNumbers=null,y.nativeBarWidth=y.barHeight=y.barWidth=0,y.scrollbarsClipped=!1,y.lineNumWidth=y.lineNumInnerWidth=y.lineNumChars=null,y.alignWidgets=!1,y.cachedCharWidth=y.cachedTextHeight=y.cachedPaddingH=null,y.maxLine=null,y.maxLineLength=0,y.maxLineChanged=!1,y.wheelDX=y.wheelDY=y.wheelStartX=y.wheelStartY=null,y.shift=!1,y.selForContextMenu=null,y.activeTouch=null,y.gutterSpecs=tc(h.gutters,h.lineNumbers),jl(y),d.init(y)}var Es=0,wi=null;g?wi=-.53:o?wi=15:T?wi=-.7:R&&(wi=-1/3);function Qp(a){var l=a.wheelDeltaX,d=a.wheelDeltaY;return l==null&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(l=a.detail),d==null&&a.detail&&a.axis==a.VERTICAL_AXIS?d=a.detail:d==null&&(d=a.wheelDelta),{x:l,y:d}}function $p(a){var l=Qp(a);return l.x*=wi,l.y*=wi,l}function Xp(a,l){T&&C==102&&(a.display.chromeScrollHack==null?a.display.sizer.style.pointerEvents="none":clearTimeout(a.display.chromeScrollHack),a.display.chromeScrollHack=setTimeout(function(){a.display.chromeScrollHack=null,a.display.sizer.style.pointerEvents=""},100));var d=Qp(l),h=d.x,y=d.y,E=wi;l.deltaMode===0&&(h=l.deltaX,y=l.deltaY,E=1);var k=a.display,M=k.scroller,z=M.scrollWidth>M.clientWidth,J=M.scrollHeight>M.clientHeight;if(h&&z||y&&J){if(y&&te&&_){e:for(var de=l.target,_e=k.view;de!=M;de=de.parentNode)for(var Le=0;Le<_e.length;Le++)if(_e[Le].node==de){a.display.currentWheelTarget=de;break e}}if(h&&!o&&!L&&E!=null){y&&J&&_i(a,Math.max(0,M.scrollTop+y*E)),ci(a,Math.max(0,M.scrollLeft+h*E)),(!y||y&&J)&&Nt(l),k.wheelStartX=null;return}if(y&&E!=null){var Re=y*E,Ye=a.doc.scrollTop,tt=Ye+k.wrapper.clientHeight;Re<0?Ye=Math.max(0,Ye+Re-50):tt=Math.min(a.doc.height,tt+Re+50),Vl(a,{top:Ye,bottom:tt})}Es<20&&l.deltaMode!==0&&(k.wheelStartX==null?(k.wheelStartX=M.scrollLeft,k.wheelStartY=M.scrollTop,k.wheelDX=h,k.wheelDY=y,setTimeout(function(){if(k.wheelStartX!=null){var ct=M.scrollLeft-k.wheelStartX,pt=M.scrollTop-k.wheelStartY,yt=pt&&k.wheelDY&&pt/k.wheelDY||ct&&k.wheelDX&&ct/k.wheelDX;k.wheelStartX=k.wheelStartY=null,yt&&(wi=(wi*Es+yt)/(Es+1),++Es)}},200)):(k.wheelDX+=h,k.wheelDY+=y))}}var xi=function(a,l){this.ranges=a,this.primIndex=l};xi.prototype.primary=function(){return this.ranges[this.primIndex]},xi.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var l=0;l<this.ranges.length;l++){var d=this.ranges[l],h=a.ranges[l];if(!Pa(d.anchor,h.anchor)||!Pa(d.head,h.head))return!1}return!0},xi.prototype.deepCopy=function(){for(var a=[],l=0;l<this.ranges.length;l++)a[l]=new Zt(Ao(this.ranges[l].anchor),Ao(this.ranges[l].head));return new xi(a,this.primIndex)},xi.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},xi.prototype.contains=function(a,l){l||(l=a);for(var d=0;d<this.ranges.length;d++){var h=this.ranges[d];if(St(l,h.from())>=0&&St(a,h.to())<=0)return d}return-1};var Zt=function(a,l){this.anchor=a,this.head=l};Zt.prototype.from=function(){return Fa(this.anchor,this.head)},Zt.prototype.to=function(){return pn(this.anchor,this.head)},Zt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function ji(a,l,d){var h=a&&a.options.selectionsMayTouch,y=l[d];l.sort(function(Le,Re){return St(Le.from(),Re.from())}),d=_t(l,y);for(var E=1;E<l.length;E++){var k=l[E],M=l[E-1],z=St(M.to(),k.from());if(h&&!k.empty()?z>0:z>=0){var J=Fa(M.from(),k.from()),de=pn(M.to(),k.to()),_e=M.empty()?k.from()==k.head:M.from()==M.head;E<=d&&--d,l.splice(--E,2,new Zt(_e?de:J,_e?J:de))}}return new xi(l,d)}function ba(a,l){return new xi([new Zt(a,l||a)],0)}function Ss(a){return a.text?et(a.from.line+a.text.length-1,Me(a.text).length+(a.text.length==1?a.from.ch:0)):a.to}function Wo(a,l){if(St(a,l.from)<0)return a;if(St(a,l.to)<=0)return Ss(l);var d=a.line+l.text.length-(l.to.line-l.from.line)-1,h=a.ch;return a.line==l.to.line&&(h+=Ss(l).ch-l.to.ch),et(d,h)}function nc(a,l){for(var d=[],h=0;h<a.sel.ranges.length;h++){var y=a.sel.ranges[h];d.push(new Zt(Wo(y.anchor,l),Wo(y.head,l)))}return ji(a.cm,d,a.sel.primIndex)}function rc(a,l,d){return a.line==l.line?et(d.line,a.ch-l.ch+d.ch):et(d.line+(a.line-l.line),a.ch)}function hf(a,l,d){for(var h=[],y=et(a.first,0),E=y,k=0;k<l.length;k++){var M=l[k],z=rc(M.from,y,E),J=rc(Ss(M),y,E);if(y=M.to,E=J,d=="around"){var de=a.sel.ranges[k],_e=St(de.head,de.anchor)<0;h[k]=new Zt(_e?J:z,_e?z:J)}else h[k]=new Zt(z,z)}return new xi(h,a.sel.primIndex)}function df(a){a.doc.mode=ii(a.options,a.doc.modeOption),Hl(a)}function Hl(a){a.doc.iter(function(l){l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,ta(a,100),a.state.modeGen++,a.curOp&&On(a)}function eo(a,l){return l.from.ch==0&&l.to.ch==0&&Me(l.text)==""&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Ts(a,l,d,h){function y(yt){return d?d[yt]:null}function E(yt,it,wt){kl(yt,it,wt,h),ot(yt,"change",yt,l)}function k(yt,it){for(var wt=[],It=yt;It<it;++It)wt.push(new fs(J[It],y(It),h));return wt}var M=l.from,z=l.to,J=l.text,de=xt(a,M.line),_e=xt(a,z.line),Le=Me(J),Re=y(J.length-1),Ye=z.line-M.line;if(l.full)a.insert(0,k(0,J.length)),a.remove(J.length,a.size-J.length);else if(eo(a,l)){var tt=k(0,J.length-1);E(_e,_e.text,Re),Ye&&a.remove(M.line,Ye),tt.length&&a.insert(M.line,tt)}else if(de==_e)if(J.length==1)E(de,de.text.slice(0,M.ch)+Le+de.text.slice(z.ch),Re);else{var ct=k(1,J.length-1);ct.push(new fs(Le+de.text.slice(z.ch),Re,h)),E(de,de.text.slice(0,M.ch)+J[0],y(0)),a.insert(M.line+1,ct)}else if(J.length==1)E(de,de.text.slice(0,M.ch)+J[0]+_e.text.slice(z.ch),y(0)),a.remove(M.line+1,Ye);else{E(de,de.text.slice(0,M.ch)+J[0],y(0)),E(_e,Le+_e.text.slice(z.ch),Re);var pt=k(1,J.length-1);Ye>1&&a.remove(M.line+1,Ye-1),a.insert(M.line+1,pt)}ot(a,"change",a,l)}function Cs(a,l,d){function h(y,E,k){if(y.linked)for(var M=0;M<y.linked.length;++M){var z=y.linked[M];if(z.doc!=E){var J=k&&z.sharedHist;d&&!J||(l(z.doc,J),h(z.doc,y,J))}}}h(a,null,!0)}function Wh(a,l){if(l.cm)throw new Error("This document is already in use.");a.doc=l,l.cm=a,Ju(a),df(a),Go(a),a.options.direction=l.direction,a.options.lineWrapping||Oo(a),a.options.mode=l.modeOption,On(a)}function Go(a){(a.doc.direction=="rtl"?le:F)(a.display.lineDiv,"CodeMirror-rtl")}function ic(a){Or(a,function(){Go(a),On(a)})}function Yo(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function Ko(a,l){var d={from:Ao(l.from),to:Ss(l),text:Xr(a,l.from,l.to)};return pf(a,d,l.from.line,l.to.line+1),Cs(a,function(h){return pf(h,d,l.from.line,l.to.line+1)},!0),d}function ac(a){for(;a.length;){var l=Me(a);if(l.ranges)a.pop();else break}}function Zp(a,l){if(l)return ac(a.done),Me(a.done);if(a.done.length&&!Me(a.done).ranges)return Me(a.done);if(a.done.length>1&&!a.done[a.done.length-2].ranges)return a.done.pop(),Me(a.done)}function to(a,l,d,h){var y=a.history;y.undone.length=0;var E=+new Date,k,M;if((y.lastOp==h||y.lastOrigin==l.origin&&l.origin&&(l.origin.charAt(0)=="+"&&y.lastModTime>E-(a.cm?a.cm.options.historyEventDelay:500)||l.origin.charAt(0)=="*"))&&(k=Zp(y,y.lastOp==h)))M=Me(k.changes),St(l.from,l.to)==0&&St(l.from,M.to)==0?M.to=Ss(l):k.changes.push(Ko(a,l));else{var z=Me(y.done);for((!z||!z.ranges)&&ql(a.sel,y.done),k={changes:[Ko(a,l)],generation:y.generation},y.done.push(k);y.done.length>y.undoDepth;)y.done.shift(),y.done[0].ranges||y.done.shift()}y.done.push(d),y.generation=++y.maxGeneration,y.lastModTime=y.lastSelTime=E,y.lastOp=y.lastSelOp=h,y.lastOrigin=y.lastSelOrigin=l.origin,M||ft(a,"historyAdded")}function Jp(a,l,d,h){var y=l.charAt(0);return y=="*"||y=="+"&&d.ranges.length==h.ranges.length&&d.somethingSelected()==h.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function no(a,l,d,h){var y=a.history,E=h&&h.origin;d==y.lastSelOp||E&&y.lastSelOrigin==E&&(y.lastModTime==y.lastSelTime&&y.lastOrigin==E||Jp(a,E,Me(y.done),l))?y.done[y.done.length-1]=l:ql(l,y.done),y.lastSelTime=+new Date,y.lastSelOrigin=E,y.lastSelOp=d,h&&h.clearRedo!==!1&&ac(y.undone)}function ql(a,l){var d=Me(l);d&&d.ranges&&d.equals(a)||l.push(a)}function pf(a,l,d,h){var y=l["spans_"+a.id],E=0;a.iter(Math.max(a.first,d),Math.min(a.first+a.size,h),function(k){k.markedSpans&&((y||(y=l["spans_"+a.id]={}))[E]=k.markedSpans),++E})}function ro(a){if(!a)return null;for(var l,d=0;d<a.length;++d)a[d].marker.explicitlyCleared?l||(l=a.slice(0,d)):l&&l.push(a[d]);return l?l.length?l:null:a}function io(a,l){var d=l["spans_"+a.id];if(!d)return null;for(var h=[],y=0;y<l.text.length;++y)h.push(ro(d[y]));return h}function Wl(a,l){var d=io(a,l),h=bn(a,l);if(!d)return h;if(!h)return d;for(var y=0;y<d.length;++y){var E=d[y],k=h[y];if(E&&k)e:for(var M=0;M<k.length;++M){for(var z=k[M],J=0;J<E.length;++J)if(E[J].marker==z.marker)continue e;E.push(z)}else k&&(d[y]=k)}return d}function ao(a,l,d){for(var h=[],y=0;y<a.length;++y){var E=a[y];if(E.ranges){h.push(d?xi.prototype.deepCopy.call(E):E);continue}var k=E.changes,M=[];h.push({changes:M});for(var z=0;z<k.length;++z){var J=k[z],de=void 0;if(M.push({from:J.from,to:J.to,text:J.text}),l)for(var _e in J)(de=_e.match(/^spans_(\d+)$/))&&_t(l,Number(de[1]))>-1&&(Me(M)[_e]=J[_e],delete J[_e])}}return h}function sc(a,l,d,h){if(h){var y=a.anchor;if(d){var E=St(l,y)<0;E!=St(d,y)<0?(y=l,l=d):E!=St(l,d)<0&&(l=d)}return new Zt(y,l)}else return new Zt(d||l,l)}function so(a,l,d,h,y){y==null&&(y=a.cm&&(a.cm.display.shift||a.extend)),Lr(a,new xi([sc(a.sel.primary(),l,d,y)],0),h)}function Gl(a,l,d){for(var h=[],y=a.cm&&(a.cm.display.shift||a.extend),E=0;E<a.sel.ranges.length;E++)h[E]=sc(a.sel.ranges[E],l[E],null,y);var k=ji(a.cm,h,a.sel.primIndex);Lr(a,k,d)}function mf(a,l,d,h){var y=a.sel.ranges.slice(0);y[l]=d,Lr(a,ji(a.cm,y,a.sel.primIndex),h)}function Gh(a,l,d,h){Lr(a,ba(l,d),h)}function Yl(a,l,d){var h={ranges:l.ranges,update:function(y){this.ranges=[];for(var E=0;E<y.length;E++)this.ranges[E]=new Zt(Mt(a,y[E].anchor),Mt(a,y[E].head))},origin:d&&d.origin};return ft(a,"beforeSelectionChange",a,h),a.cm&&ft(a.cm,"beforeSelectionChange",a.cm,h),h.ranges!=l.ranges?ji(a.cm,h.ranges,h.ranges.length-1):l}function oc(a,l,d){var h=a.history.done,y=Me(h);y&&y.ranges?(h[h.length-1]=l,Kl(a,l,d)):Lr(a,l,d)}function Lr(a,l,d){Kl(a,l,d),no(a,a.sel,a.cm?a.cm.curOp.id:NaN,d)}function Kl(a,l,d){(Rt(a,"beforeSelectionChange")||a.cm&&Rt(a.cm,"beforeSelectionChange"))&&(l=Yl(a,l,d));var h=d&&d.bias||(St(l.primary().head,a.sel.primary().head)<0?-1:1);gf(a,Hi(a,l,h,!0)),!(d&&d.scroll===!1)&&a.cm&&a.cm.getOption("readOnly")!="nocursor"&&ms(a.cm)}function gf(a,l){l.equals(a.sel)||(a.sel=l,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,kt(a.cm)),ot(a,"cursorActivity",a))}function Ei(a){gf(a,Hi(a,a.sel,null,!1))}function Hi(a,l,d,h){for(var y,E=0;E<l.ranges.length;E++){var k=l.ranges[E],M=l.ranges.length==a.sel.ranges.length&&a.sel.ranges[E],z=Ql(a,k.anchor,M&&M.anchor,d,h),J=k.head==k.anchor?z:Ql(a,k.head,M&&M.head,d,h);(y||z!=k.anchor||J!=k.head)&&(y||(y=l.ranges.slice(0,E)),y[E]=new Zt(z,J))}return y?ji(a.cm,y,l.primIndex):l}function qi(a,l,d,h,y){var E=xt(a,l.line);if(E.markedSpans)for(var k=0;k<E.markedSpans.length;++k){var M=E.markedSpans[k],z=M.marker,J="selectLeft"in z?!z.selectLeft:z.inclusiveLeft,de="selectRight"in z?!z.selectRight:z.inclusiveRight;if((M.from==null||(J?M.from<=l.ch:M.from<l.ch))&&(M.to==null||(de?M.to>=l.ch:M.to>l.ch))){if(y&&(ft(z,"beforeCursorEnter"),z.explicitlyCleared))if(E.markedSpans){--k;continue}else break;if(!z.atomic)continue;if(d){var _e=z.find(h<0?1:-1),Le=void 0;if((h<0?de:J)&&(_e=Yh(a,_e,-h,_e&&_e.line==l.line?E:null)),_e&&_e.line==l.line&&(Le=St(_e,d))&&(h<0?Le<0:Le>0))return qi(a,_e,l,h,y)}var Re=z.find(h<0?-1:1);return(h<0?J:de)&&(Re=Yh(a,Re,h,Re.line==l.line?E:null)),Re?qi(a,Re,l,h,y):null}}return l}function Ql(a,l,d,h,y){var E=h||1,k=qi(a,l,d,E,y)||!y&&qi(a,l,d,E,!0)||qi(a,l,d,-E,y)||!y&&qi(a,l,d,-E,!0);return k||(a.cantEdit=!0,et(a.first,0))}function Yh(a,l,d,h){return d<0&&l.ch==0?l.line>a.first?Mt(a,et(l.line-1)):null:d>0&&l.ch==(h||xt(a,l.line)).text.length?l.line<a.first+a.size-1?et(l.line+1,0):null:new et(l.line,l.ch+d)}function As(a){a.setSelection(et(a.firstLine(),0),et(a.lastLine()),K)}function Si(a,l,d){var h={canceled:!1,from:l.from,to:l.to,text:l.text,origin:l.origin,cancel:function(){return h.canceled=!0}};return d&&(h.update=function(y,E,k,M){y&&(h.from=Mt(a,y)),E&&(h.to=Mt(a,E)),k&&(h.text=k),M!==void 0&&(h.origin=M)}),ft(a,"beforeChange",a,h),a.cm&&ft(a.cm,"beforeChange",a.cm,h),h.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:h.from,to:h.to,text:h.text,origin:h.origin}}function Ln(a,l,d){if(a.cm){if(!a.cm.curOp)return lr(a.cm,Ln)(a,l,d);if(a.cm.state.suppressEdits)return}if(!((Rt(a,"beforeChange")||a.cm&&Rt(a.cm,"beforeChange"))&&(l=Si(a,l,!0),!l))){var h=xl&&!d&&Gu(a,l.from,l.to);if(h)for(var y=h.length-1;y>=0;--y)lc(a,{from:h[y].from,to:h[y].to,text:y?[""]:l.text,origin:l.origin});else lc(a,l)}}function lc(a,l){if(!(l.text.length==1&&l.text[0]==""&&St(l.from,l.to)==0)){var d=nc(a,l);to(a,l,d,a.cm?a.cm.curOp.id:NaN),mn(a,l,d,bn(a,l));var h=[];Cs(a,function(y,E){!E&&_t(h,y.history)==-1&&(uc(y.history,l),h.push(y.history)),mn(y,l,null,bn(y,l))})}}function na(a,l,d){var h=a.cm&&a.cm.state.suppressEdits;if(!(h&&!d)){for(var y=a.history,E,k=a.sel,M=l=="undo"?y.done:y.undone,z=l=="undo"?y.undone:y.done,J=0;J<M.length&&(E=M[J],!(d?E.ranges&&!E.equals(a.sel):!E.ranges));J++);if(J!=M.length){for(y.lastOrigin=y.lastSelOrigin=null;;)if(E=M.pop(),E.ranges){if(ql(E,z),d&&!E.equals(a.sel)){Lr(a,E,{clearRedo:!1});return}k=E}else if(h){M.push(E);return}else break;var de=[];ql(k,z),z.push({changes:de,generation:y.generation}),y.generation=E.generation||++y.maxGeneration;for(var _e=Rt(a,"beforeChange")||a.cm&&Rt(a.cm,"beforeChange"),Le=function(tt){var ct=E.changes[tt];if(ct.origin=l,_e&&!Si(a,ct,!1))return M.length=0,{};de.push(Ko(a,ct));var pt=tt?nc(a,ct):Me(M);mn(a,ct,pt,Wl(a,ct)),!tt&&a.cm&&a.cm.scrollIntoView({from:ct.from,to:Ss(ct)});var yt=[];Cs(a,function(it,wt){!wt&&_t(yt,it.history)==-1&&(uc(it.history,ct),yt.push(it.history)),mn(it,ct,null,Wl(it,ct))})},Re=E.changes.length-1;Re>=0;--Re){var Ye=Le(Re);if(Ye)return Ye.v}}}}function Wt(a,l){if(l!=0&&(a.first+=l,a.sel=new xi(Xe(a.sel.ranges,function(y){return new Zt(et(y.anchor.line+l,y.anchor.ch),et(y.head.line+l,y.head.ch))}),a.sel.primIndex),a.cm)){On(a.cm,a.first,a.first-l,l);for(var d=a.cm.display,h=d.viewFrom;h<d.viewTo;h++)Vi(a.cm,h,"gutter")}}function mn(a,l,d,h){if(a.cm&&!a.cm.curOp)return lr(a.cm,mn)(a,l,d,h);if(l.to.line<a.first){Wt(a,l.text.length-1-(l.to.line-l.from.line));return}if(!(l.from.line>a.lastLine())){if(l.from.line<a.first){var y=l.text.length-1-(a.first-l.from.line);Wt(a,y),l={from:et(a.first,0),to:et(l.to.line+y,l.to.ch),text:[Me(l.text)],origin:l.origin}}var E=a.lastLine();l.to.line>E&&(l={from:l.from,to:et(E,xt(a,E).text.length),text:[l.text[0]],origin:l.origin}),l.removed=Xr(a,l.from,l.to),d||(d=nc(a,l)),a.cm?gr(a.cm,l,h):Ts(a,l,h),Kl(a,d,K),a.cantEdit&&Ql(a,et(a.firstLine(),0))&&(a.cantEdit=!1)}}function gr(a,l,d){var h=a.doc,y=a.display,E=l.from,k=l.to,M=!1,z=E.line;a.options.lineWrapping||(z=ln(Rr(xt(h,E.line))),h.iter(z,k.line+1,function(Re){if(Re==y.maxLine)return M=!0,!0})),h.sel.contains(l.from,l.to)>-1&&kt(a),Ts(h,l,d,Fh(a)),a.options.lineWrapping||(h.iter(z,E.line+l.text.length,function(Re){var Ye=qa(Re);Ye>y.maxLineLength&&(y.maxLine=Re,y.maxLineLength=Ye,y.maxLineChanged=!0,M=!1)}),M&&(a.curOp.updateMaxLine=!0)),da(h,E.line),ta(a,400);var J=l.text.length-(k.line-E.line)-1;l.full?On(a):E.line==k.line&&l.text.length==1&&!eo(a.doc,l)?Vi(a,E.line,"text"):On(a,E.line,k.line+1,J);var de=Rt(a,"changes"),_e=Rt(a,"change");if(_e||de){var Le={from:E,to:k,text:l.text,removed:l.removed,origin:l.origin};_e&&ot(a,"change",a,Le),de&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(Le)}a.display.selForContextMenu=null}function ks(a,l,d,h,y){var E;h||(h=d),St(h,d)<0&&(E=[h,d],d=E[0],h=E[1]),typeof l=="string"&&(l=a.splitLines(l)),Ln(a,{from:d,to:h,text:l,origin:y})}function Qo(a,l,d,h){d<a.line?a.line+=h:l<a.line&&(a.line=l,a.ch=0)}function oo(a,l,d,h){for(var y=0;y<a.length;++y){var E=a[y],k=!0;if(E.ranges){E.copied||(E=a[y]=E.deepCopy(),E.copied=!0);for(var M=0;M<E.ranges.length;M++)Qo(E.ranges[M].anchor,l,d,h),Qo(E.ranges[M].head,l,d,h);continue}for(var z=0;z<E.changes.length;++z){var J=E.changes[z];if(d<J.from.line)J.from=et(J.from.line+h,J.from.ch),J.to=et(J.to.line+h,J.to.ch);else if(l<=J.to.line){k=!1;break}}k||(a.splice(0,y+1),y=0)}}function uc(a,l){var d=l.from.line,h=l.to.line,y=l.text.length-(h-d)-1;oo(a.done,d,h,y),oo(a.undone,d,h,y)}function Ds(a,l,d,h){var y=l,E=l;return typeof l=="number"?E=xt(a,ha(a,l)):y=ln(l),y==null?null:(h(E,y)&&a.cm&&Vi(a.cm,y,d),E)}function ts(a){this.lines=a,this.parent=null;for(var l=0,d=0;d<a.length;++d)a[d].parent=this,l+=a[d].height;this.height=l}ts.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,l){for(var d=a,h=a+l;d<h;++d){var y=this.lines[d];this.height-=y.height,Wc(y),ot(y,"delete")}this.lines.splice(a,l)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,l,d){this.height+=d,this.lines=this.lines.slice(0,a).concat(l).concat(this.lines.slice(a));for(var h=0;h<l.length;++h)l[h].parent=this},iterN:function(a,l,d){for(var h=a+l;a<h;++a)if(d(this.lines[a]))return!0}};function cc(a){this.children=a;for(var l=0,d=0,h=0;h<a.length;++h){var y=a[h];l+=y.chunkSize(),d+=y.height,y.parent=this}this.size=l,this.height=d,this.parent=null}cc.prototype={chunkSize:function(){return this.size},removeInner:function(a,l){this.size-=l;for(var d=0;d<this.children.length;++d){var h=this.children[d],y=h.chunkSize();if(a<y){var E=Math.min(l,y-a),k=h.height;if(h.removeInner(a,E),this.height-=k-h.height,y==E&&(this.children.splice(d--,1),h.parent=null),(l-=E)==0)break;a=0}else a-=y}if(this.size-l<25&&(this.children.length>1||!(this.children[0]instanceof ts))){var M=[];this.collapse(M),this.children=[new ts(M)],this.children[0].parent=this}},collapse:function(a){for(var l=0;l<this.children.length;++l)this.children[l].collapse(a)},insertInner:function(a,l,d){this.size+=l.length,this.height+=d;for(var h=0;h<this.children.length;++h){var y=this.children[h],E=y.chunkSize();if(a<=E){if(y.insertInner(a,l,d),y.lines&&y.lines.length>50){for(var k=y.lines.length%25+25,M=k;M<y.lines.length;){var z=new ts(y.lines.slice(M,M+=25));y.height-=z.height,this.children.splice(++h,0,z),z.parent=this}y.lines=y.lines.slice(0,k),this.maybeSpill()}break}a-=E}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var l=a.children.splice(a.children.length-5,5),d=new cc(l);if(a.parent){a.size-=d.size,a.height-=d.height;var y=_t(a.parent.children,a);a.parent.children.splice(y+1,0,d)}else{var h=new cc(a.children);h.parent=a,a.children=[h,d],a=h}d.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,l,d){for(var h=0;h<this.children.length;++h){var y=this.children[h],E=y.chunkSize();if(a<E){var k=Math.min(l,E-a);if(y.iterN(a,k,d))return!0;if((l-=k)==0)break;a=0}else a-=E}}};var Pn=function(a,l,d){if(d)for(var h in d)d.hasOwnProperty(h)&&(this[h]=d[h]);this.doc=a,this.node=l};Pn.prototype.clear=function(){var a=this.doc.cm,l=this.line.widgets,d=this.line,h=ln(d);if(!(h==null||!l)){for(var y=0;y<l.length;++y)l[y]==this&&l.splice(y--,1);l.length||(d.widgets=null);var E=$u(this);gi(d,Math.max(0,d.height-E)),a&&(Or(a,function(){yf(a,d,-E),Vi(a,h,"widget")}),ot(a,"lineWidgetCleared",a,this,h))}},Pn.prototype.changed=function(){var a=this,l=this.height,d=this.doc.cm,h=this.line;this.height=null;var y=$u(this)-l;y&&(bi(this.doc,h)||gi(h,h.height+y),d&&Or(d,function(){d.curOp.forceUpdate=!0,yf(d,h,y),ot(d,"lineWidgetChanged",d,a,ln(h))}))},zt(Pn);function yf(a,l,d){Xi(l)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Xs(a,d)}function Kh(a,l,d,h){var y=new Pn(a,d,h),E=a.cm;return E&&y.noHScroll&&(E.display.alignWidgets=!0),Ds(a,l,"widget",function(k){var M=k.widgets||(k.widgets=[]);if(y.insertAt==null?M.push(y):M.splice(Math.min(M.length,Math.max(0,y.insertAt)),0,y),y.line=k,E&&!bi(a,k)){var z=Xi(k)<a.scrollTop;gi(k,k.height+$u(y)),z&&Xs(E,y.height),E.curOp.forceUpdate=!0}return!0}),E&&ot(E,"lineWidgetAdded",E,y,typeof l=="number"?l:ln(l)),y}var Qh=0,Rs=function(a,l){this.lines=[],this.type=l,this.doc=a,this.id=++Qh};Rs.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,l=a&&!a.curOp;if(l&&Nr(a),Rt(this,"clear")){var d=this.find();d&&ot(this,"clear",d.from,d.to)}for(var h=null,y=null,E=0;E<this.lines.length;++E){var k=this.lines[E],M=Ua(k.markedSpans,this);a&&!this.collapsed?Vi(a,ln(k),"text"):a&&(M.to!=null&&(y=ln(k)),M.from!=null&&(h=ln(k))),k.markedSpans=qs(k.markedSpans,M),M.from==null&&this.collapsed&&!bi(this.doc,k)&&a&&gi(k,Ml(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var z=0;z<this.lines.length;++z){var J=Rr(this.lines[z]),de=qa(J);de>a.display.maxLineLength&&(a.display.maxLine=J,a.display.maxLineLength=de,a.display.maxLineChanged=!0)}h!=null&&a&&this.collapsed&&On(a,h,y+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Ei(a.doc)),a&&ot(a,"markerCleared",a,this,h,y),l&&bs(a),this.parent&&this.parent.clear()}},Rs.prototype.find=function(a,l){a==null&&this.type=="bookmark"&&(a=1);for(var d,h,y=0;y<this.lines.length;++y){var E=this.lines[y],k=Ua(E.markedSpans,this);if(k.from!=null&&(d=et(l?E:ln(E),k.from),a==-1))return d;if(k.to!=null&&(h=et(l?E:ln(E),k.to),a==1))return h}return d&&{from:d,to:h}},Rs.prototype.changed=function(){var a=this,l=this.find(-1,!0),d=this,h=this.doc.cm;!l||!h||Or(h,function(){var y=l.line,E=ln(l.line),k=Zc(h,E);if(k&&(Il(k),h.curOp.selectionChanged=h.curOp.forceUpdate=!0),h.curOp.updateMaxLine=!0,!bi(d.doc,y)&&d.height!=null){var M=d.height;d.height=null;var z=$u(d)-M;z&&gi(y,y.height+z)}ot(h,"markerChanged",h,a)})},Rs.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(!l.maybeHiddenMarkers||_t(l.maybeHiddenMarkers,this)==-1)&&(l.maybeUnhiddenMarkers||(l.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Rs.prototype.detachLine=function(a){if(this.lines.splice(_t(this.lines,a),1),!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(l.maybeHiddenMarkers||(l.maybeHiddenMarkers=[])).push(this)}},zt(Rs);function $l(a,l,d,h,y){if(h&&h.shared)return $h(a,l,d,h,y);if(a.cm&&!a.cm.curOp)return lr(a.cm,$l)(a,l,d,h,y);var E=new Rs(a,y),k=St(l,d);if(h&&ht(h,E,!1),k>0||k==0&&E.clearWhenEmpty!==!1)return E;if(E.replacedWith&&(E.collapsed=!0,E.widgetNode=fe("span",[E.replacedWith],"CodeMirror-widget"),h.handleMouseEvents||E.widgetNode.setAttribute("cm-ignore-events","true"),h.insertLeft&&(E.widgetNode.insertLeft=!0)),E.collapsed){if(Sl(a,l.line,l,d,E)||l.line!=d.line&&Sl(a,d.line,l,d,E))throw new Error("Inserting collapsed marker partially overlapping an existing one");za()}E.addToHistory&&to(a,{from:l,to:d,origin:"markText"},a.sel,NaN);var M=l.line,z=a.cm,J;if(a.iter(M,d.line+1,function(_e){z&&E.collapsed&&!z.options.lineWrapping&&Rr(_e)==z.display.maxLine&&(J=!0),E.collapsed&&M!=l.line&&gi(_e,0),pa(_e,new Ba(E,M==l.line?l.ch:null,M==d.line?d.ch:null),a.cm&&a.cm.curOp),++M}),E.collapsed&&a.iter(l.line,d.line+1,function(_e){bi(a,_e)&&gi(_e,0)}),E.clearOnEnter&&De(E,"beforeCursorEnter",function(){return E.clear()}),E.readOnly&&(Hs(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),E.collapsed&&(E.id=++Qh,E.atomic=!0),z){if(J&&(z.curOp.updateMaxLine=!0),E.collapsed)On(z,l.line,d.line+1);else if(E.className||E.startStyle||E.endStyle||E.css||E.attributes||E.title)for(var de=l.line;de<=d.line;de++)Vi(z,de,"text");E.atomic&&Ei(z.doc),ot(z,"markerAdded",z,E)}return E}var $o=function(a,l){this.markers=a,this.primary=l;for(var d=0;d<a.length;++d)a[d].parent=this};$o.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();ot(this,"clear")}},$o.prototype.find=function(a,l){return this.primary.find(a,l)},zt($o);function $h(a,l,d,h,y){h=ht(h),h.shared=!1;var E=[$l(a,l,d,h,y)],k=E[0],M=h.widgetNode;return Cs(a,function(z){M&&(h.widgetNode=M.cloneNode(!0)),E.push($l(z,Mt(z,l),Mt(z,d),h,y));for(var J=0;J<z.linked.length;++J)if(z.linked[J].isParent)return;k=Me(E)}),new $o(E,k)}function vf(a){return a.findMarks(et(a.first,0),a.clipPos(et(a.lastLine())),function(l){return l.parent})}function fi(a,l){for(var d=0;d<l.length;d++){var h=l[d],y=h.find(),E=a.clipPos(y.from),k=a.clipPos(y.to);if(St(E,k)){var M=$l(a,E,k,h.primary,h.primary.type);h.markers.push(M),M.parent=h}}}function cr(a){for(var l=function(h){var y=a[h],E=[y.primary.doc];Cs(y.primary.doc,function(z){return E.push(z)});for(var k=0;k<y.markers.length;k++){var M=y.markers[k];_t(E,M.doc)==-1&&(M.parent=null,y.markers.splice(k--,1))}},d=0;d<a.length;d++)l(d)}var bf=0,wr=function(a,l,d,h,y){if(!(this instanceof wr))return new wr(a,l,d,h,y);d==null&&(d=0),cc.call(this,[new ts([new fs("",null)])]),this.first=d,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=d;var E=et(d,0);this.sel=ba(E),this.history=new Yo(null),this.id=++bf,this.modeOption=l,this.lineSep=h,this.direction=y=="rtl"?"rtl":"ltr",this.extend=!1,typeof a=="string"&&(a=this.splitLines(a)),Ts(this,{from:E,to:E,text:a}),Lr(this,ba(E),K)};wr.prototype=Ee(cc.prototype,{constructor:wr,iter:function(a,l,d){d?this.iterN(a-this.first,l-a,d):this.iterN(this.first,this.first+this.size,a)},insert:function(a,l){for(var d=0,h=0;h<l.length;++h)d+=l[h].height;this.insertInner(a-this.first,l,d)},remove:function(a,l){this.removeInner(a-this.first,l)},getValue:function(a){var l=Co(this,this.first,this.first+this.size);return a===!1?l:l.join(a||this.lineSeparator())},setValue:kn(function(a){var l=et(this.first,0),d=this.first+this.size-1;Ln(this,{from:l,to:et(d,xt(this,d).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&gs(this.cm,0,0),Lr(this,ba(l),K)}),replaceRange:function(a,l,d,h){l=Mt(this,l),d=d?Mt(this,d):l,ks(this,a,l,d,h)},getRange:function(a,l,d){var h=Xr(this,Mt(this,a),Mt(this,l));return d===!1?h:d===""?h.join(""):h.join(d||this.lineSeparator())},getLine:function(a){var l=this.getLineHandle(a);return l&&l.text},getLineHandle:function(a){if(La(this,a))return xt(this,a)},getLineNumber:function(a){return ln(a)},getLineHandleVisualStart:function(a){return typeof a=="number"&&(a=xt(this,a)),Rr(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return Mt(this,a)},getCursor:function(a){var l=this.sel.primary(),d;return a==null||a=="head"?d=l.head:a=="anchor"?d=l.anchor:a=="end"||a=="to"||a===!1?d=l.to():d=l.from(),d},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:kn(function(a,l,d){Gh(this,Mt(this,typeof a=="number"?et(a,l||0):a),null,d)}),setSelection:kn(function(a,l,d){Gh(this,Mt(this,a),Mt(this,l||a),d)}),extendSelection:kn(function(a,l,d){so(this,Mt(this,a),l&&Mt(this,l),d)}),extendSelections:kn(function(a,l){Gl(this,ko(this,a),l)}),extendSelectionsBy:kn(function(a,l){var d=Xe(this.sel.ranges,a);Gl(this,ko(this,d),l)}),setSelections:kn(function(a,l,d){if(a.length){for(var h=[],y=0;y<a.length;y++)h[y]=new Zt(Mt(this,a[y].anchor),Mt(this,a[y].head||a[y].anchor));l==null&&(l=Math.min(a.length-1,this.sel.primIndex)),Lr(this,ji(this.cm,h,l),d)}}),addSelection:kn(function(a,l,d){var h=this.sel.ranges.slice(0);h.push(new Zt(Mt(this,a),Mt(this,l||a))),Lr(this,ji(this.cm,h,h.length-1),d)}),getSelection:function(a){for(var l=this.sel.ranges,d,h=0;h<l.length;h++){var y=Xr(this,l[h].from(),l[h].to());d=d?d.concat(y):y}return a===!1?d:d.join(a||this.lineSeparator())},getSelections:function(a){for(var l=[],d=this.sel.ranges,h=0;h<d.length;h++){var y=Xr(this,d[h].from(),d[h].to());a!==!1&&(y=y.join(a||this.lineSeparator())),l[h]=y}return l},replaceSelection:function(a,l,d){for(var h=[],y=0;y<this.sel.ranges.length;y++)h[y]=a;this.replaceSelections(h,l,d||"+input")},replaceSelections:kn(function(a,l,d){for(var h=[],y=this.sel,E=0;E<y.ranges.length;E++){var k=y.ranges[E];h[E]={from:k.from(),to:k.to(),text:this.splitLines(a[E]),origin:d}}for(var M=l&&l!="end"&&hf(this,h,l),z=h.length-1;z>=0;z--)Ln(this,h[z]);M?oc(this,M):this.cm&&ms(this.cm)}),undo:kn(function(){na(this,"undo")}),redo:kn(function(){na(this,"redo")}),undoSelection:kn(function(){na(this,"undo",!0)}),redoSelection:kn(function(){na(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,l=0,d=0,h=0;h<a.done.length;h++)a.done[h].ranges||++l;for(var y=0;y<a.undone.length;y++)a.undone[y].ranges||++d;return{undo:l,redo:d}},clearHistory:function(){var a=this;this.history=new Yo(this.history),Cs(this,function(l){return l.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:ao(this.history.done),undone:ao(this.history.undone)}},setHistory:function(a){var l=this.history=new Yo(this.history);l.done=ao(a.done.slice(0),null,!0),l.undone=ao(a.undone.slice(0),null,!0)},setGutterMarker:kn(function(a,l,d){return Ds(this,a,"gutter",function(h){var y=h.gutterMarkers||(h.gutterMarkers={});return y[l]=d,!d&&G(y)&&(h.gutterMarkers=null),!0})}),clearGutter:kn(function(a){var l=this;this.iter(function(d){d.gutterMarkers&&d.gutterMarkers[a]&&Ds(l,d,"gutter",function(){return d.gutterMarkers[a]=null,G(d.gutterMarkers)&&(d.gutterMarkers=null),!0})})}),lineInfo:function(a){var l;if(typeof a=="number"){if(!La(this,a)||(l=a,a=xt(this,a),!a))return null}else if(l=ln(a),l==null)return null;return{line:l,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:kn(function(a,l,d){return Ds(this,a,l=="gutter"?"gutter":"class",function(h){var y=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass";if(!h[y])h[y]=d;else{if($(d).test(h[y]))return!1;h[y]+=" "+d}return!0})}),removeLineClass:kn(function(a,l,d){return Ds(this,a,l=="gutter"?"gutter":"class",function(h){var y=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass",E=h[y];if(E)if(d==null)h[y]=null;else{var k=E.match($(d));if(!k)return!1;var M=k.index+k[0].length;h[y]=E.slice(0,k.index)+(!k.index||M==E.length?"":" ")+E.slice(M)||null}else return!1;return!0})}),addLineWidget:kn(function(a,l,d){return Kh(this,a,l,d)}),removeLineWidget:function(a){a.clear()},markText:function(a,l,d){return $l(this,Mt(this,a),Mt(this,l),d,d&&d.type||"range")},setBookmark:function(a,l){var d={replacedWith:l&&(l.nodeType==null?l.widget:l),insertLeft:l&&l.insertLeft,clearWhenEmpty:!1,shared:l&&l.shared,handleMouseEvents:l&&l.handleMouseEvents};return a=Mt(this,a),$l(this,a,a,d,"bookmark")},findMarksAt:function(a){a=Mt(this,a);var l=[],d=xt(this,a.line).markedSpans;if(d)for(var h=0;h<d.length;++h){var y=d[h];(y.from==null||y.from<=a.ch)&&(y.to==null||y.to>=a.ch)&&l.push(y.marker.parent||y.marker)}return l},findMarks:function(a,l,d){a=Mt(this,a),l=Mt(this,l);var h=[],y=a.line;return this.iter(a.line,l.line+1,function(E){var k=E.markedSpans;if(k)for(var M=0;M<k.length;M++){var z=k[M];!(z.to!=null&&y==a.line&&a.ch>=z.to||z.from==null&&y!=a.line||z.from!=null&&y==l.line&&z.from>=l.ch)&&(!d||d(z.marker))&&h.push(z.marker.parent||z.marker)}++y}),h},getAllMarks:function(){var a=[];return this.iter(function(l){var d=l.markedSpans;if(d)for(var h=0;h<d.length;++h)d[h].from!=null&&a.push(d[h].marker)}),a},posFromIndex:function(a){var l,d=this.first,h=this.lineSeparator().length;return this.iter(function(y){var E=y.text.length+h;if(E>a)return l=a,!0;a-=E,++d}),Mt(this,et(d,l))},indexFromPos:function(a){a=Mt(this,a);var l=a.ch;if(a.line<this.first||a.ch<0)return 0;var d=this.lineSeparator().length;return this.iter(this.first,a.line,function(h){l+=h.text.length+d}),l},copy:function(a){var l=new wr(Co(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return l.scrollTop=this.scrollTop,l.scrollLeft=this.scrollLeft,l.sel=this.sel,l.extend=!1,a&&(l.history.undoDepth=this.history.undoDepth,l.setHistory(this.getHistory())),l},linkedDoc:function(a){a||(a={});var l=this.first,d=this.first+this.size;a.from!=null&&a.from>l&&(l=a.from),a.to!=null&&a.to<d&&(d=a.to);var h=new wr(Co(this,l,d),a.mode||this.modeOption,l,this.lineSep,this.direction);return a.sharedHist&&(h.history=this.history),(this.linked||(this.linked=[])).push({doc:h,sharedHist:a.sharedHist}),h.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],fi(h,vf(this)),h},unlinkDoc:function(a){if(a instanceof yn&&(a=a.doc),this.linked)for(var l=0;l<this.linked.length;++l){var d=this.linked[l];if(d.doc==a){this.linked.splice(l,1),a.unlinkDoc(this),cr(vf(this));break}}if(a.history==this.history){var h=[a.id];Cs(a,function(y){return h.push(y.id)},!0),a.history=new Yo(null),a.history.done=ao(this.history.done,h),a.history.undone=ao(this.history.undone,h)}},iterLinkedDocs:function(a){Cs(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):ni(a)},lineSeparator:function(){return this.lineSep||`
`},setDirection:kn(function(a){a!="rtl"&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(l){return l.order=null}),this.cm&&ic(this.cm))})}),wr.prototype.eachLine=wr.prototype.iter;var fc=0;function Xh(a){var l=this;if(wf(l),!(at(l,a)||Ka(l.display,a))){Nt(a),g&&(fc=+new Date);var d=qr(l,a,!0),h=a.dataTransfer.files;if(!(!d||l.isReadOnly()))if(h&&h.length&&window.FileReader&&window.File)for(var y=h.length,E=Array(y),k=0,M=function(){++k==y&&lr(l,function(){d=Mt(l.doc,d);var Re={from:d,to:d,text:l.doc.splitLines(E.filter(function(Ye){return Ye!=null}).join(l.doc.lineSeparator())),origin:"paste"};Ln(l.doc,Re),oc(l.doc,ba(Mt(l.doc,d),Mt(l.doc,Ss(Re))))})()},z=function(Re,Ye){if(l.options.allowDropFileTypes&&_t(l.options.allowDropFileTypes,Re.type)==-1){M();return}var tt=new FileReader;tt.onerror=function(){return M()},tt.onload=function(){var ct=tt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ct)){M();return}E[Ye]=ct,M()},tt.readAsText(Re)},J=0;J<h.length;J++)z(h[J],J);else{if(l.state.draggingText&&l.doc.sel.contains(d)>-1){l.state.draggingText(a),setTimeout(function(){return l.display.input.focus()},20);return}try{var de=a.dataTransfer.getData("Text");if(de){var _e;if(l.state.draggingText&&!l.state.draggingText.copy&&(_e=l.listSelections()),Kl(l.doc,ba(d,d)),_e)for(var Le=0;Le<_e.length;++Le)ks(l.doc,"",_e[Le].anchor,_e[Le].head,"drag");l.replaceSelection(de,"around","paste"),l.display.input.focus()}}catch{}}}}function Is(a,l){if(g&&(!a.state.draggingText||+new Date-fc<100)){$n(l);return}if(!(at(a,l)||Ka(a.display,l))&&(l.dataTransfer.setData("Text",a.getSelection()),l.dataTransfer.effectAllowed="copyMove",l.dataTransfer.setDragImage&&!R)){var d=ee("img",null,null,"position: fixed; left: 0; top: 0;");d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",L&&(d.width=d.height=1,a.display.wrapper.appendChild(d),d._top=d.offsetTop),l.dataTransfer.setDragImage(d,0,0),L&&d.parentNode.removeChild(d)}}function _f(a,l){var d=qr(a,l);if(d){var h=document.createDocumentFragment();Pl(a,d,h),a.display.dragCursor||(a.display.dragCursor=ee("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),U(a.display.dragCursor,h)}}function wf(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function xf(a){if(document.getElementsByClassName){for(var l=document.getElementsByClassName("CodeMirror"),d=[],h=0;h<l.length;h++){var y=l[h].CodeMirror;y&&d.push(y)}d.length&&d[0].operation(function(){for(var E=0;E<d.length;E++)a(d[E])})}}var Zh=!1;function em(){Zh||(tm(),Zh=!0)}function tm(){var a;De(window,"resize",function(){a==null&&(a=setTimeout(function(){a=null,xf(nm)},100))}),De(window,"blur",function(){return xf(ps)})}function nm(a){var l=a.display;l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.scrollbarsClipped=!1,a.setSize()}for(var Ns={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Xl=0;Xl<10;Xl++)Ns[Xl+48]=Ns[Xl+96]=String(Xl);for(var Zl=65;Zl<=90;Zl++)Ns[Zl]=String.fromCharCode(Zl);for(var Jl=1;Jl<=12;Jl++)Ns[Jl+111]=Ns[Jl+63235]="F"+Jl;var Os={};Os.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Os.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Os.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Os.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Os.default=te?Os.macDefault:Os.pcDefault;function rm(a){var l=a.split(/-(?!$)/);a=l[l.length-1];for(var d,h,y,E,k=0;k<l.length-1;k++){var M=l[k];if(/^(cmd|meta|m)$/i.test(M))E=!0;else if(/^a(lt)?$/i.test(M))d=!0;else if(/^(c|ctrl|control)$/i.test(M))h=!0;else if(/^s(hift)?$/i.test(M))y=!0;else throw new Error("Unrecognized modifier name: "+M)}return d&&(a="Alt-"+a),h&&(a="Ctrl-"+a),E&&(a="Cmd-"+a),y&&(a="Shift-"+a),a}function im(a){var l={};for(var d in a)if(a.hasOwnProperty(d)){var h=a[d];if(/^(name|fallthrough|(de|at)tach)$/.test(d))continue;if(h=="..."){delete a[d];continue}for(var y=Xe(d.split(" "),rm),E=0;E<y.length;E++){var k=void 0,M=void 0;E==y.length-1?(M=y.join(" "),k=h):(M=y.slice(0,E+1).join(" "),k="...");var z=l[M];if(!z)l[M]=k;else if(z!=k)throw new Error("Inconsistent bindings for "+M)}delete a[d]}for(var J in l)a[J]=l[J];return a}function Xo(a,l,d,h){l=hc(l);var y=l.call?l.call(a,h):l[a];if(y===!1)return"nothing";if(y==="...")return"multi";if(y!=null&&d(y))return"handled";if(l.fallthrough){if(Object.prototype.toString.call(l.fallthrough)!="[object Array]")return Xo(a,l.fallthrough,d,h);for(var E=0;E<l.fallthrough.length;E++){var k=Xo(a,l.fallthrough[E],d,h);if(k)return k}}}function Ef(a){var l=typeof a=="string"?a:Ns[a.keyCode];return l=="Ctrl"||l=="Alt"||l=="Shift"||l=="Mod"}function Jh(a,l,d){var h=a;return l.altKey&&h!="Alt"&&(a="Alt-"+a),(q?l.metaKey:l.ctrlKey)&&h!="Ctrl"&&(a="Ctrl-"+a),(q?l.ctrlKey:l.metaKey)&&h!="Mod"&&(a="Cmd-"+a),!d&&l.shiftKey&&h!="Shift"&&(a="Shift-"+a),a}function ed(a,l){if(L&&a.keyCode==34&&a.char)return!1;var d=Ns[a.keyCode];return d==null||a.altGraphKey?!1:(a.keyCode==3&&a.code&&(d=a.code),Jh(d,a,l))}function hc(a){return typeof a=="string"?Os[a]:a}function Zo(a,l){for(var d=a.doc.sel.ranges,h=[],y=0;y<d.length;y++){for(var E=l(d[y]);h.length&&St(E.from,Me(h).to)<=0;){var k=h.pop();if(St(k.from,E.from)<0){E.from=k.from;break}}h.push(E)}Or(a,function(){for(var M=h.length-1;M>=0;M--)ks(a.doc,"",h[M].from,h[M].to,"+delete");ms(a)})}function Sf(a,l,d){var h=Y(a.text,l+d,d);return h<0||h>a.text.length?null:h}function td(a,l,d){var h=Sf(a,l.ch,d);return h==null?null:new et(l.line,h,d<0?"after":"before")}function Tf(a,l,d,h,y){if(a){l.doc.direction=="rtl"&&(y=-y);var E=Te(d,l.doc.direction);if(E){var k=y<0?Me(E):E[0],M=y<0==(k.level==1),z=M?"after":"before",J;if(k.level>0||l.doc.direction=="rtl"){var de=Fo(l,d);J=y<0?d.text.length-1:0;var _e=Xa(l,de,J).top;J=ce(function(Le){return Xa(l,de,Le).top==_e},y<0==(k.level==1)?k.from:k.to-1,J),z=="before"&&(J=Sf(d,J,1))}else J=y<0?k.to:k.from;return new et(h,J,z)}}return new et(h,y<0?d.text.length:0,y<0?"before":"after")}function eu(a,l,d,h){var y=Te(l,a.doc.direction);if(!y)return td(l,d,h);d.ch>=l.text.length?(d.ch=l.text.length,d.sticky="before"):d.ch<=0&&(d.ch=0,d.sticky="after");var E=Ie(y,d.ch,d.sticky),k=y[E];if(a.doc.direction=="ltr"&&k.level%2==0&&(h>0?k.to>d.ch:k.from<d.ch))return td(l,d,h);var M=function(pt,yt){return Sf(l,pt instanceof et?pt.ch:pt,yt)},z,J=function(pt){return a.options.lineWrapping?(z=z||Fo(a,l),nf(a,l,z,pt)):{begin:0,end:l.text.length}},de=J(d.sticky=="before"?M(d,-1):d.ch);if(a.doc.direction=="rtl"||k.level==1){var _e=k.level==1==h<0,Le=M(d,_e?1:-1);if(Le!=null&&(_e?Le<=k.to&&Le<=de.end:Le>=k.from&&Le>=de.begin)){var Re=_e?"before":"after";return new et(d.line,Le,Re)}}var Ye=function(pt,yt,it){for(var wt=function(rn,yr){return yr?new et(d.line,M(rn,1),"before"):new et(d.line,rn,"after")};pt>=0&&pt<y.length;pt+=yt){var It=y[pt],Ct=yt>0==(It.level!=1),Ut=Ct?it.begin:M(it.end,-1);if(It.from<=Ut&&Ut<It.to||(Ut=Ct?It.from:M(It.to,-1),it.begin<=Ut&&Ut<it.end))return wt(Ut,Ct)}},tt=Ye(E+h,h,de);if(tt)return tt;var ct=h>0?de.end:M(de.begin,-1);return ct!=null&&!(h>0&&ct==l.text.length)&&(tt=Ye(h>0?0:y.length-1,h,J(ct)),tt)?tt:null}var tu={selectAll:As,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),K)},killLine:function(a){return Zo(a,function(l){if(l.empty()){var d=xt(a.doc,l.head.line).text.length;return l.head.ch==d&&l.head.line<a.lastLine()?{from:l.head,to:et(l.head.line+1,0)}:{from:l.head,to:et(l.head.line,d)}}else return{from:l.from(),to:l.to()}})},deleteLine:function(a){return Zo(a,function(l){return{from:et(l.from().line,0),to:Mt(a.doc,et(l.to().line+1,0))}})},delLineLeft:function(a){return Zo(a,function(l){return{from:et(l.from().line,0),to:l.from()}})},delWrappedLineLeft:function(a){return Zo(a,function(l){var d=a.charCoords(l.head,"div").top+5,h=a.coordsChar({left:0,top:d},"div");return{from:h,to:l.from()}})},delWrappedLineRight:function(a){return Zo(a,function(l){var d=a.charCoords(l.head,"div").top+5,h=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:d},"div");return{from:l.from(),to:h}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(et(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(et(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(l){return dc(a,l.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(l){return nd(a,l.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(l){return Cf(a,l.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(l){var d=a.cursorCoords(l.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:d},"div")},He)},goLineLeft:function(a){return a.extendSelectionsBy(function(l){var d=a.cursorCoords(l.head,"div").top+5;return a.coordsChar({left:0,top:d},"div")},He)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(l){var d=a.cursorCoords(l.head,"div").top+5,h=a.coordsChar({left:0,top:d},"div");return h.ch<a.getLine(h.line).search(/\S/)?nd(a,l.head):h},He)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("	")},insertSoftTab:function(a){for(var l=[],d=a.listSelections(),h=a.options.tabSize,y=0;y<d.length;y++){var E=d[y].from(),k=dt(a.getLine(E.line),E.ch,h);l.push(ke(h-k%h))}a.replaceSelections(l)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return Or(a,function(){for(var l=a.listSelections(),d=[],h=0;h<l.length;h++)if(l[h].empty()){var y=l[h].head,E=xt(a.doc,y.line).text;if(E){if(y.ch==E.length&&(y=new et(y.line,y.ch-1)),y.ch>0)y=new et(y.line,y.ch+1),a.replaceRange(E.charAt(y.ch-1)+E.charAt(y.ch-2),et(y.line,y.ch-2),y,"+transpose");else if(y.line>a.doc.first){var k=xt(a.doc,y.line-1).text;k&&(y=new et(y.line,1),a.replaceRange(E.charAt(0)+a.doc.lineSeparator()+k.charAt(k.length-1),et(y.line-1,k.length-1),y,"+transpose"))}}d.push(new Zt(y,y))}a.setSelections(d)})},newlineAndIndent:function(a){return Or(a,function(){for(var l=a.listSelections(),d=l.length-1;d>=0;d--)a.replaceRange(a.doc.lineSeparator(),l[d].anchor,l[d].head,"+input");l=a.listSelections();for(var h=0;h<l.length;h++)a.indentLine(l[h].from().line,null,!0);ms(a)})},openLine:function(a){return a.replaceSelection(`
`,"start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function dc(a,l){var d=xt(a.doc,l),h=Rr(d);return h!=d&&(l=ln(h)),Tf(!0,a,h,l,1)}function Cf(a,l){var d=xt(a.doc,l),h=Tl(d);return h!=d&&(l=ln(h)),Tf(!0,a,d,l,-1)}function nd(a,l){var d=dc(a,l.line),h=xt(a.doc,d.line),y=Te(h,a.doc.direction);if(!y||y[0].level==0){var E=Math.max(d.ch,h.text.search(/\S/)),k=l.line==d.line&&l.ch<=E&&l.ch;return et(d.line,k?0:E,d.sticky)}return d}function nu(a,l,d){if(typeof l=="string"&&(l=tu[l],!l))return!1;a.display.input.ensurePolled();var h=a.display.shift,y=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),d&&(a.display.shift=!1),y=l(a)!=Ht}finally{a.display.shift=h,a.state.suppressEdits=!1}return y}function Iy(a,l,d){for(var h=0;h<a.state.keyMaps.length;h++){var y=Xo(l,a.state.keyMaps[h],d,a);if(y)return y}return a.options.extraKeys&&Xo(l,a.options.extraKeys,d,a)||Xo(l,a.options.keyMap,d,a)}var am=new At;function ru(a,l,d,h){var y=a.state.keySeq;if(y){if(Ef(l))return"handled";if(/\'$/.test(l)?a.state.keySeq=null:am.set(50,function(){a.state.keySeq==y&&(a.state.keySeq=null,a.display.input.reset())}),rd(a,y+" "+l,d,h))return!0}return rd(a,l,d,h)}function rd(a,l,d,h){var y=Iy(a,l,h);return y=="multi"&&(a.state.keySeq=l),y=="handled"&&ot(a,"keyHandled",a,l,d),(y=="handled"||y=="multi")&&(Nt(d),li(a)),!!y}function id(a,l){var d=ed(l,!0);return d?l.shiftKey&&!a.state.keySeq?ru(a,"Shift-"+d,l,function(h){return nu(a,h,!0)})||ru(a,d,l,function(h){if(typeof h=="string"?/^go[A-Z]/.test(h):h.motion)return nu(a,h)}):ru(a,d,l,function(h){return nu(a,h)}):!1}function sm(a,l,d){return ru(a,"'"+d+"'",l,function(h){return nu(a,h,!0)})}var pc=null;function ad(a){var l=this;if(!(a.target&&a.target!=l.display.input.getField())&&(l.curOp.focus=Fe(ge(l)),!at(l,a))){g&&v<11&&a.keyCode==27&&(a.returnValue=!1);var d=a.keyCode;l.display.shift=d==16||a.shiftKey;var h=id(l,a);L&&(pc=h?d:null,!h&&d==88&&!tn&&(te?a.metaKey:a.ctrlKey)&&l.replaceSelection("",null,"cut")),o&&!te&&!h&&d==46&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),d==18&&!/\bCodeMirror-crosshair\b/.test(l.display.lineDiv.className)&&om(l)}}function om(a){var l=a.display.lineDiv;le(l,"CodeMirror-crosshair");function d(h){(h.keyCode==18||!h.altKey)&&(F(l,"CodeMirror-crosshair"),vt(document,"keyup",d),vt(document,"mouseover",d))}De(document,"keyup",d),De(document,"mouseover",d)}function Af(a){a.keyCode==16&&(this.doc.sel.shift=!1),at(this,a)}function sd(a){var l=this;if(!(a.target&&a.target!=l.display.input.getField())&&!(Ka(l.display,a)||at(l,a)||a.ctrlKey&&!a.altKey||te&&a.metaKey)){var d=a.keyCode,h=a.charCode;if(L&&d==pc){pc=null,Nt(a);return}if(!(L&&(!a.which||a.which<10)&&id(l,a))){var y=String.fromCharCode(h??d);y!="\b"&&(sm(l,a,y)||l.display.input.onKeyPress(a))}}}var lm=400,od=function(a,l,d){this.time=a,this.pos=l,this.button=d};od.prototype.compare=function(a,l,d){return this.time+lm>a&&St(l,this.pos)==0&&d==this.button};var Jo,iu;function um(a,l){var d=+new Date;return iu&&iu.compare(d,a,l)?(Jo=iu=null,"triple"):Jo&&Jo.compare(d,a,l)?(iu=new od(d,a,l),Jo=null,"double"):(Jo=new od(d,a,l),iu=null,"single")}function kf(a){var l=this,d=l.display;if(!(at(l,a)||d.activeTouch&&d.input.supportsTouch())){if(d.input.ensurePolled(),d.shift=a.shiftKey,Ka(d,a)){_||(d.scroller.draggable=!1,setTimeout(function(){return d.scroller.draggable=!0},100));return}if(!Df(l,a)){var h=qr(l,a),y=or(a),E=h?um(h,y):"single";$e(l).focus(),y==1&&l.state.selectingText&&l.state.selectingText(a),!(h&&cm(l,y,h,E,a))&&(y==1?h?Ny(l,h,E,a):Jn(a)==d.scroller&&Nt(a):y==2?(h&&so(l.doc,h),setTimeout(function(){return d.input.focus()},20)):y==3&&(ae?l.display.input.onContextMenu(a):ya(l)))}}}function cm(a,l,d,h,y){var E="Click";return h=="double"?E="Double"+E:h=="triple"&&(E="Triple"+E),E=(l==1?"Left":l==2?"Middle":"Right")+E,ru(a,Jh(E,y),y,function(k){if(typeof k=="string"&&(k=tu[k]),!k)return!1;var M=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),M=k(a,d)!=Ht}finally{a.state.suppressEdits=!1}return M})}function fm(a,l,d){var h=a.getOption("configureMouse"),y=h?h(a,l,d):{};if(y.unit==null){var E=ne?d.shiftKey&&d.metaKey:d.altKey;y.unit=E?"rectangle":l=="single"?"char":l=="double"?"word":"line"}return(y.extend==null||a.doc.extend)&&(y.extend=a.doc.extend||d.shiftKey),y.addNew==null&&(y.addNew=te?d.metaKey:d.ctrlKey),y.moveOnDrag==null&&(y.moveOnDrag=!(te?d.altKey:d.ctrlKey)),y}function Ny(a,l,d,h){g?setTimeout(gt(lf,a),0):a.curOp.focus=Fe(ge(a));var y=fm(a,d,h),E=a.doc.sel,k;a.options.dragDrop&&Na&&!a.isReadOnly()&&d=="single"&&(k=E.contains(l))>-1&&(St((k=E.ranges[k]).from(),l)<0||l.xRel>0)&&(St(k.to(),l)>0||l.xRel<0)?Oy(a,h,l,y):mc(a,h,l,y)}function Oy(a,l,d,h){var y=a.display,E=!1,k=lr(a,function(J){_&&(y.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:ya(a)),vt(y.wrapper.ownerDocument,"mouseup",k),vt(y.wrapper.ownerDocument,"mousemove",M),vt(y.scroller,"dragstart",z),vt(y.scroller,"drop",k),E||(Nt(J),h.addNew||so(a.doc,d,null,null,h.extend),_&&!R||g&&v==9?setTimeout(function(){y.wrapper.ownerDocument.body.focus({preventScroll:!0}),y.input.focus()},20):y.input.focus())}),M=function(J){E=E||Math.abs(l.clientX-J.clientX)+Math.abs(l.clientY-J.clientY)>=10},z=function(){return E=!0};_&&(y.scroller.draggable=!0),a.state.draggingText=k,k.copy=!h.moveOnDrag,De(y.wrapper.ownerDocument,"mouseup",k),De(y.wrapper.ownerDocument,"mousemove",M),De(y.scroller,"dragstart",z),De(y.scroller,"drop",k),a.state.delayingBlurEvent=!0,setTimeout(function(){return y.input.focus()},20),y.scroller.dragDrop&&y.scroller.dragDrop()}function ld(a,l,d){if(d=="char")return new Zt(l,l);if(d=="word")return a.findWordAt(l);if(d=="line")return new Zt(et(l.line,0),Mt(a.doc,et(l.line+1,0)));var h=d(a,l);return new Zt(h.from,h.to)}function mc(a,l,d,h){g&&ya(a);var y=a.display,E=a.doc;Nt(l);var k,M,z=E.sel,J=z.ranges;if(h.addNew&&!h.extend?(M=E.sel.contains(d),M>-1?k=J[M]:k=new Zt(d,d)):(k=E.sel.primary(),M=E.sel.primIndex),h.unit=="rectangle")h.addNew||(k=new Zt(d,d)),d=qr(a,l,!0,!0),M=-1;else{var de=ld(a,d,h.unit);h.extend?k=sc(k,de.anchor,de.head,h.extend):k=de}h.addNew?M==-1?(M=J.length,Lr(E,ji(a,J.concat([k]),M),{scroll:!1,origin:"*mouse"})):J.length>1&&J[M].empty()&&h.unit=="char"&&!h.extend?(Lr(E,ji(a,J.slice(0,M).concat(J.slice(M+1)),0),{scroll:!1,origin:"*mouse"}),z=E.sel):mf(E,M,k,ze):(M=0,Lr(E,new xi([k],0),ze),z=E.sel);var _e=d;function Le(it){if(St(_e,it)!=0)if(_e=it,h.unit=="rectangle"){for(var wt=[],It=a.options.tabSize,Ct=dt(xt(E,d.line).text,d.ch,It),Ut=dt(xt(E,it.line).text,it.ch,It),rn=Math.min(Ct,Ut),yr=Math.max(Ct,Ut),jn=Math.min(d.line,it.line),Pr=Math.min(a.lastLine(),Math.max(d.line,it.line));jn<=Pr;jn++){var Gn=xt(E,jn).text,ir=be(Gn,rn,It);rn==yr?wt.push(new Zt(et(jn,ir),et(jn,ir))):Gn.length>ir&&wt.push(new Zt(et(jn,ir),et(jn,be(Gn,yr,It))))}wt.length||wt.push(new Zt(d,d)),Lr(E,ji(a,z.ranges.slice(0,M).concat(wt),M),{origin:"*mouse",scroll:!1}),a.scrollIntoView(it)}else{var Gr=k,xr=ld(a,it,h.unit),ar=Gr.anchor,Xn;St(xr.anchor,ar)>0?(Xn=xr.head,ar=Fa(Gr.from(),xr.anchor)):(Xn=xr.anchor,ar=pn(Gr.to(),xr.head));var Fn=z.ranges.slice(0);Fn[M]=ud(a,new Zt(Mt(E,ar),Xn)),Lr(E,ji(a,Fn,M),ze)}}var Re=y.wrapper.getBoundingClientRect(),Ye=0;function tt(it){var wt=++Ye,It=qr(a,it,!0,h.unit=="rectangle");if(It)if(St(It,_e)!=0){a.curOp.focus=Fe(ge(a)),Le(It);var Ct=ec(y,E);(It.line>=Ct.to||It.line<Ct.from)&&setTimeout(lr(a,function(){Ye==wt&&tt(it)}),150)}else{var Ut=it.clientY<Re.top?-20:it.clientY>Re.bottom?20:0;Ut&&setTimeout(lr(a,function(){Ye==wt&&(y.scroller.scrollTop+=Ut,tt(it))}),50)}}function ct(it){a.state.selectingText=!1,Ye=1/0,it&&(Nt(it),y.input.focus()),vt(y.wrapper.ownerDocument,"mousemove",pt),vt(y.wrapper.ownerDocument,"mouseup",yt),E.history.lastSelOrigin=null}var pt=lr(a,function(it){it.buttons===0||!or(it)?ct(it):tt(it)}),yt=lr(a,ct);a.state.selectingText=yt,De(y.wrapper.ownerDocument,"mousemove",pt),De(y.wrapper.ownerDocument,"mouseup",yt)}function ud(a,l){var d=l.anchor,h=l.head,y=xt(a.doc,d.line);if(St(d,h)==0&&d.sticky==h.sticky)return l;var E=Te(y);if(!E)return l;var k=Ie(E,d.ch,d.sticky),M=E[k];if(M.from!=d.ch&&M.to!=d.ch)return l;var z=k+(M.from==d.ch==(M.level!=1)?0:1);if(z==0||z==E.length)return l;var J;if(h.line!=d.line)J=(h.line-d.line)*(a.doc.direction=="ltr"?1:-1)>0;else{var de=Ie(E,h.ch,h.sticky),_e=de-k||(h.ch-d.ch)*(M.level==1?-1:1);de==z-1||de==z?J=_e<0:J=_e>0}var Le=E[z+(J?-1:0)],Re=J==(Le.level==1),Ye=Re?Le.from:Le.to,tt=Re?"after":"before";return d.ch==Ye&&d.sticky==tt?l:new Zt(new et(d.line,Ye,tt),h)}function gc(a,l,d,h){var y,E;if(l.touches)y=l.touches[0].clientX,E=l.touches[0].clientY;else try{y=l.clientX,E=l.clientY}catch{return!1}if(y>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;h&&Nt(l);var k=a.display,M=k.lineDiv.getBoundingClientRect();if(E>M.bottom||!Rt(a,d))return on(l);E-=M.top-k.viewOffset;for(var z=0;z<a.display.gutterSpecs.length;++z){var J=k.gutters.childNodes[z];if(J&&J.getBoundingClientRect().right>=y){var de=Ma(a.doc,E),_e=a.display.gutterSpecs[z];return ft(a,d,a,de,_e.className,l),on(l)}}}function Df(a,l){return gc(a,l,"gutterClick",!0)}function cd(a,l){Ka(a.display,l)||yc(a,l)||at(a,l,"contextmenu")||ae||a.display.input.onContextMenu(l)}function yc(a,l){return Rt(a,"gutterContextMenu")?gc(a,l,"gutterContextMenu",!1):!1}function fd(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Nl(a)}var lo={toString:function(){return"CodeMirror.Init"}},hd={},au={};function dd(a){var l=a.optionHandlers;function d(h,y,E,k){a.defaults[h]=y,E&&(l[h]=k?function(M,z,J){J!=lo&&E(M,z,J)}:E)}a.defineOption=d,a.Init=lo,d("value","",function(h,y){return h.setValue(y)},!0),d("mode",null,function(h,y){h.doc.modeOption=y,df(h)},!0),d("indentUnit",2,df,!0),d("indentWithTabs",!1),d("smartIndent",!0),d("tabSize",4,function(h){Hl(h),Nl(h),On(h)},!0),d("lineSeparator",null,function(h,y){if(h.doc.lineSep=y,!!y){var E=[],k=h.doc.first;h.doc.iter(function(z){for(var J=0;;){var de=z.text.indexOf(y,J);if(de==-1)break;J=de+y.length,E.push(et(k,de))}k++});for(var M=E.length-1;M>=0;M--)ks(h.doc,y,E[M],et(E[M].line,E[M].ch+y.length))}}),d("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(h,y,E){h.state.specialChars=new RegExp(y.source+(y.test("	")?"":"|	"),"g"),E!=lo&&h.refresh()}),d("specialCharPlaceholder",Yc,function(h){return h.refresh()},!0),d("electricChars",!0),d("inputStyle",re?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),d("spellcheck",!1,function(h,y){return h.getInputField().spellcheck=y},!0),d("autocorrect",!1,function(h,y){return h.getInputField().autocorrect=y},!0),d("autocapitalize",!1,function(h,y){return h.getInputField().autocapitalize=y},!0),d("rtlMoveVisually",!B),d("wholeLineUpdateBefore",!0),d("theme","default",function(h){fd(h),xs(h)},!0),d("keyMap","default",function(h,y,E){var k=hc(y),M=E!=lo&&hc(E);M&&M.detach&&M.detach(h,k),k.attach&&k.attach(h,M||null)}),d("extraKeys",null),d("configureMouse",null),d("lineWrapping",!1,dm,!0),d("gutters",[],function(h,y){h.display.gutterSpecs=tc(y,h.options.lineNumbers),xs(h)},!0),d("fixedGutter",!0,function(h,y){h.display.gutters.style.left=y?af(h.display)+"px":"0",h.refresh()},!0),d("coverGutterNextToScrollbar",!1,function(h){return Ho(h)},!0),d("scrollbarStyle","native",function(h){Jt(h),Ho(h),h.display.scrollbars.setScrollTop(h.doc.scrollTop),h.display.scrollbars.setScrollLeft(h.doc.scrollLeft)},!0),d("lineNumbers",!1,function(h,y){h.display.gutterSpecs=tc(h.options.gutters,y),xs(h)},!0),d("firstLineNumber",1,xs,!0),d("lineNumberFormatter",function(h){return h},xs,!0),d("showCursorWhenSelecting",!1,ga,!0),d("resetSelectionOnContextMenu",!0),d("lineWiseCopyCut",!0),d("pasteLinesPerSelection",!0),d("selectionsMayTouch",!1),d("readOnly",!1,function(h,y){y=="nocursor"&&(ps(h),h.display.input.blur()),h.display.input.readOnlyChanged(y)}),d("screenReaderLabel",null,function(h,y){y=y===""?null:y,h.display.input.screenReaderLabelChanged(y)}),d("disableInput",!1,function(h,y){y||h.display.input.reset()},!0),d("dragDrop",!0,hm),d("allowDropFileTypes",null),d("cursorBlinkRate",530),d("cursorScrollMargin",0),d("cursorHeight",1,ga,!0),d("singleCursorHeightPerLine",!0,ga,!0),d("workTime",100),d("workDelay",100),d("flattenSpans",!0,Hl,!0),d("addModeClass",!1,Hl,!0),d("pollInterval",100),d("undoDepth",200,function(h,y){return h.doc.history.undoDepth=y}),d("historyEventDelay",1250),d("viewportMargin",10,function(h){return h.refresh()},!0),d("maxHighlightLength",1e4,Hl,!0),d("moveInputWithCursor",!0,function(h,y){y||h.display.input.resetPosition()}),d("tabindex",null,function(h,y){return h.display.input.getField().tabIndex=y||""}),d("autofocus",null),d("direction","ltr",function(h,y){return h.doc.setDirection(y)},!0),d("phrases",null)}function hm(a,l,d){var h=d&&d!=lo;if(!l!=!h){var y=a.display.dragFunctions,E=l?De:vt;E(a.display.scroller,"dragstart",y.start),E(a.display.scroller,"dragenter",y.enter),E(a.display.scroller,"dragover",y.over),E(a.display.scroller,"dragleave",y.leave),E(a.display.scroller,"drop",y.drop)}}function dm(a){a.options.lineWrapping?(le(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(F(a.display.wrapper,"CodeMirror-wrap"),Oo(a)),Ju(a),On(a),Nl(a),setTimeout(function(){return Ho(a)},100)}function yn(a,l){var d=this;if(!(this instanceof yn))return new yn(a,l);this.options=l=l?ht(l):{},ht(hd,l,!1);var h=l.value;typeof h=="string"?h=new wr(h,l.mode,null,l.lineSeparator,l.direction):l.mode&&(h.modeOption=l.mode),this.doc=h;var y=new yn.inputStyles[l.inputStyle](this),E=this.display=new qh(a,h,y,l);E.wrapper.CodeMirror=this,fd(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Jt(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new At,keySeq:null,specialChars:null},l.autofocus&&!re&&E.input.focus(),g&&v<11&&setTimeout(function(){return d.display.input.reset(!0)},20),pm(this),em(),Nr(this),this.curOp.forceUpdate=!0,Wh(this,h),l.autofocus&&!re||this.hasFocus()?setTimeout(function(){d.hasFocus()&&!d.state.focused&&uf(d)},20):ps(this);for(var k in au)au.hasOwnProperty(k)&&au[k](this,l[k],lo);ur(this),l.finishInit&&l.finishInit(this);for(var M=0;M<Rf.length;++M)Rf[M](this);bs(this),_&&l.lineWrapping&&getComputedStyle(E.lineDiv).textRendering=="optimizelegibility"&&(E.lineDiv.style.textRendering="auto")}yn.defaults=hd,yn.optionHandlers=au;function pm(a){var l=a.display;De(l.scroller,"mousedown",lr(a,kf)),g&&v<11?De(l.scroller,"dblclick",lr(a,function(z){if(!at(a,z)){var J=qr(a,z);if(!(!J||Df(a,z)||Ka(a.display,z))){Nt(z);var de=a.findWordAt(J);so(a.doc,de.anchor,de.head)}}})):De(l.scroller,"dblclick",function(z){return at(a,z)||Nt(z)}),De(l.scroller,"contextmenu",function(z){return cd(a,z)}),De(l.input.getField(),"contextmenu",function(z){l.scroller.contains(z.target)||cd(a,z)});var d,h={end:0};function y(){l.activeTouch&&(d=setTimeout(function(){return l.activeTouch=null},1e3),h=l.activeTouch,h.end=+new Date)}function E(z){if(z.touches.length!=1)return!1;var J=z.touches[0];return J.radiusX<=1&&J.radiusY<=1}function k(z,J){if(J.left==null)return!0;var de=J.left-z.left,_e=J.top-z.top;return de*de+_e*_e>400}De(l.scroller,"touchstart",function(z){if(!at(a,z)&&!E(z)&&!Df(a,z)){l.input.ensurePolled(),clearTimeout(d);var J=+new Date;l.activeTouch={start:J,moved:!1,prev:J-h.end<=300?h:null},z.touches.length==1&&(l.activeTouch.left=z.touches[0].pageX,l.activeTouch.top=z.touches[0].pageY)}}),De(l.scroller,"touchmove",function(){l.activeTouch&&(l.activeTouch.moved=!0)}),De(l.scroller,"touchend",function(z){var J=l.activeTouch;if(J&&!Ka(l,z)&&J.left!=null&&!J.moved&&new Date-J.start<300){var de=a.coordsChar(l.activeTouch,"page"),_e;!J.prev||k(J,J.prev)?_e=new Zt(de,de):!J.prev.prev||k(J,J.prev.prev)?_e=a.findWordAt(de):_e=new Zt(et(de.line,0),Mt(a.doc,et(de.line+1,0))),a.setSelection(_e.anchor,_e.head),a.focus(),Nt(z)}y()}),De(l.scroller,"touchcancel",y),De(l.scroller,"scroll",function(){l.scroller.clientHeight&&(_i(a,l.scroller.scrollTop),ci(a,l.scroller.scrollLeft,!0),ft(a,"scroll",a))}),De(l.scroller,"mousewheel",function(z){return Xp(a,z)}),De(l.scroller,"DOMMouseScroll",function(z){return Xp(a,z)}),De(l.wrapper,"scroll",function(){return l.wrapper.scrollTop=l.wrapper.scrollLeft=0}),l.dragFunctions={enter:function(z){at(a,z)||$n(z)},over:function(z){at(a,z)||(_f(a,z),$n(z))},start:function(z){return Is(a,z)},drop:lr(a,Xh),leave:function(z){at(a,z)||wf(a)}};var M=l.input.getField();De(M,"keyup",function(z){return Af.call(a,z)}),De(M,"keydown",lr(a,ad)),De(M,"keypress",lr(a,sd)),De(M,"focus",function(z){return uf(a,z)}),De(M,"blur",function(z){return ps(a,z)})}var Rf=[];yn.defineInitHook=function(a){return Rf.push(a)};function su(a,l,d,h){var y=a.doc,E;d==null&&(d="add"),d=="smart"&&(y.mode.indent?E=Ki(a,l).state:d="prev");var k=a.options.tabSize,M=xt(y,l),z=dt(M.text,null,k);M.stateAfter&&(M.stateAfter=null);var J=M.text.match(/^\s*/)[0],de;if(!h&&!/\S/.test(M.text))de=0,d="not";else if(d=="smart"&&(de=y.mode.indent(E,M.text.slice(J.length),M.text),de==Ht||de>150)){if(!h)return;d="prev"}d=="prev"?l>y.first?de=dt(xt(y,l-1).text,null,k):de=0:d=="add"?de=z+a.options.indentUnit:d=="subtract"?de=z-a.options.indentUnit:typeof d=="number"&&(de=z+d),de=Math.max(0,de);var _e="",Le=0;if(a.options.indentWithTabs)for(var Re=Math.floor(de/k);Re;--Re)Le+=k,_e+="	";if(Le<de&&(_e+=ke(de-Le)),_e!=J)return ks(y,_e,et(l,0),et(l,J.length),"+input"),M.stateAfter=null,!0;for(var Ye=0;Ye<y.sel.ranges.length;Ye++){var tt=y.sel.ranges[Ye];if(tt.head.line==l&&tt.head.ch<J.length){var ct=et(l,J.length);mf(y,Ye,new Zt(ct,ct));break}}}var Ti=null;function vc(a){Ti=a}function bc(a,l,d,h,y){var E=a.doc;a.display.shift=!1,h||(h=E.sel);var k=+new Date-200,M=y=="paste"||a.state.pasteIncoming>k,z=ni(l),J=null;if(M&&h.ranges.length>1)if(Ti&&Ti.text.join(`
`)==l){if(h.ranges.length%Ti.text.length==0){J=[];for(var de=0;de<Ti.text.length;de++)J.push(E.splitLines(Ti.text[de]))}}else z.length==h.ranges.length&&a.options.pasteLinesPerSelection&&(J=Xe(z,function(pt){return[pt]}));for(var _e=a.curOp.updateInput,Le=h.ranges.length-1;Le>=0;Le--){var Re=h.ranges[Le],Ye=Re.from(),tt=Re.to();Re.empty()&&(d&&d>0?Ye=et(Ye.line,Ye.ch-d):a.state.overwrite&&!M?tt=et(tt.line,Math.min(xt(E,tt.line).text.length,tt.ch+Me(z).length)):M&&Ti&&Ti.lineWise&&Ti.text.join(`
`)==z.join(`
`)&&(Ye=tt=et(Ye.line,0)));var ct={from:Ye,to:tt,text:J?J[Le%J.length]:z,origin:y||(M?"paste":a.state.cutIncoming>k?"cut":"+input")};Ln(a.doc,ct),ot(a,"inputRead",a,ct)}l&&!M&&md(a,l),ms(a),a.curOp.updateInput<2&&(a.curOp.updateInput=_e),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function pd(a,l){var d=a.clipboardData&&a.clipboardData.getData("Text");if(d)return a.preventDefault(),!l.isReadOnly()&&!l.options.disableInput&&l.hasFocus()&&Or(l,function(){return bc(l,d,0,null,"paste")}),!0}function md(a,l){if(!(!a.options.electricChars||!a.options.smartIndent))for(var d=a.doc.sel,h=d.ranges.length-1;h>=0;h--){var y=d.ranges[h];if(!(y.head.ch>100||h&&d.ranges[h-1].head.line==y.head.line)){var E=a.getModeAt(y.head),k=!1;if(E.electricChars){for(var M=0;M<E.electricChars.length;M++)if(l.indexOf(E.electricChars.charAt(M))>-1){k=su(a,y.head.line,"smart");break}}else E.electricInput&&E.electricInput.test(xt(a.doc,y.head.line).text.slice(0,y.head.ch))&&(k=su(a,y.head.line,"smart"));k&&ot(a,"electricInput",a,y.head.line)}}}function mm(a){for(var l=[],d=[],h=0;h<a.doc.sel.ranges.length;h++){var y=a.doc.sel.ranges[h].head.line,E={anchor:et(y,0),head:et(y+1,0)};d.push(E),l.push(a.getRange(E.anchor,E.head))}return{text:l,ranges:d}}function _c(a,l,d,h){a.setAttribute("autocorrect",d?"on":"off"),a.setAttribute("autocapitalize",h?"on":"off"),a.setAttribute("spellcheck",!!l)}function fr(){var a=ee("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),l=ee("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return _?a.style.width="1000px":a.setAttribute("wrap","off"),P&&(a.style.border="1px solid black"),l}function Wr(a){var l=a.optionHandlers,d=a.helpers={};a.prototype={constructor:a,focus:function(){$e(this).focus(),this.display.input.focus()},setOption:function(h,y){var E=this.options,k=E[h];E[h]==y&&h!="mode"||(E[h]=y,l.hasOwnProperty(h)&&lr(this,l[h])(this,y,k),ft(this,"optionChange",this,h))},getOption:function(h){return this.options[h]},getDoc:function(){return this.doc},addKeyMap:function(h,y){this.state.keyMaps[y?"push":"unshift"](hc(h))},removeKeyMap:function(h){for(var y=this.state.keyMaps,E=0;E<y.length;++E)if(y[E]==h||y[E].name==h)return y.splice(E,1),!0},addOverlay:rr(function(h,y){var E=h.token?h:a.getMode(this.options,h);if(E.startState)throw new Error("Overlays may not be stateful.");Ve(this.state.overlays,{mode:E,modeSpec:h,opaque:y&&y.opaque,priority:y&&y.priority||0},function(k){return k.priority}),this.state.modeGen++,On(this)}),removeOverlay:rr(function(h){for(var y=this.state.overlays,E=0;E<y.length;++E){var k=y[E].modeSpec;if(k==h||typeof h=="string"&&k.name==h){y.splice(E,1),this.state.modeGen++,On(this);return}}}),indentLine:rr(function(h,y,E){typeof y!="string"&&typeof y!="number"&&(y==null?y=this.options.smartIndent?"smart":"prev":y=y?"add":"subtract"),La(this.doc,h)&&su(this,h,y,E)}),indentSelection:rr(function(h){for(var y=this.doc.sel.ranges,E=-1,k=0;k<y.length;k++){var M=y[k];if(M.empty())M.head.line>E&&(su(this,M.head.line,h,!0),E=M.head.line,k==this.doc.sel.primIndex&&ms(this));else{var z=M.from(),J=M.to(),de=Math.max(E,z.line);E=Math.min(this.lastLine(),J.line-(J.ch?0:1))+1;for(var _e=de;_e<E;++_e)su(this,_e,h);var Le=this.doc.sel.ranges;z.ch==0&&y.length==Le.length&&Le[k].from().ch>0&&mf(this.doc,k,new Zt(z,Le[k].to()),K)}}}),getTokenAt:function(h,y){return Io(this,h,y)},getLineTokens:function(h,y){return Io(this,et(h),y,!0)},getTokenTypeAt:function(h){h=Mt(this.doc,h);var y=Hu(this,xt(this.doc,h.line)),E=0,k=(y.length-1)/2,M=h.ch,z;if(M==0)z=y[2];else for(;;){var J=E+k>>1;if((J?y[J*2-1]:0)>=M)k=J;else if(y[J*2+1]<M)E=J+1;else{z=y[J*2+2];break}}var de=z?z.indexOf("overlay "):-1;return de<0?z:de==0?null:z.slice(0,de-1)},getModeAt:function(h){var y=this.doc.mode;return y.innerMode?a.innerMode(y,this.getTokenAt(h).state).mode:y},getHelper:function(h,y){return this.getHelpers(h,y)[0]},getHelpers:function(h,y){var E=[];if(!d.hasOwnProperty(y))return E;var k=d[y],M=this.getModeAt(h);if(typeof M[y]=="string")k[M[y]]&&E.push(k[M[y]]);else if(M[y])for(var z=0;z<M[y].length;z++){var J=k[M[y][z]];J&&E.push(J)}else M.helperType&&k[M.helperType]?E.push(k[M.helperType]):k[M.name]&&E.push(k[M.name]);for(var de=0;de<k._global.length;de++){var _e=k._global[de];_e.pred(M,this)&&_t(E,_e.val)==-1&&E.push(_e.val)}return E},getStateAfter:function(h,y){var E=this.doc;return h=ha(E,h??E.first+E.size-1),Ki(this,h+1,y).state},cursorCoords:function(h,y){var E,k=this.doc.sel.primary();return h==null?E=k.head:typeof h=="object"?E=Mt(this.doc,h):E=h?k.from():k.to(),oi(this,E,y||"page")},charCoords:function(h,y){return Ol(this,Mt(this.doc,h),y||"page")},coordsChar:function(h,y){return h=zo(this,h,y||"page"),hs(this,h.left,h.top)},lineAtHeight:function(h,y){return h=zo(this,{top:h,left:0},y||"page").top,Ma(this.doc,h+this.display.viewOffset)},heightAtLine:function(h,y,E){var k=!1,M;if(typeof h=="number"){var z=this.doc.first+this.doc.size-1;h<this.doc.first?h=this.doc.first:h>z&&(h=z,k=!0),M=xt(this.doc,h)}else M=h;return Jc(this,M,{top:0,left:0},y||"page",E||k).top+(k?this.doc.height-Xi(M):0)},defaultTextHeight:function(){return Ml(this.display)},defaultCharWidth:function(){return Ll(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(h,y,E,k,M){var z=this.display;h=oi(this,Mt(this.doc,h));var J=h.bottom,de=h.left;if(y.style.position="absolute",y.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(y),z.sizer.appendChild(y),k=="over")J=h.top;else if(k=="above"||k=="near"){var _e=Math.max(z.wrapper.clientHeight,this.doc.height),Le=Math.max(z.sizer.clientWidth,z.lineSpace.clientWidth);(k=="above"||h.bottom+y.offsetHeight>_e)&&h.top>y.offsetHeight?J=h.top-y.offsetHeight:h.bottom+y.offsetHeight<=_e&&(J=h.bottom),de+y.offsetWidth>Le&&(de=Le-y.offsetWidth)}y.style.top=J+"px",y.style.left=y.style.right="",M=="right"?(de=z.sizer.clientWidth-y.offsetWidth,y.style.right="0px"):(M=="left"?de=0:M=="middle"&&(de=(z.sizer.clientWidth-y.offsetWidth)/2),y.style.left=de+"px"),E&&Ji(this,{left:de,top:J,right:de+y.offsetWidth,bottom:J+y.offsetHeight})},triggerOnKeyDown:rr(ad),triggerOnKeyPress:rr(sd),triggerOnKeyUp:Af,triggerOnMouseDown:rr(kf),execCommand:function(h){if(tu.hasOwnProperty(h))return tu[h].call(null,this)},triggerElectric:rr(function(h){md(this,h)}),findPosH:function(h,y,E,k){var M=1;y<0&&(M=-1,y=-y);for(var z=Mt(this.doc,h),J=0;J<y&&(z=If(this.doc,z,M,E,k),!z.hitSide);++J);return z},moveH:rr(function(h,y){var E=this;this.extendSelectionsBy(function(k){return E.display.shift||E.doc.extend||k.empty()?If(E.doc,k.head,h,y,E.options.rtlMoveVisually):h<0?k.from():k.to()},He)}),deleteH:rr(function(h,y){var E=this.doc.sel,k=this.doc;E.somethingSelected()?k.replaceSelection("",null,"+delete"):Zo(this,function(M){var z=If(k,M.head,h,y,!1);return h<0?{from:z,to:M.head}:{from:M.head,to:z}})}),findPosV:function(h,y,E,k){var M=1,z=k;y<0&&(M=-1,y=-y);for(var J=Mt(this.doc,h),de=0;de<y;++de){var _e=oi(this,J,"div");if(z==null?z=_e.left:_e.left=z,J=gd(this,_e,M,E),J.hitSide)break}return J},moveV:rr(function(h,y){var E=this,k=this.doc,M=[],z=!this.display.shift&&!k.extend&&k.sel.somethingSelected();if(k.extendSelectionsBy(function(de){if(z)return h<0?de.from():de.to();var _e=oi(E,de.head,"div");de.goalColumn!=null&&(_e.left=de.goalColumn),M.push(_e.left);var Le=gd(E,_e,h,y);return y=="page"&&de==k.sel.primary()&&Xs(E,Ol(E,Le,"div").top-_e.top),Le},He),M.length)for(var J=0;J<k.sel.ranges.length;J++)k.sel.ranges[J].goalColumn=M[J]}),findWordAt:function(h){var y=this.doc,E=xt(y,h.line).text,k=h.ch,M=h.ch;if(E){var z=this.getHelper(h,"wordChars");(h.sticky=="before"||M==E.length)&&k?--k:++M;for(var J=E.charAt(k),de=j(J,z)?function(_e){return j(_e,z)}:/\s/.test(J)?function(_e){return/\s/.test(_e)}:function(_e){return!/\s/.test(_e)&&!j(_e)};k>0&&de(E.charAt(k-1));)--k;for(;M<E.length&&de(E.charAt(M));)++M}return new Zt(et(h.line,k),et(h.line,M))},toggleOverwrite:function(h){h!=null&&h==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?le(this.display.cursorDiv,"CodeMirror-overwrite"):F(this.display.cursorDiv,"CodeMirror-overwrite"),ft(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Fe(ge(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:rr(function(h,y){gs(this,h,y)}),getScrollInfo:function(){var h=this.display.scroller;return{left:h.scrollLeft,top:h.scrollTop,height:h.scrollHeight-Qa(this)-this.display.barHeight,width:h.scrollWidth-Qa(this)-this.display.barWidth,clientHeight:$c(this),clientWidth:$a(this)}},scrollIntoView:rr(function(h,y){h==null?(h={from:this.doc.sel.primary().head,to:null},y==null&&(y=this.options.cursorScrollMargin)):typeof h=="number"?h={from:et(h,0),to:null}:h.from==null&&(h={from:h,to:null}),h.to||(h.to=h.from),h.margin=y||0,h.from.line!=null?ea(this,h):ys(this,h.from,h.to,h.margin)}),setSize:rr(function(h,y){var E=this,k=function(z){return typeof z=="number"||/^\d+$/.test(String(z))?z+"px":z};h!=null&&(this.display.wrapper.style.width=k(h)),y!=null&&(this.display.wrapper.style.height=k(y)),this.options.lineWrapping&&Oh(this);var M=this.display.viewFrom;this.doc.iter(M,this.display.viewTo,function(z){if(z.widgets){for(var J=0;J<z.widgets.length;J++)if(z.widgets[J].noHScroll){Vi(E,M,"widget");break}}++M}),this.curOp.forceUpdate=!0,ft(this,"refresh",this)}),operation:function(h){return Or(this,h)},startOperation:function(){return Nr(this)},endOperation:function(){return bs(this)},refresh:rr(function(){var h=this.display.cachedTextHeight;On(this),this.curOp.forceUpdate=!0,Nl(this),gs(this,this.doc.scrollLeft,this.doc.scrollTop),jh(this.display),(h==null||Math.abs(h-Ml(this.display))>.5||this.options.lineWrapping)&&Ju(this),ft(this,"refresh",this)}),swapDoc:rr(function(h){var y=this.doc;return y.cm=null,this.state.selectingText&&this.state.selectingText(),Wh(this,h),Nl(this),this.display.input.reset(),gs(this,h.scrollLeft,h.scrollTop),this.curOp.forceScroll=!0,ot(this,"swapDoc",this,y),y}),phrase:function(h){var y=this.options.phrases;return y&&Object.prototype.hasOwnProperty.call(y,h)?y[h]:h},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},zt(a),a.registerHelper=function(h,y,E){d.hasOwnProperty(h)||(d[h]=a[h]={_global:[]}),d[h][y]=E},a.registerGlobalHelper=function(h,y,E,k){a.registerHelper(h,y,k),d[h]._global.push({pred:E,val:k})}}function If(a,l,d,h,y){var E=l,k=d,M=xt(a,l.line),z=y&&a.direction=="rtl"?-d:d;function J(){var yt=l.line+z;return yt<a.first||yt>=a.first+a.size?!1:(l=new et(yt,l.ch,l.sticky),M=xt(a,yt))}function de(yt){var it;if(h=="codepoint"){var wt=M.text.charCodeAt(l.ch+(d>0?0:-1));if(isNaN(wt))it=null;else{var It=d>0?wt>=55296&&wt<56320:wt>=56320&&wt<57343;it=new et(l.line,Math.max(0,Math.min(M.text.length,l.ch+d*(It?2:1))),-d)}}else y?it=eu(a.cm,M,l,d):it=td(M,l,d);if(it==null)if(!yt&&J())l=Tf(y,a.cm,M,l.line,z);else return!1;else l=it;return!0}if(h=="char"||h=="codepoint")de();else if(h=="column")de(!0);else if(h=="word"||h=="group")for(var _e=null,Le=h=="group",Re=a.cm&&a.cm.getHelper(l,"wordChars"),Ye=!0;!(d<0&&!de(!Ye));Ye=!1){var tt=M.text.charAt(l.ch)||`
`,ct=j(tt,Re)?"w":Le&&tt==`
`?"n":!Le||/\s/.test(tt)?null:"p";if(Le&&!Ye&&!ct&&(ct="s"),_e&&_e!=ct){d<0&&(d=1,de(),l.sticky="after");break}if(ct&&(_e=ct),d>0&&!de(!Ye))break}var pt=Ql(a,l,E,k,!0);return Pa(E,pt)&&(pt.hitSide=!0),pt}function gd(a,l,d,h){var y=a.doc,E=l.left,k;if(h=="page"){var M=Math.min(a.display.wrapper.clientHeight,$e(a).innerHeight||y(a).documentElement.clientHeight),z=Math.max(M-.5*Ml(a.display),3);k=(d>0?l.bottom:l.top)+d*z}else h=="line"&&(k=d>0?l.bottom+3:l.top-3);for(var J;J=hs(a,E,k),!!J.outside;){if(d<0?k<=0:k>=y.height){J.hitSide=!0;break}k+=d*5}return J}var vn=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new At,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};vn.prototype.init=function(a){var l=this,d=this,h=d.cm,y=d.div=a.lineDiv;y.contentEditable=!0,_c(y,h.options.spellcheck,h.options.autocorrect,h.options.autocapitalize);function E(M){for(var z=M.target;z;z=z.parentNode){if(z==y)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(z.className))break}return!1}De(y,"paste",function(M){!E(M)||at(h,M)||pd(M,h)||v<=11&&setTimeout(lr(h,function(){return l.updateFromDOM()}),20)}),De(y,"compositionstart",function(M){l.composing={data:M.data,done:!1}}),De(y,"compositionupdate",function(M){l.composing||(l.composing={data:M.data,done:!1})}),De(y,"compositionend",function(M){l.composing&&(M.data!=l.composing.data&&l.readFromDOMSoon(),l.composing.done=!0)}),De(y,"touchstart",function(){return d.forceCompositionEnd()}),De(y,"input",function(){l.composing||l.readFromDOMSoon()});function k(M){if(!(!E(M)||at(h,M))){if(h.somethingSelected())vc({lineWise:!1,text:h.getSelections()}),M.type=="cut"&&h.replaceSelection("",null,"cut");else if(h.options.lineWiseCopyCut){var z=mm(h);vc({lineWise:!0,text:z.text}),M.type=="cut"&&h.operation(function(){h.setSelections(z.ranges,0,K),h.replaceSelection("",null,"cut")})}else return;if(M.clipboardData){M.clipboardData.clearData();var J=Ti.text.join(`
`);if(M.clipboardData.setData("Text",J),M.clipboardData.getData("Text")==J){M.preventDefault();return}}var de=fr(),_e=de.firstChild;_c(_e),h.display.lineSpace.insertBefore(de,h.display.lineSpace.firstChild),_e.value=Ti.text.join(`
`);var Le=Fe(Ue(y));H(_e),setTimeout(function(){h.display.lineSpace.removeChild(de),Le.focus(),Le==y&&d.showPrimarySelection()},50)}}De(y,"copy",k),De(y,"cut",k)},vn.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},vn.prototype.prepareSelection=function(){var a=zh(this.cm,!1);return a.focus=Fe(Ue(this.div))==this.div,a},vn.prototype.showSelection=function(a,l){!a||!this.cm.display.view.length||((a.focus||l)&&this.showPrimarySelection(),this.showMultipleSelections(a))},vn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},vn.prototype.showPrimarySelection=function(){var a=this.getSelection(),l=this.cm,d=l.doc.sel.primary(),h=d.from(),y=d.to();if(l.display.viewTo==l.display.viewFrom||h.line>=l.display.viewTo||y.line<l.display.viewFrom){a.removeAllRanges();return}var E=xc(l,a.anchorNode,a.anchorOffset),k=xc(l,a.focusNode,a.focusOffset);if(!(E&&!E.bad&&k&&!k.bad&&St(Fa(E,k),h)==0&&St(pn(E,k),y)==0)){var M=l.display.view,z=h.line>=l.display.viewFrom&&yd(l,h)||{node:M[0].measure.map[2],offset:0},J=y.line<l.display.viewTo&&yd(l,y);if(!J){var de=M[M.length-1].measure,_e=de.maps?de.maps[de.maps.length-1]:de.map;J={node:_e[_e.length-1],offset:_e[_e.length-2]-_e[_e.length-3]}}if(!z||!J){a.removeAllRanges();return}var Le=a.rangeCount&&a.getRangeAt(0),Re;try{Re=he(z.node,z.offset,J.offset,J.node)}catch{}Re&&(!o&&l.state.focused?(a.collapse(z.node,z.offset),Re.collapsed||(a.removeAllRanges(),a.addRange(Re))):(a.removeAllRanges(),a.addRange(Re)),Le&&a.anchorNode==null?a.addRange(Le):o&&this.startGracePeriod()),this.rememberSelection()}},vn.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},vn.prototype.showMultipleSelections=function(a){U(this.cm.display.cursorDiv,a.cursors),U(this.cm.display.selectionDiv,a.selection)},vn.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},vn.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var l=a.getRangeAt(0).commonAncestorContainer;return Pe(this.div,l)},vn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Fe(Ue(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},vn.prototype.blur=function(){this.div.blur()},vn.prototype.getField=function(){return this.div},vn.prototype.supportsTouch=function(){return!0},vn.prototype.receivedFocus=function(){var a=this,l=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):Or(this.cm,function(){return l.cm.curOp.selectionChanged=!0});function d(){l.cm.state.focused&&(l.pollSelection(),l.polling.set(l.cm.options.pollInterval,d))}this.polling.set(this.cm.options.pollInterval,d)},vn.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},vn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var a=this.getSelection(),l=this.cm;if(W&&T&&this.cm.display.gutterSpecs.length&&wc(a.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var d=xc(l,a.anchorNode,a.anchorOffset),h=xc(l,a.focusNode,a.focusOffset);d&&h&&Or(l,function(){Lr(l.doc,ba(d,h),K),(d.bad||h.bad)&&(l.curOp.selectionChanged=!0)})}}},vn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,l=a.display,d=a.doc.sel.primary(),h=d.from(),y=d.to();if(h.ch==0&&h.line>a.firstLine()&&(h=et(h.line-1,xt(a.doc,h.line-1).length)),y.ch==xt(a.doc,y.line).text.length&&y.line<a.lastLine()&&(y=et(y.line+1,0)),h.line<l.viewFrom||y.line>l.viewTo-1)return!1;var E,k,M;h.line==l.viewFrom||(E=Za(a,h.line))==0?(k=ln(l.view[0].line),M=l.view[0].node):(k=ln(l.view[E].line),M=l.view[E-1].node.nextSibling);var z=Za(a,y.line),J,de;if(z==l.view.length-1?(J=l.viewTo-1,de=l.lineDiv.lastChild):(J=ln(l.view[z+1].line)-1,de=l.view[z+1].node.previousSibling),!M)return!1;for(var _e=a.doc.splitLines(Nf(a,M,de,k,J)),Le=Xr(a.doc,et(k,0),et(J,xt(a.doc,J).text.length));_e.length>1&&Le.length>1;)if(Me(_e)==Me(Le))_e.pop(),Le.pop(),J--;else if(_e[0]==Le[0])_e.shift(),Le.shift(),k++;else break;for(var Re=0,Ye=0,tt=_e[0],ct=Le[0],pt=Math.min(tt.length,ct.length);Re<pt&&tt.charCodeAt(Re)==ct.charCodeAt(Re);)++Re;for(var yt=Me(_e),it=Me(Le),wt=Math.min(yt.length-(_e.length==1?Re:0),it.length-(Le.length==1?Re:0));Ye<wt&&yt.charCodeAt(yt.length-Ye-1)==it.charCodeAt(it.length-Ye-1);)++Ye;if(_e.length==1&&Le.length==1&&k==h.line)for(;Re&&Re>h.ch&&yt.charCodeAt(yt.length-Ye-1)==it.charCodeAt(it.length-Ye-1);)Re--,Ye++;_e[_e.length-1]=yt.slice(0,yt.length-Ye).replace(/^\u200b+/,""),_e[0]=_e[0].slice(Re).replace(/\u200b+$/,"");var It=et(k,Re),Ct=et(J,Le.length?Me(Le).length-Ye:0);if(_e.length>1||_e[0]||St(It,Ct))return ks(a.doc,_e,It,Ct,"+input"),!0},vn.prototype.ensurePolled=function(){this.forceCompositionEnd()},vn.prototype.reset=function(){this.forceCompositionEnd()},vn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},vn.prototype.readFromDOMSoon=function(){var a=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))},vn.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&Or(this.cm,function(){return On(a.cm)})},vn.prototype.setUneditable=function(a){a.contentEditable="false"},vn.prototype.onKeyPress=function(a){a.charCode==0||this.composing||(a.preventDefault(),this.cm.isReadOnly()||lr(this.cm,bc)(this.cm,String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),0))},vn.prototype.readOnlyChanged=function(a){this.div.contentEditable=String(a!="nocursor")},vn.prototype.onContextMenu=function(){},vn.prototype.resetPosition=function(){},vn.prototype.needsContentAttribute=!0;function yd(a,l){var d=Zc(a,l.line);if(!d||d.hidden)return null;var h=xt(a.doc,l.line),y=Xc(d,h,l.line),E=Te(h,a.doc.direction),k="left";if(E){var M=Ie(E,l.ch);k=M%2?"right":"left"}var z=Vp(y.map,l.ch,k);return z.offset=z.collapse=="right"?z.end:z.start,z}function wc(a){for(var l=a;l;l=l.parentNode)if(/CodeMirror-gutter-wrapper/.test(l.className))return!0;return!1}function el(a,l){return l&&(a.bad=!0),a}function Nf(a,l,d,h,y){var E="",k=!1,M=a.doc.lineSeparator(),z=!1;function J(Re){return function(Ye){return Ye.id==Re}}function de(){k&&(E+=M,z&&(E+=M),k=z=!1)}function _e(Re){Re&&(de(),E+=Re)}function Le(Re){if(Re.nodeType==1){var Ye=Re.getAttribute("cm-text");if(Ye){_e(Ye);return}var tt=Re.getAttribute("cm-marker"),ct;if(tt){var pt=a.findMarks(et(h,0),et(y+1,0),J(+tt));pt.length&&(ct=pt[0].find(0))&&_e(Xr(a.doc,ct.from,ct.to).join(M));return}if(Re.getAttribute("contenteditable")=="false")return;var yt=/^(pre|div|p|li|table|br)$/i.test(Re.nodeName);if(!/^br$/i.test(Re.nodeName)&&Re.textContent.length==0)return;yt&&de();for(var it=0;it<Re.childNodes.length;it++)Le(Re.childNodes[it]);/^(pre|p)$/i.test(Re.nodeName)&&(z=!0),yt&&(k=!0)}else Re.nodeType==3&&_e(Re.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Le(l),l!=d;)l=l.nextSibling,z=!1;return E}function xc(a,l,d){var h;if(l==a.display.lineDiv){if(h=a.display.lineDiv.childNodes[d],!h)return el(a.clipPos(et(a.display.viewTo-1)),!0);l=null,d=0}else for(h=l;;h=h.parentNode){if(!h||h==a.display.lineDiv)return null;if(h.parentNode&&h.parentNode==a.display.lineDiv)break}for(var y=0;y<a.display.view.length;y++){var E=a.display.view[y];if(E.node==h)return My(E,l,d)}}function My(a,l,d){var h=a.text.firstChild,y=!1;if(!l||!Pe(h,l))return el(et(ln(a.line),0),!0);if(l==h&&(y=!0,l=h.childNodes[d],d=0,!l)){var E=a.rest?Me(a.rest):a.line;return el(et(ln(E),E.text.length),y)}var k=l.nodeType==3?l:null,M=l;for(!k&&l.childNodes.length==1&&l.firstChild.nodeType==3&&(k=l.firstChild,d&&(d=k.nodeValue.length));M.parentNode!=h;)M=M.parentNode;var z=a.measure,J=z.maps;function de(ct,pt,yt){for(var it=-1;it<(J?J.length:0);it++)for(var wt=it<0?z.map:J[it],It=0;It<wt.length;It+=3){var Ct=wt[It+2];if(Ct==ct||Ct==pt){var Ut=ln(it<0?a.line:a.rest[it]),rn=wt[It]+yt;return(yt<0||Ct!=ct)&&(rn=wt[It+(yt?1:0)]),et(Ut,rn)}}}var _e=de(k,M,d);if(_e)return el(_e,y);for(var Le=M.nextSibling,Re=k?k.nodeValue.length-d:0;Le;Le=Le.nextSibling){if(_e=de(Le,Le.firstChild,0),_e)return el(et(_e.line,_e.ch-Re),y);Re+=Le.textContent.length}for(var Ye=M.previousSibling,tt=d;Ye;Ye=Ye.previousSibling){if(_e=de(Ye,Ye.firstChild,-1),_e)return el(et(_e.line,_e.ch+tt),y);tt+=Ye.textContent.length}}var Vn=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new At,this.hasSelection=!1,this.composing=null,this.resetting=!1};Vn.prototype.init=function(a){var l=this,d=this,h=this.cm;this.createField(a);var y=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),P&&(y.style.width="0px"),De(y,"input",function(){g&&v>=9&&l.hasSelection&&(l.hasSelection=null),d.poll()}),De(y,"paste",function(k){at(h,k)||pd(k,h)||(h.state.pasteIncoming=+new Date,d.fastPoll())});function E(k){if(!at(h,k)){if(h.somethingSelected())vc({lineWise:!1,text:h.getSelections()});else if(h.options.lineWiseCopyCut){var M=mm(h);vc({lineWise:!0,text:M.text}),k.type=="cut"?h.setSelections(M.ranges,null,K):(d.prevInput="",y.value=M.text.join(`
`),H(y))}else return;k.type=="cut"&&(h.state.cutIncoming=+new Date)}}De(y,"cut",E),De(y,"copy",E),De(a.scroller,"paste",function(k){if(!(Ka(a,k)||at(h,k))){if(!y.dispatchEvent){h.state.pasteIncoming=+new Date,d.focus();return}var M=new Event("paste");M.clipboardData=k.clipboardData,y.dispatchEvent(M)}}),De(a.lineSpace,"selectstart",function(k){Ka(a,k)||Nt(k)}),De(y,"compositionstart",function(){var k=h.getCursor("from");d.composing&&d.composing.range.clear(),d.composing={start:k,range:h.markText(k,h.getCursor("to"),{className:"CodeMirror-composing"})}}),De(y,"compositionend",function(){d.composing&&(d.poll(),d.composing.range.clear(),d.composing=null)})},Vn.prototype.createField=function(a){this.wrapper=fr(),this.textarea=this.wrapper.firstChild;var l=this.cm.options;_c(this.textarea,l.spellcheck,l.autocorrect,l.autocapitalize)},Vn.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},Vn.prototype.prepareSelection=function(){var a=this.cm,l=a.display,d=a.doc,h=zh(a);if(a.options.moveInputWithCursor){var y=oi(a,d.sel.primary().head,"div"),E=l.wrapper.getBoundingClientRect(),k=l.lineDiv.getBoundingClientRect();h.teTop=Math.max(0,Math.min(l.wrapper.clientHeight-10,y.top+k.top-E.top)),h.teLeft=Math.max(0,Math.min(l.wrapper.clientWidth-10,y.left+k.left-E.left))}return h},Vn.prototype.showSelection=function(a){var l=this.cm,d=l.display;U(d.cursorDiv,a.cursors),U(d.selectionDiv,a.selection),a.teTop!=null&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},Vn.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing&&a)){var l=this.cm;if(this.resetting=!0,l.somethingSelected()){this.prevInput="";var d=l.getSelection();this.textarea.value=d,l.state.focused&&H(this.textarea),g&&v>=9&&(this.hasSelection=d)}else a||(this.prevInput=this.textarea.value="",g&&v>=9&&(this.hasSelection=null));this.resetting=!1}},Vn.prototype.getField=function(){return this.textarea},Vn.prototype.supportsTouch=function(){return!1},Vn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!re||Fe(Ue(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Vn.prototype.blur=function(){this.textarea.blur()},Vn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Vn.prototype.receivedFocus=function(){this.slowPoll()},Vn.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},Vn.prototype.fastPoll=function(){var a=!1,l=this;l.pollingFast=!0;function d(){var h=l.poll();!h&&!a?(a=!0,l.polling.set(60,d)):(l.pollingFast=!1,l.slowPoll())}l.polling.set(20,d)},Vn.prototype.poll=function(){var a=this,l=this.cm,d=this.textarea,h=this.prevInput;if(this.contextMenuPending||this.resetting||!l.state.focused||er(d)&&!h&&!this.composing||l.isReadOnly()||l.options.disableInput||l.state.keySeq)return!1;var y=d.value;if(y==h&&!l.somethingSelected())return!1;if(g&&v>=9&&this.hasSelection===y||te&&/[\uf700-\uf7ff]/.test(y))return l.display.input.reset(),!1;if(l.doc.sel==l.display.selForContextMenu){var E=y.charCodeAt(0);if(E==8203&&!h&&(h=""),E==8666)return this.reset(),this.cm.execCommand("undo")}for(var k=0,M=Math.min(h.length,y.length);k<M&&h.charCodeAt(k)==y.charCodeAt(k);)++k;return Or(l,function(){bc(l,y.slice(k),h.length-k,null,a.composing?"*compose":null),y.length>1e3||y.indexOf(`
`)>-1?d.value=a.prevInput="":a.prevInput=y,a.composing&&(a.composing.range.clear(),a.composing.range=l.markText(a.composing.start,l.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Vn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Vn.prototype.onKeyPress=function(){g&&v>=9&&(this.hasSelection=null),this.fastPoll()},Vn.prototype.onContextMenu=function(a){var l=this,d=l.cm,h=d.display,y=l.textarea;l.contextMenuPending&&l.contextMenuPending();var E=qr(d,a),k=h.scroller.scrollTop;if(!E||L)return;var M=d.options.resetSelectionOnContextMenu;M&&d.doc.sel.contains(E)==-1&&lr(d,Lr)(d.doc,ba(E),K);var z=y.style.cssText,J=l.wrapper.style.cssText,de=l.wrapper.offsetParent.getBoundingClientRect();l.wrapper.style.cssText="position: static",y.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(a.clientY-de.top-5)+"px; left: "+(a.clientX-de.left-5)+`px;
      z-index: 1000; background: `+(g?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var _e;_&&(_e=y.ownerDocument.defaultView.scrollY),h.input.focus(),_&&y.ownerDocument.defaultView.scrollTo(null,_e),h.input.reset(),d.somethingSelected()||(y.value=l.prevInput=" "),l.contextMenuPending=Re,h.selForContextMenu=d.doc.sel,clearTimeout(h.detectingSelectAll);function Le(){if(y.selectionStart!=null){var tt=d.somethingSelected(),ct=""+(tt?y.value:"");y.value="",y.value=ct,l.prevInput=tt?"":"",y.selectionStart=1,y.selectionEnd=ct.length,h.selForContextMenu=d.doc.sel}}function Re(){if(l.contextMenuPending==Re&&(l.contextMenuPending=!1,l.wrapper.style.cssText=J,y.style.cssText=z,g&&v<9&&h.scrollbars.setScrollTop(h.scroller.scrollTop=k),y.selectionStart!=null)){(!g||g&&v<9)&&Le();var tt=0,ct=function(){h.selForContextMenu==d.doc.sel&&y.selectionStart==0&&y.selectionEnd>0&&l.prevInput==""?lr(d,As)(d):tt++<10?h.detectingSelectAll=setTimeout(ct,500):(h.selForContextMenu=null,h.input.reset())};h.detectingSelectAll=setTimeout(ct,200)}}if(g&&v>=9&&Le(),ae){$n(a);var Ye=function(){vt(window,"mouseup",Ye),setTimeout(Re,20)};De(window,"mouseup",Ye)}else setTimeout(Re,50)},Vn.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled=a=="nocursor",this.textarea.readOnly=!!a},Vn.prototype.setUneditable=function(){},Vn.prototype.needsContentAttribute=!1;function vd(a,l){if(l=l?ht(l):{},l.value=a.value,!l.tabindex&&a.tabIndex&&(l.tabindex=a.tabIndex),!l.placeholder&&a.placeholder&&(l.placeholder=a.placeholder),l.autofocus==null){var d=Fe(Ue(a));l.autofocus=d==a||a.getAttribute("autofocus")!=null&&d==document.body}function h(){a.value=M.getValue()}var y;if(a.form&&(De(a.form,"submit",h),!l.leaveSubmitMethodAlone)){var E=a.form;y=E.submit;try{var k=E.submit=function(){h(),E.submit=y,E.submit(),E.submit=k}}catch{}}l.finishInit=function(z){z.save=h,z.getTextArea=function(){return a},z.toTextArea=function(){z.toTextArea=isNaN,h(),a.parentNode.removeChild(z.getWrapperElement()),a.style.display="",a.form&&(vt(a.form,"submit",h),!l.leaveSubmitMethodAlone&&typeof a.form.submit=="function"&&(a.form.submit=y))}},a.style.display="none";var M=yn(function(z){return a.parentNode.insertBefore(z,a.nextSibling)},l);return M}function gm(a){a.off=vt,a.on=De,a.wheelEventPixels=$p,a.Doc=wr,a.splitLines=ni,a.countColumn=dt,a.findColumn=be,a.isWordChar=ie,a.Pass=Ht,a.signal=ft,a.Line=fs,a.changeEnd=Ss,a.scrollbarModel=Mn,a.Pos=et,a.cmpPos=St,a.modes=ri,a.mimeModes=jr,a.resolveMode=fa,a.getMode=ii,a.modeExtensions=Hr,a.extendMode=Li,a.copyState=$r,a.startState=bl,a.innerMode=tr,a.commands=tu,a.keyMap=Os,a.keyName=ed,a.isModifierKey=Ef,a.lookupKey=Xo,a.normalizeKeyMap=im,a.StringStream=Un,a.SharedTextMarker=$o,a.TextMarker=Rs,a.LineWidget=Pn,a.e_preventDefault=Nt,a.e_stopPropagation=Xt,a.e_stop=$n,a.addClass=le,a.contains=Pe,a.rmClass=F,a.keyNames=Ns}dd(yn),Wr(yn);var ym="iter insert remove copy getEditor constructor".split(" ");for(var Ec in wr.prototype)wr.prototype.hasOwnProperty(Ec)&&_t(ym,Ec)<0&&(yn.prototype[Ec]=(function(a){return function(){return a.apply(this.doc,arguments)}})(wr.prototype[Ec]));return zt(wr),yn.inputStyles={textarea:Vn,contenteditable:vn},yn.defineMode=function(a){!yn.defaults.mode&&a!="null"&&(yn.defaults.mode=a),Oa.apply(this,arguments)},yn.defineMIME=Mi,yn.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),yn.defineMIME("text/plain","null"),yn.defineExtension=function(a,l){yn.prototype[a]=l},yn.defineDocExtension=function(a,l){wr.prototype[a]=l},yn.fromTextArea=vd,gm(yn),yn.version="5.65.20",yn}))})(bg)),bg.exports}var CE={exports:{}},AE;function e8(){return AE||(AE=1,(function(n,e){(function(t){t(Ia())})(function(t){var r=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,o=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,u=/[*+-]\s/;t.commands.newlineAndIndentContinueMarkdownList=function(m){if(m.getOption("disableInput"))return t.Pass;for(var g=m.listSelections(),v=[],_=0;_<g.length;_++){var x=g[_].head,T=m.getStateAfter(x.line),C=t.innerMode(m.getMode(),T);if(C.mode.name!=="markdown"&&C.mode.helperType!=="markdown"){m.execCommand("newlineAndIndent");return}else T=C.state;var L=T.list!==!1,R=T.quote!==0,I=m.getLine(x.line),N=r.exec(I),P=/^\s*$/.test(I.slice(0,x.ch));if(!g[_].empty()||!L&&!R||!N||P){m.execCommand("newlineAndIndent");return}if(o.test(I)){var W=R&&/>\s*$/.test(I),re=!/>\s*$/.test(I);(W||re)&&m.replaceRange("",{line:x.line,ch:0},{line:x.line,ch:x.ch+1}),v[_]=`
`}else{var te=N[1],ne=N[5],B=!(u.test(N[2])||N[2].indexOf(">")>=0),Q=B?parseInt(N[3],10)+1+N[4]:N[2].replace("x"," ");v[_]=`
`+te+Q+ne,B&&f(m,x)}}m.replaceSelections(v)};function f(m,g){var v=g.line,_=0,x=0,T=r.exec(m.getLine(v)),C=T[1];do{_+=1;var L=v+_,R=m.getLine(L),I=r.exec(R);if(I){var N=I[1],P=parseInt(T[3],10)+_-x,W=parseInt(I[3],10),re=W;if(C===N&&!isNaN(W))P===W&&(re=W+1),P>W&&(re=P+1),m.replaceRange(R.replace(r,N+re+I[4]+I[5]),{line:L,ch:0},{line:L,ch:R.length});else{if(C.length>N.length||C.length<N.length&&_===1)return;x+=1}}}while(I)}})})()),CE.exports}var kE={},DE;function t8(){if(DE)return kE;DE=1;var n=Ia();return n.commands.tabAndIndentMarkdownList=function(e){var t=e.listSelections(),r=t[0].head,o=e.getStateAfter(r.line),u=o.list!==!1;if(u){e.execCommand("indentMore");return}if(e.options.indentWithTabs)e.execCommand("insertTab");else{var f=Array(e.options.tabSize+1).join(" ");e.replaceSelection(f)}},n.commands.shiftTabAndUnindentMarkdownList=function(e){var t=e.listSelections(),r=t[0].head,o=e.getStateAfter(r.line),u=o.list!==!1;if(u){e.execCommand("indentLess");return}if(e.options.indentWithTabs)e.execCommand("insertTab");else{var f=Array(e.options.tabSize+1).join(" ");e.replaceSelection(f)}},kE}var RE={exports:{}},IE;function n8(){return IE||(IE=1,(function(n,e){(function(t){t(Ia())})(function(t){t.defineOption("fullScreen",!1,function(u,f,m){m==t.Init&&(m=!1),!m!=!f&&(f?r(u):o(u))});function r(u){var f=u.getWrapperElement();u.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:f.style.width,height:f.style.height},f.style.width="",f.style.height="auto",f.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",u.refresh()}function o(u){var f=u.getWrapperElement();f.className=f.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var m=u.state.fullScreenRestore;f.style.width=m.width,f.style.height=m.height,window.scrollTo(m.scrollLeft,m.scrollTop),u.refresh()}})})()),RE.exports}var NE={exports:{}},OE={exports:{}},ME;function KA(){return ME||(ME=1,(function(n,e){(function(t){t(Ia())})(function(t){var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},o={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(u,f){var m=u.indentUnit,g={},v=f.htmlMode?r:o;for(var _ in v)g[_]=v[_];for(var _ in f)g[_]=f[_];var x,T;function C(ee,fe){function he(le){return fe.tokenize=le,le(ee,fe)}var Pe=ee.next();if(Pe=="<")return ee.eat("!")?ee.eat("[")?ee.match("CDATA[")?he(I("atom","]]>")):null:ee.match("--")?he(I("comment","-->")):ee.match("DOCTYPE",!0,!0)?(ee.eatWhile(/[\w\._\-]/),he(N(1))):null:ee.eat("?")?(ee.eatWhile(/[\w\._\-]/),fe.tokenize=I("meta","?>"),"meta"):(x=ee.eat("/")?"closeTag":"openTag",fe.tokenize=L,"tag bracket");if(Pe=="&"){var Fe;return ee.eat("#")?ee.eat("x")?Fe=ee.eatWhile(/[a-fA-F\d]/)&&ee.eat(";"):Fe=ee.eatWhile(/[\d]/)&&ee.eat(";"):Fe=ee.eatWhile(/[\w\.\-:]/)&&ee.eat(";"),Fe?"atom":"error"}else return ee.eatWhile(/[^&<]/),null}C.isInText=!0;function L(ee,fe){var he=ee.next();if(he==">"||he=="/"&&ee.eat(">"))return fe.tokenize=C,x=he==">"?"endTag":"selfcloseTag","tag bracket";if(he=="=")return x="equals",null;if(he=="<"){fe.tokenize=C,fe.state=ne,fe.tagName=fe.tagStart=null;var Pe=fe.tokenize(ee,fe);return Pe?Pe+" tag error":"tag error"}else return/[\'\"]/.test(he)?(fe.tokenize=R(he),fe.stringStartCol=ee.column(),fe.tokenize(ee,fe)):(ee.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function R(ee){var fe=function(he,Pe){for(;!he.eol();)if(he.next()==ee){Pe.tokenize=L;break}return"string"};return fe.isInAttribute=!0,fe}function I(ee,fe){return function(he,Pe){for(;!he.eol();){if(he.match(fe)){Pe.tokenize=C;break}he.next()}return ee}}function N(ee){return function(fe,he){for(var Pe;(Pe=fe.next())!=null;){if(Pe=="<")return he.tokenize=N(ee+1),he.tokenize(fe,he);if(Pe==">")if(ee==1){he.tokenize=C;break}else return he.tokenize=N(ee-1),he.tokenize(fe,he)}return"meta"}}function P(ee){return ee&&ee.toLowerCase()}function W(ee,fe,he){this.prev=ee.context,this.tagName=fe||"",this.indent=ee.indented,this.startOfLine=he,(g.doNotIndent.hasOwnProperty(fe)||ee.context&&ee.context.noIndent)&&(this.noIndent=!0)}function re(ee){ee.context&&(ee.context=ee.context.prev)}function te(ee,fe){for(var he;;){if(!ee.context||(he=ee.context.tagName,!g.contextGrabbers.hasOwnProperty(P(he))||!g.contextGrabbers[P(he)].hasOwnProperty(P(fe))))return;re(ee)}}function ne(ee,fe,he){return ee=="openTag"?(he.tagStart=fe.column(),B):ee=="closeTag"?Q:ne}function B(ee,fe,he){return ee=="word"?(he.tagName=fe.current(),T="tag",$):g.allowMissingTagName&&ee=="endTag"?(T="tag bracket",$(ee,fe,he)):(T="error",B)}function Q(ee,fe,he){if(ee=="word"){var Pe=fe.current();return he.context&&he.context.tagName!=Pe&&g.implicitlyClosed.hasOwnProperty(P(he.context.tagName))&&re(he),he.context&&he.context.tagName==Pe||g.matchClosing===!1?(T="tag",q):(T="tag error",ae)}else return g.allowMissingTagName&&ee=="endTag"?(T="tag bracket",q(ee,fe,he)):(T="error",ae)}function q(ee,fe,he){return ee!="endTag"?(T="error",q):(re(he),ne)}function ae(ee,fe,he){return T="error",q(ee,fe,he)}function $(ee,fe,he){if(ee=="word")return T="attribute",F;if(ee=="endTag"||ee=="selfcloseTag"){var Pe=he.tagName,Fe=he.tagStart;return he.tagName=he.tagStart=null,ee=="selfcloseTag"||g.autoSelfClosers.hasOwnProperty(P(Pe))?te(he,Pe):(te(he,Pe),he.context=new W(he,Pe,Fe==he.indented)),ne}return T="error",$}function F(ee,fe,he){return ee=="equals"?Z:(g.allowMissing||(T="error"),$(ee,fe,he))}function Z(ee,fe,he){return ee=="string"?U:ee=="word"&&g.allowUnquoted?(T="string",$):(T="error",$(ee,fe,he))}function U(ee,fe,he){return ee=="string"?U:$(ee,fe,he)}return{startState:function(ee){var fe={tokenize:C,state:ne,indented:ee||0,tagName:null,tagStart:null,context:null};return ee!=null&&(fe.baseIndent=ee),fe},token:function(ee,fe){if(!fe.tagName&&ee.sol()&&(fe.indented=ee.indentation()),ee.eatSpace())return null;x=null;var he=fe.tokenize(ee,fe);return(he||x)&&he!="comment"&&(T=null,fe.state=fe.state(x||he,ee,fe),T&&(he=T=="error"?he+" error":T)),he},indent:function(ee,fe,he){var Pe=ee.context;if(ee.tokenize.isInAttribute)return ee.tagStart==ee.indented?ee.stringStartCol+1:ee.indented+m;if(Pe&&Pe.noIndent)return t.Pass;if(ee.tokenize!=L&&ee.tokenize!=C)return he?he.match(/^(\s*)/)[0].length:0;if(ee.tagName)return g.multilineTagIndentPastTag!==!1?ee.tagStart+ee.tagName.length+2:ee.tagStart+m*(g.multilineTagIndentFactor||1);if(g.alignCDATA&&/<!\[CDATA\[/.test(fe))return 0;var Fe=fe&&/^<(\/)?([\w_:\.-]*)/.exec(fe);if(Fe&&Fe[1])for(;Pe;)if(Pe.tagName==Fe[2]){Pe=Pe.prev;break}else if(g.implicitlyClosed.hasOwnProperty(P(Pe.tagName)))Pe=Pe.prev;else break;else if(Fe)for(;Pe;){var le=g.contextGrabbers[P(Pe.tagName)];if(le&&le.hasOwnProperty(P(Fe[2])))Pe=Pe.prev;else break}for(;Pe&&Pe.prev&&!Pe.startOfLine;)Pe=Pe.prev;return Pe?Pe.indent+m:ee.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:g.htmlMode?"html":"xml",helperType:g.htmlMode?"html":"xml",skipAttribute:function(ee){ee.state==Z&&(ee.state=$)},xmlCurrentTag:function(ee){return ee.tagName?{name:ee.tagName,close:ee.type=="closeTag"}:null},xmlCurrentContext:function(ee){for(var fe=[],he=ee.context;he;he=he.prev)fe.push(he.tagName);return fe.reverse()}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})})})()),OE.exports}var LE={exports:{}},PE;function r8(){return PE||(PE=1,(function(n,e){(function(t){t(Ia())})(function(t){t.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var r=0;r<t.modeInfo.length;r++){var o=t.modeInfo[r];o.mimes&&(o.mime=o.mimes[0])}t.findModeByMIME=function(u){u=u.toLowerCase();for(var f=0;f<t.modeInfo.length;f++){var m=t.modeInfo[f];if(m.mime==u)return m;if(m.mimes){for(var g=0;g<m.mimes.length;g++)if(m.mimes[g]==u)return m}}if(/\+xml$/.test(u))return t.findModeByMIME("application/xml");if(/\+json$/.test(u))return t.findModeByMIME("application/json")},t.findModeByExtension=function(u){u=u.toLowerCase();for(var f=0;f<t.modeInfo.length;f++){var m=t.modeInfo[f];if(m.ext){for(var g=0;g<m.ext.length;g++)if(m.ext[g]==u)return m}}},t.findModeByFileName=function(u){for(var f=0;f<t.modeInfo.length;f++){var m=t.modeInfo[f];if(m.file&&m.file.test(u))return m}var g=u.lastIndexOf("."),v=g>-1&&u.substring(g+1,u.length);if(v)return t.findModeByExtension(v)},t.findModeByName=function(u){u=u.toLowerCase();for(var f=0;f<t.modeInfo.length;f++){var m=t.modeInfo[f];if(m.name.toLowerCase()==u)return m;if(m.alias){for(var g=0;g<m.alias.length;g++)if(m.alias[g].toLowerCase()==u)return m}}}})})()),LE.exports}var FE;function QA(){return FE||(FE=1,(function(n,e){(function(t){t(Ia(),KA(),r8())})(function(t){t.defineMode("markdown",function(r,o){var u=t.getMode(r,"text/html"),f=u.name=="null";function m(H){if(t.findModeByName){var A=t.findModeByName(H);A&&(H=A.mime||A.mimes[0])}var ge=t.getMode(r,H);return ge.name=="null"?null:ge}o.highlightFormatting===void 0&&(o.highlightFormatting=!1),o.maxBlockquoteDepth===void 0&&(o.maxBlockquoteDepth=0),o.taskLists===void 0&&(o.taskLists=!1),o.strikethrough===void 0&&(o.strikethrough=!1),o.emoji===void 0&&(o.emoji=!1),o.fencedCodeBlockHighlighting===void 0&&(o.fencedCodeBlockHighlighting=!0),o.fencedCodeBlockDefaultMode===void 0&&(o.fencedCodeBlockDefaultMode="text/plain"),o.xml===void 0&&(o.xml=!0),o.tokenTypeOverrides===void 0&&(o.tokenTypeOverrides={});var g={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var v in g)g.hasOwnProperty(v)&&o.tokenTypeOverrides[v]&&(g[v]=o.tokenTypeOverrides[v]);var _=/^([*\-_])(?:\s*\1){2,}\s*$/,x=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,T=/^\[(x| )\](?=\s)/i,C=o.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,L=/^ {0,3}(?:\={1,}|-{2,})\s*$/,R=/^[^#!\[\]*_\\<>` "'(~:]+/,I=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,N=/^\s*\[[^\]]+?\]:.*$/,P=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,W="    ";function re(H,A,ge){return A.f=A.inline=ge,ge(H,A)}function te(H,A,ge){return A.f=A.block=ge,ge(H,A)}function ne(H){return!H||!/\S/.test(H.string)}function B(H){if(H.linkTitle=!1,H.linkHref=!1,H.linkText=!1,H.em=!1,H.strong=!1,H.strikethrough=!1,H.quote=0,H.indentedCode=!1,H.f==q){var A=f;if(!A){var ge=t.innerMode(u,H.htmlState);A=ge.mode.name=="xml"&&ge.state.tagStart===null&&!ge.state.context&&ge.state.tokenize.isInText}A&&(H.f=Z,H.block=Q,H.htmlState=null)}return H.trailingSpace=0,H.trailingSpaceNewLine=!1,H.prevLine=H.thisLine,H.thisLine={stream:null},null}function Q(H,A){var ge=H.column()===A.indentation,Ue=ne(A.prevLine.stream),$e=A.indentedCode,gt=A.prevLine.hr,ht=A.list!==!1,dt=(A.listStack[A.listStack.length-1]||0)+3;A.indentedCode=!1;var At=A.indentation;if(A.indentationDiff===null&&(A.indentationDiff=A.indentation,ht)){for(A.list=null;At<A.listStack[A.listStack.length-1];)A.listStack.pop(),A.listStack.length?A.indentation=A.listStack[A.listStack.length-1]:A.list=!1;A.list!==!1&&(A.indentationDiff=At-A.listStack[A.listStack.length-1])}var _t=!Ue&&!gt&&!A.prevLine.header&&(!ht||!$e)&&!A.prevLine.fencedCodeEnd,Pt=(A.list===!1||gt||Ue)&&A.indentation<=dt&&H.match(_),Ht=null;if(A.indentationDiff>=4&&($e||A.prevLine.fencedCodeEnd||A.prevLine.header||Ue))return H.skipToEnd(),A.indentedCode=!0,g.code;if(H.eatSpace())return null;if(ge&&A.indentation<=dt&&(Ht=H.match(C))&&Ht[1].length<=6)return A.quote=0,A.header=Ht[1].length,A.thisLine.header=!0,o.highlightFormatting&&(A.formatting="header"),A.f=A.inline,$(A);if(A.indentation<=dt&&H.eat(">"))return A.quote=ge?1:A.quote+1,o.highlightFormatting&&(A.formatting="quote"),H.eatSpace(),$(A);if(!Pt&&!A.setext&&ge&&A.indentation<=dt&&(Ht=H.match(x))){var K=Ht[1]?"ol":"ul";return A.indentation=At+H.current().length,A.list=!0,A.quote=0,A.listStack.push(A.indentation),A.em=!1,A.strong=!1,A.code=!1,A.strikethrough=!1,o.taskLists&&H.match(T,!1)&&(A.taskList=!0),A.f=A.inline,o.highlightFormatting&&(A.formatting=["list","list-"+K]),$(A)}else{if(ge&&A.indentation<=dt&&(Ht=H.match(I,!0)))return A.quote=0,A.fencedEndRE=new RegExp(Ht[1]+"+ *$"),A.localMode=o.fencedCodeBlockHighlighting&&m(Ht[2]||o.fencedCodeBlockDefaultMode),A.localMode&&(A.localState=t.startState(A.localMode)),A.f=A.block=ae,o.highlightFormatting&&(A.formatting="code-block"),A.code=-1,$(A);if(A.setext||(!_t||!ht)&&!A.quote&&A.list===!1&&!A.code&&!Pt&&!N.test(H.string)&&(Ht=H.lookAhead(1))&&(Ht=Ht.match(L)))return A.setext?(A.header=A.setext,A.setext=0,H.skipToEnd(),o.highlightFormatting&&(A.formatting="header")):(A.header=Ht[0].charAt(0)=="="?1:2,A.setext=A.header),A.thisLine.header=!0,A.f=A.inline,$(A);if(Pt)return H.skipToEnd(),A.hr=!0,A.thisLine.hr=!0,g.hr;if(H.peek()==="[")return re(H,A,Pe)}return re(H,A,A.inline)}function q(H,A){var ge=u.token(H,A.htmlState);if(!f){var Ue=t.innerMode(u,A.htmlState);(Ue.mode.name=="xml"&&Ue.state.tagStart===null&&!Ue.state.context&&Ue.state.tokenize.isInText||A.md_inside&&H.current().indexOf(">")>-1)&&(A.f=Z,A.block=Q,A.htmlState=null)}return ge}function ae(H,A){var ge=A.listStack[A.listStack.length-1]||0,Ue=A.indentation<ge,$e=ge+3;if(A.fencedEndRE&&A.indentation<=$e&&(Ue||H.match(A.fencedEndRE))){o.highlightFormatting&&(A.formatting="code-block");var gt;return Ue||(gt=$(A)),A.localMode=A.localState=null,A.block=Q,A.f=Z,A.fencedEndRE=null,A.code=0,A.thisLine.fencedCodeEnd=!0,Ue?te(H,A,A.block):gt}else return A.localMode?A.localMode.token(H,A.localState):(H.skipToEnd(),g.code)}function $(H){var A=[];if(H.formatting){A.push(g.formatting),typeof H.formatting=="string"&&(H.formatting=[H.formatting]);for(var ge=0;ge<H.formatting.length;ge++)A.push(g.formatting+"-"+H.formatting[ge]),H.formatting[ge]==="header"&&A.push(g.formatting+"-"+H.formatting[ge]+"-"+H.header),H.formatting[ge]==="quote"&&(!o.maxBlockquoteDepth||o.maxBlockquoteDepth>=H.quote?A.push(g.formatting+"-"+H.formatting[ge]+"-"+H.quote):A.push("error"))}if(H.taskOpen)return A.push("meta"),A.length?A.join(" "):null;if(H.taskClosed)return A.push("property"),A.length?A.join(" "):null;if(H.linkHref?A.push(g.linkHref,"url"):(H.strong&&A.push(g.strong),H.em&&A.push(g.em),H.strikethrough&&A.push(g.strikethrough),H.emoji&&A.push(g.emoji),H.linkText&&A.push(g.linkText),H.code&&A.push(g.code),H.image&&A.push(g.image),H.imageAltText&&A.push(g.imageAltText,"link"),H.imageMarker&&A.push(g.imageMarker)),H.header&&A.push(g.header,g.header+"-"+H.header),H.quote&&(A.push(g.quote),!o.maxBlockquoteDepth||o.maxBlockquoteDepth>=H.quote?A.push(g.quote+"-"+H.quote):A.push(g.quote+"-"+o.maxBlockquoteDepth)),H.list!==!1){var Ue=(H.listStack.length-1)%3;Ue?Ue===1?A.push(g.list2):A.push(g.list3):A.push(g.list1)}return H.trailingSpaceNewLine?A.push("trailing-space-new-line"):H.trailingSpace&&A.push("trailing-space-"+(H.trailingSpace%2?"a":"b")),A.length?A.join(" "):null}function F(H,A){if(H.match(R,!0))return $(A)}function Z(H,A){var ge=A.text(H,A);if(typeof ge<"u")return ge;if(A.list)return A.list=null,$(A);if(A.taskList){var Ue=H.match(T,!0)[1]===" ";return Ue?A.taskOpen=!0:A.taskClosed=!0,o.highlightFormatting&&(A.formatting="task"),A.taskList=!1,$(A)}if(A.taskOpen=!1,A.taskClosed=!1,A.header&&H.match(/^#+$/,!0))return o.highlightFormatting&&(A.formatting="header"),$(A);var $e=H.next();if(A.linkTitle){A.linkTitle=!1;var gt=$e;$e==="("&&(gt=")"),gt=(gt+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var ht="^\\s*(?:[^"+gt+"\\\\]+|\\\\\\\\|\\\\.)"+gt;if(H.match(new RegExp(ht),!0))return g.linkHref}if($e==="`"){var dt=A.formatting;o.highlightFormatting&&(A.formatting="code"),H.eatWhile("`");var At=H.current().length;if(A.code==0&&(!A.quote||At==1))return A.code=At,$(A);if(At==A.code){var _t=$(A);return A.code=0,_t}else return A.formatting=dt,$(A)}else if(A.code)return $(A);if($e==="\\"&&(H.next(),o.highlightFormatting)){var Pt=$(A),Ht=g.formatting+"-escape";return Pt?Pt+" "+Ht:Ht}if($e==="!"&&H.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return A.imageMarker=!0,A.image=!0,o.highlightFormatting&&(A.formatting="image"),$(A);if($e==="["&&A.imageMarker&&H.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return A.imageMarker=!1,A.imageAltText=!0,o.highlightFormatting&&(A.formatting="image"),$(A);if($e==="]"&&A.imageAltText){o.highlightFormatting&&(A.formatting="image");var Pt=$(A);return A.imageAltText=!1,A.image=!1,A.inline=A.f=ee,Pt}if($e==="["&&!A.image)return A.linkText&&H.match(/^.*?\]/)||(A.linkText=!0,o.highlightFormatting&&(A.formatting="link")),$(A);if($e==="]"&&A.linkText){o.highlightFormatting&&(A.formatting="link");var Pt=$(A);return A.linkText=!1,A.inline=A.f=H.match(/\(.*?\)| ?\[.*?\]/,!1)?ee:Z,Pt}if($e==="<"&&H.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){A.f=A.inline=U,o.highlightFormatting&&(A.formatting="link");var Pt=$(A);return Pt?Pt+=" ":Pt="",Pt+g.linkInline}if($e==="<"&&H.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){A.f=A.inline=U,o.highlightFormatting&&(A.formatting="link");var Pt=$(A);return Pt?Pt+=" ":Pt="",Pt+g.linkEmail}if(o.xml&&$e==="<"&&H.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var K=H.string.indexOf(">",H.pos);if(K!=-1){var ze=H.string.substring(H.start,K);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(ze)&&(A.md_inside=!0)}return H.backUp(1),A.htmlState=t.startState(u),te(H,A,q)}if(o.xml&&$e==="<"&&H.match(/^\/\w*?>/))return A.md_inside=!1,"tag";if($e==="*"||$e==="_"){for(var He=1,be=H.pos==1?" ":H.string.charAt(H.pos-2);He<3&&H.eat($e);)He++;var pe=H.peek()||" ",ke=!/\s/.test(pe)&&(!P.test(pe)||/\s/.test(be)||P.test(be)),Me=!/\s/.test(be)&&(!P.test(be)||/\s/.test(pe)||P.test(pe)),Xe=null,Ve=null;if(He%2&&(!A.em&&ke&&($e==="*"||!Me||P.test(be))?Xe=!0:A.em==$e&&Me&&($e==="*"||!ke||P.test(pe))&&(Xe=!1)),He>1&&(!A.strong&&ke&&($e==="*"||!Me||P.test(be))?Ve=!0:A.strong==$e&&Me&&($e==="*"||!ke||P.test(pe))&&(Ve=!1)),Ve!=null||Xe!=null){o.highlightFormatting&&(A.formatting=Xe==null?"strong":Ve==null?"em":"strong em"),Xe===!0&&(A.em=$e),Ve===!0&&(A.strong=$e);var _t=$(A);return Xe===!1&&(A.em=!1),Ve===!1&&(A.strong=!1),_t}}else if($e===" "&&(H.eat("*")||H.eat("_"))){if(H.peek()===" ")return $(A);H.backUp(1)}if(o.strikethrough){if($e==="~"&&H.eatWhile($e)){if(A.strikethrough){o.highlightFormatting&&(A.formatting="strikethrough");var _t=$(A);return A.strikethrough=!1,_t}else if(H.match(/^[^\s]/,!1))return A.strikethrough=!0,o.highlightFormatting&&(A.formatting="strikethrough"),$(A)}else if($e===" "&&H.match("~~",!0)){if(H.peek()===" ")return $(A);H.backUp(2)}}if(o.emoji&&$e===":"&&H.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){A.emoji=!0,o.highlightFormatting&&(A.formatting="emoji");var lt=$(A);return A.emoji=!1,lt}return $e===" "&&(H.match(/^ +$/,!1)?A.trailingSpace++:A.trailingSpace&&(A.trailingSpaceNewLine=!0)),$(A)}function U(H,A){var ge=H.next();if(ge===">"){A.f=A.inline=Z,o.highlightFormatting&&(A.formatting="link");var Ue=$(A);return Ue?Ue+=" ":Ue="",Ue+g.linkInline}return H.match(/^[^>]+/,!0),g.linkInline}function ee(H,A){if(H.eatSpace())return null;var ge=H.next();return ge==="("||ge==="["?(A.f=A.inline=he(ge==="("?")":"]"),o.highlightFormatting&&(A.formatting="link-string"),A.linkHref=!0,$(A)):"error"}var fe={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function he(H){return function(A,ge){var Ue=A.next();if(Ue===H){ge.f=ge.inline=Z,o.highlightFormatting&&(ge.formatting="link-string");var $e=$(ge);return ge.linkHref=!1,$e}return A.match(fe[H]),ge.linkHref=!0,$(ge)}}function Pe(H,A){return H.match(/^([^\]\\]|\\.)*\]:/,!1)?(A.f=Fe,H.next(),o.highlightFormatting&&(A.formatting="link"),A.linkText=!0,$(A)):re(H,A,Z)}function Fe(H,A){if(H.match("]:",!0)){A.f=A.inline=le,o.highlightFormatting&&(A.formatting="link");var ge=$(A);return A.linkText=!1,ge}return H.match(/^([^\]\\]|\\.)+/,!0),g.linkText}function le(H,A){return H.eatSpace()?null:(H.match(/^[^\s]+/,!0),H.peek()===void 0?A.linkTitle=!0:H.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),A.f=A.inline=Z,g.linkHref+" url")}var se={startState:function(){return{f:Q,prevLine:{stream:null},thisLine:{stream:null},block:Q,htmlState:null,indentation:0,inline:Z,text:F,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(H){return{f:H.f,prevLine:H.prevLine,thisLine:H.thisLine,block:H.block,htmlState:H.htmlState&&t.copyState(u,H.htmlState),indentation:H.indentation,localMode:H.localMode,localState:H.localMode?t.copyState(H.localMode,H.localState):null,inline:H.inline,text:H.text,formatting:!1,linkText:H.linkText,linkTitle:H.linkTitle,linkHref:H.linkHref,code:H.code,em:H.em,strong:H.strong,strikethrough:H.strikethrough,emoji:H.emoji,header:H.header,setext:H.setext,hr:H.hr,taskList:H.taskList,list:H.list,listStack:H.listStack.slice(0),quote:H.quote,indentedCode:H.indentedCode,trailingSpace:H.trailingSpace,trailingSpaceNewLine:H.trailingSpaceNewLine,md_inside:H.md_inside,fencedEndRE:H.fencedEndRE}},token:function(H,A){if(A.formatting=!1,H!=A.thisLine.stream){if(A.header=0,A.hr=!1,H.match(/^\s*$/,!0))return B(A),null;if(A.prevLine=A.thisLine,A.thisLine={stream:H},A.taskList=!1,A.trailingSpace=0,A.trailingSpaceNewLine=!1,!A.localState&&(A.f=A.block,A.f!=q)){var ge=H.match(/^\s*/,!0)[0].replace(/\t/g,W).length;if(A.indentation=ge,A.indentationDiff=null,ge>0)return null}}return A.f(H,A)},innerMode:function(H){return H.block==q?{state:H.htmlState,mode:u}:H.localState?{state:H.localState,mode:H.localMode}:{state:H,mode:se}},indent:function(H,A,ge){return H.block==q&&u.indent?u.indent(H.htmlState,A,ge):H.localState&&H.localMode.indent?H.localMode.indent(H.localState,A,ge):t.Pass},blankLine:B,getType:$,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return se},"xml"),t.defineMIME("text/markdown","markdown"),t.defineMIME("text/x-markdown","markdown")})})()),NE.exports}var zE={exports:{}},BE;function $A(){return BE||(BE=1,(function(n,e){(function(t){t(Ia())})(function(t){t.overlayMode=function(r,o,u){return{startState:function(){return{base:t.startState(r),overlay:t.startState(o),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(f){return{base:t.copyState(r,f.base),overlay:t.copyState(o,f.overlay),basePos:f.basePos,baseCur:null,overlayPos:f.overlayPos,overlayCur:null}},token:function(f,m){return(f!=m.streamSeen||Math.min(m.basePos,m.overlayPos)<f.start)&&(m.streamSeen=f,m.basePos=m.overlayPos=f.start),f.start==m.basePos&&(m.baseCur=r.token(f,m.base),m.basePos=f.pos),f.start==m.overlayPos&&(f.pos=f.start,m.overlayCur=o.token(f,m.overlay),m.overlayPos=f.pos),f.pos=Math.min(m.basePos,m.overlayPos),m.overlayCur==null?m.baseCur:m.baseCur!=null&&m.overlay.combineTokens||u&&m.overlay.combineTokens==null?m.baseCur+" "+m.overlayCur:m.overlayCur},indent:r.indent&&function(f,m,g){return r.indent(f.base,m,g)},electricChars:r.electricChars,innerMode:function(f){return{state:f.base,mode:r}},blankLine:function(f){var m,g;return r.blankLine&&(m=r.blankLine(f.base)),o.blankLine&&(g=o.blankLine(f.overlay)),g==null?m:u&&m!=null?m+" "+g:g}}}})})()),zE.exports}var UE={exports:{}},VE;function i8(){return VE||(VE=1,(function(n,e){(function(t){t(Ia())})(function(t){t.defineOption("placeholder","",function(v,_,x){var T=x&&x!=t.Init;if(_&&!T)v.on("blur",f),v.on("change",m),v.on("swapDoc",m),t.on(v.getInputField(),"compositionupdate",v.state.placeholderCompose=function(){u(v)}),m(v);else if(!_&&T){v.off("blur",f),v.off("change",m),v.off("swapDoc",m),t.off(v.getInputField(),"compositionupdate",v.state.placeholderCompose),r(v);var C=v.getWrapperElement();C.className=C.className.replace(" CodeMirror-empty","")}_&&!v.hasFocus()&&f(v)});function r(v){v.state.placeholder&&(v.state.placeholder.parentNode.removeChild(v.state.placeholder),v.state.placeholder=null)}function o(v){r(v);var _=v.state.placeholder=document.createElement("pre");_.style.cssText="height: 0; overflow: visible",_.style.direction=v.getOption("direction"),_.className="CodeMirror-placeholder CodeMirror-line-like";var x=v.getOption("placeholder");typeof x=="string"&&(x=document.createTextNode(x)),_.appendChild(x),v.display.lineSpace.insertBefore(_,v.display.lineSpace.firstChild)}function u(v){setTimeout(function(){var _=!1;if(v.lineCount()==1){var x=v.getInputField();_=x.nodeName=="TEXTAREA"?!v.getLine(0).length:!/[^\u200b]/.test(x.querySelector(".CodeMirror-line").textContent)}_?o(v):r(v)},20)}function f(v){g(v)&&o(v)}function m(v){var _=v.getWrapperElement(),x=g(v);_.className=_.className.replace(" CodeMirror-empty","")+(x?" CodeMirror-empty":""),x?o(v):r(v)}function g(v){return v.lineCount()===1&&v.getLine(0)===""}})})()),UE.exports}var jE={exports:{}},HE;function a8(){return HE||(HE=1,(function(n,e){(function(t){t(Ia())})(function(t){t.defineOption("autoRefresh",!1,function(u,f){u.state.autoRefresh&&(o(u,u.state.autoRefresh),u.state.autoRefresh=null),f&&u.display.wrapper.offsetHeight==0&&r(u,u.state.autoRefresh={delay:f.delay||250})});function r(u,f){function m(){u.display.wrapper.offsetHeight?(o(u,f),u.display.lastWrapHeight!=u.display.wrapper.clientHeight&&u.refresh()):f.timeout=setTimeout(m,f.delay)}f.timeout=setTimeout(m,f.delay),f.hurry=function(){clearTimeout(f.timeout),f.timeout=setTimeout(m,50)},t.on(window,"mouseup",f.hurry),t.on(window,"keyup",f.hurry)}function o(u,f){clearTimeout(f.timeout),t.off(window,"mouseup",f.hurry),t.off(window,"keyup",f.hurry)}})})()),jE.exports}var qE={exports:{}},WE;function s8(){return WE||(WE=1,(function(n,e){(function(t){t(Ia())})(function(t){t.defineOption("styleSelectedText",!1,function(T,C,L){var R=L&&L!=t.Init;C&&!R?(T.state.markedSelection=[],T.state.markedSelectionStyle=typeof C=="string"?C:"CodeMirror-selectedtext",_(T),T.on("cursorActivity",r),T.on("change",o)):!C&&R&&(T.off("cursorActivity",r),T.off("change",o),v(T),T.state.markedSelection=T.state.markedSelectionStyle=null)});function r(T){T.state.markedSelection&&T.operation(function(){x(T)})}function o(T){T.state.markedSelection&&T.state.markedSelection.length&&T.operation(function(){v(T)})}var u=8,f=t.Pos,m=t.cmpPos;function g(T,C,L,R){if(m(C,L)!=0)for(var I=T.state.markedSelection,N=T.state.markedSelectionStyle,P=C.line;;){var W=P==C.line?C:f(P,0),re=P+u,te=re>=L.line,ne=te?L:f(re,0),B=T.markText(W,ne,{className:N});if(R==null?I.push(B):I.splice(R++,0,B),te)break;P=re}}function v(T){for(var C=T.state.markedSelection,L=0;L<C.length;++L)C[L].clear();C.length=0}function _(T){v(T);for(var C=T.listSelections(),L=0;L<C.length;L++)g(T,C[L].from(),C[L].to())}function x(T){if(!T.somethingSelected())return v(T);if(T.listSelections().length>1)return _(T);var C=T.getCursor("start"),L=T.getCursor("end"),R=T.state.markedSelection;if(!R.length)return g(T,C,L);var I=R[0].find(),N=R[R.length-1].find();if(!I||!N||L.line-C.line<=u||m(C,N.to)>=0||m(L,I.from)<=0)return _(T);for(;m(C,I.from)>0;)R.shift().clear(),I=R[0].find();for(m(C,I.from)<0&&(I.to.line-C.line<u?(R.shift().clear(),g(T,C,I.to,0)):g(T,C,I.from,0));m(L,N.to)<0;)R.pop().clear(),N=R[R.length-1].find();m(L,N.to)>0&&(L.line-N.from.line<u?(R.pop().clear(),g(T,N.from,L)):g(T,N.to,L))}})})()),qE.exports}var GE={exports:{}},YE;function o8(){return YE||(YE=1,(function(n,e){(function(t){t(Ia())})(function(t){var r=t.Pos;function o(P){var W=P.flags;return W??(P.ignoreCase?"i":"")+(P.global?"g":"")+(P.multiline?"m":"")}function u(P,W){for(var re=o(P),te=re,ne=0;ne<W.length;ne++)te.indexOf(W.charAt(ne))==-1&&(te+=W.charAt(ne));return re==te?P:new RegExp(P.source,te)}function f(P){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(P.source)}function m(P,W,re){W=u(W,"g");for(var te=re.line,ne=re.ch,B=P.lastLine();te<=B;te++,ne=0){W.lastIndex=ne;var Q=P.getLine(te),q=W.exec(Q);if(q)return{from:r(te,q.index),to:r(te,q.index+q[0].length),match:q}}}function g(P,W,re){if(!f(W))return m(P,W,re);W=u(W,"gm");for(var te,ne=1,B=re.line,Q=P.lastLine();B<=Q;){for(var q=0;q<ne&&!(B>Q);q++){var ae=P.getLine(B++);te=te==null?ae:te+`
`+ae}ne=ne*2,W.lastIndex=re.ch;var $=W.exec(te);if($){var F=te.slice(0,$.index).split(`
`),Z=$[0].split(`
`),U=re.line+F.length-1,ee=F[F.length-1].length;return{from:r(U,ee),to:r(U+Z.length-1,Z.length==1?ee+Z[0].length:Z[Z.length-1].length),match:$}}}}function v(P,W,re){for(var te,ne=0;ne<=P.length;){W.lastIndex=ne;var B=W.exec(P);if(!B)break;var Q=B.index+B[0].length;if(Q>P.length-re)break;(!te||Q>te.index+te[0].length)&&(te=B),ne=B.index+1}return te}function _(P,W,re){W=u(W,"g");for(var te=re.line,ne=re.ch,B=P.firstLine();te>=B;te--,ne=-1){var Q=P.getLine(te),q=v(Q,W,ne<0?0:Q.length-ne);if(q)return{from:r(te,q.index),to:r(te,q.index+q[0].length),match:q}}}function x(P,W,re){if(!f(W))return _(P,W,re);W=u(W,"gm");for(var te,ne=1,B=P.getLine(re.line).length-re.ch,Q=re.line,q=P.firstLine();Q>=q;){for(var ae=0;ae<ne&&Q>=q;ae++){var $=P.getLine(Q--);te=te==null?$:$+`
`+te}ne*=2;var F=v(te,W,B);if(F){var Z=te.slice(0,F.index).split(`
`),U=F[0].split(`
`),ee=Q+Z.length,fe=Z[Z.length-1].length;return{from:r(ee,fe),to:r(ee+U.length-1,U.length==1?fe+U[0].length:U[U.length-1].length),match:F}}}}var T,C;String.prototype.normalize?(T=function(P){return P.normalize("NFD").toLowerCase()},C=function(P){return P.normalize("NFD")}):(T=function(P){return P.toLowerCase()},C=function(P){return P});function L(P,W,re,te){if(P.length==W.length)return re;for(var ne=0,B=re+Math.max(0,P.length-W.length);;){if(ne==B)return ne;var Q=ne+B>>1,q=te(P.slice(0,Q)).length;if(q==re)return Q;q>re?B=Q:ne=Q+1}}function R(P,W,re,te){if(!W.length)return null;var ne=te?T:C,B=ne(W).split(/\r|\n\r?/);e:for(var Q=re.line,q=re.ch,ae=P.lastLine()+1-B.length;Q<=ae;Q++,q=0){var $=P.getLine(Q).slice(q),F=ne($);if(B.length==1){var Z=F.indexOf(B[0]);if(Z==-1)continue e;var re=L($,F,Z,ne)+q;return{from:r(Q,L($,F,Z,ne)+q),to:r(Q,L($,F,Z+B[0].length,ne)+q)}}else{var U=F.length-B[0].length;if(F.slice(U)!=B[0])continue e;for(var ee=1;ee<B.length-1;ee++)if(ne(P.getLine(Q+ee))!=B[ee])continue e;var fe=P.getLine(Q+B.length-1),he=ne(fe),Pe=B[B.length-1];if(he.slice(0,Pe.length)!=Pe)continue e;return{from:r(Q,L($,F,U,ne)+q),to:r(Q+B.length-1,L(fe,he,Pe.length,ne))}}}}function I(P,W,re,te){if(!W.length)return null;var ne=te?T:C,B=ne(W).split(/\r|\n\r?/);e:for(var Q=re.line,q=re.ch,ae=P.firstLine()-1+B.length;Q>=ae;Q--,q=-1){var $=P.getLine(Q);q>-1&&($=$.slice(0,q));var F=ne($);if(B.length==1){var Z=F.lastIndexOf(B[0]);if(Z==-1)continue e;return{from:r(Q,L($,F,Z,ne)),to:r(Q,L($,F,Z+B[0].length,ne))}}else{var U=B[B.length-1];if(F.slice(0,U.length)!=U)continue e;for(var ee=1,re=Q-B.length+1;ee<B.length-1;ee++)if(ne(P.getLine(re+ee))!=B[ee])continue e;var fe=P.getLine(Q+1-B.length),he=ne(fe);if(he.slice(he.length-B[0].length)!=B[0])continue e;return{from:r(Q+1-B.length,L(fe,he,fe.length-B[0].length,ne)),to:r(Q,L($,F,U.length,ne))}}}}function N(P,W,re,te){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=P,re=re?P.clipPos(re):r(0,0),this.pos={from:re,to:re};var ne;typeof te=="object"?ne=te.caseFold:(ne=te,te=null),typeof W=="string"?(ne==null&&(ne=!1),this.matches=function(B,Q){return(B?I:R)(P,W,Q,ne)}):(W=u(W,"gm"),!te||te.multiline!==!1?this.matches=function(B,Q){return(B?x:g)(P,W,Q)}:this.matches=function(B,Q){return(B?_:m)(P,W,Q)})}N.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(P){var W=this.doc.clipPos(P?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(W=r(W.line,W.ch),P?(W.ch--,W.ch<0&&(W.line--,W.ch=(this.doc.getLine(W.line)||"").length)):(W.ch++,W.ch>(this.doc.getLine(W.line)||"").length&&(W.ch=0,W.line++)),t.cmpPos(W,this.doc.clipPos(W))!=0))return this.atOccurrence=!1;var re=this.matches(P,W);if(this.afterEmptyMatch=re&&t.cmpPos(re.from,re.to)==0,re)return this.pos=re,this.atOccurrence=!0,this.pos.match||!0;var te=r(P?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:te,to:te},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(P,W){if(this.atOccurrence){var re=t.splitLines(P);this.doc.replaceRange(re,this.pos.from,this.pos.to,W),this.pos.to=r(this.pos.from.line+re.length-1,re[re.length-1].length+(re.length==1?this.pos.from.ch:0))}}},t.defineExtension("getSearchCursor",function(P,W,re){return new N(this.doc,P,W,re)}),t.defineDocExtension("getSearchCursor",function(P,W,re){return new N(this,P,W,re)}),t.defineExtension("selectMatches",function(P,W){for(var re=[],te=this.getSearchCursor(P,this.getCursor("from"),W);te.findNext()&&!(t.cmpPos(te.to(),this.getCursor("to"))>0);)re.push({anchor:te.from(),head:te.to()});re.length&&this.setSelections(re,0)})})})()),GE.exports}var KE={exports:{}},QE;function l8(){return QE||(QE=1,(function(n,e){(function(t){t(Ia(),QA(),$A())})(function(t){var r=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;t.defineMode("gfm",function(o,u){var f=0;function m(x){return x.code=!1,null}var g={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(x){return{code:x.code,codeBlock:x.codeBlock,ateSpace:x.ateSpace}},token:function(x,T){if(T.combineTokens=null,T.codeBlock)return x.match(/^```+/)?(T.codeBlock=!1,null):(x.skipToEnd(),null);if(x.sol()&&(T.code=!1),x.sol()&&x.match(/^```+/))return x.skipToEnd(),T.codeBlock=!0,null;if(x.peek()==="`"){x.next();var C=x.pos;x.eatWhile("`");var L=1+x.pos-C;return T.code?L===f&&(T.code=!1):(f=L,T.code=!0),null}else if(T.code)return x.next(),null;if(x.eatSpace())return T.ateSpace=!0,null;if((x.sol()||T.ateSpace)&&(T.ateSpace=!1,u.gitHubSpice!==!1)){if(x.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return T.combineTokens=!0,"link";if(x.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return T.combineTokens=!0,"link"}return x.match(r)&&x.string.slice(x.start-2,x.start)!="]("&&(x.start==0||/\W/.test(x.string.charAt(x.start-1)))?(T.combineTokens=!0,"link"):(x.next(),null)},blankLine:m},v={taskLists:!0,strikethrough:!0,emoji:!0};for(var _ in u)v[_]=u[_];return v.name="markdown",t.overlayMode(t.getMode(o,v),g)},"markdown"),t.defineMIME("text/x-gfm","gfm")})})()),KE.exports}var n0={exports:{}};const u8={},c8=Object.freeze(Object.defineProperty({__proto__:null,default:u8},Symbol.toStringTag,{value:"Module"})),f8=Qk(c8);var $E;function h8(){return $E||($E=1,(function(n){var e;(function(){e=function(t,r,o,u){u=u||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=u.flags||{},this.memoized={},this.loaded=!1;var f=this,m,g,v,_,x;if(t)if(f.dictionary=t,r&&o)I();else if(typeof window<"u"&&(window.chrome&&window.chrome.runtime||window.browser&&window.browser.runtime)){var T=window.chrome&&window.chrome.runtime?window.chrome.runtime:window.browser.runtime;u.dictionaryPath?m=u.dictionaryPath:m="typo/dictionaries",r||C(T.getURL(m+"/"+t+"/"+t+".aff"),L),o||C(T.getURL(m+"/"+t+"/"+t+".dic"),R)}else u.dictionaryPath?m=u.dictionaryPath:typeof __dirname<"u"?m=__dirname+"/dictionaries":m="./dictionaries",r||C(m+"/"+t+"/"+t+".aff",L),o||C(m+"/"+t+"/"+t+".dic",R);function C(N,P){var W=f._readFile(N,null,u?.asyncLoad);u?.asyncLoad?W.then(function(re){P(re)}):P(W)}function L(N){r=N,o&&I()}function R(N){o=N,r&&I()}function I(){for(f.rules=f._parseAFF(r),f.compoundRuleCodes={},g=0,_=f.compoundRules.length;g<_;g++){var N=f.compoundRules[g];for(v=0,x=N.length;v<x;v++)f.compoundRuleCodes[N[v]]=[]}"ONLYINCOMPOUND"in f.flags&&(f.compoundRuleCodes[f.flags.ONLYINCOMPOUND]=[]),f.dictionaryTable=f._parseDIC(o);for(g in f.compoundRuleCodes)f.compoundRuleCodes[g].length===0&&delete f.compoundRuleCodes[g];for(g=0,_=f.compoundRules.length;g<_;g++){var P=f.compoundRules[g],W="";for(v=0,x=P.length;v<x;v++){var re=P[v];re in f.compoundRuleCodes?W+="("+f.compoundRuleCodes[re].join("|")+")":W+=re}f.compoundRules[g]=new RegExp("^"+W+"$","i")}f.loaded=!0,u?.asyncLoad&&u?.loadedCallback&&u.loadedCallback(f)}return this},e.prototype={load:function(t){for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return this},_readFile:function(t,r,o){var u;if(r=r||"utf8",typeof XMLHttpRequest<"u"){var f=new XMLHttpRequest;if(f.open("GET",t,!!o),(u=f.overrideMimeType)===null||u===void 0||u.call(f,"text/plain; charset="+r),o){var m=new Promise(function(v,_){f.onload=function(){f.status===200?v(f.responseText):_(f.statusText)},f.onerror=function(){_(f.statusText)}});return f.send(null),m}else return f.send(null),f.responseText}else if(typeof Xd<"u"){var g=f8;try{if(g.existsSync(t))return g.readFileSync(t,r);console.log("Path "+t+" does not exist.")}catch(v){console.log(v)}return""}return""},_parseAFF:function(t){var r={},o,u,f,m,g,v,_,x,T=t.split(/\r?\n/);for(g=0,_=T.length;g<_;g++)if(o=this._removeAffixComments(T[g]),o=o.trim(),!!o){var C=o.split(/\s+/),L=C[0];if(L==="PFX"||L==="SFX"){var R=C[1],I=C[2];f=parseInt(C[3],10);var N=[];for(v=g+1,x=g+1+f;v<x;v++){u=T[v],m=u.split(/\s+/);var P=m[2],W=m[3].split("/"),re=W[0];re==="0"&&(re="");var te=this.parseRuleCodes(W[1]),ne=m[4],B={add:re};te.length>0&&(B.continuationClasses=te),ne!=="."&&(L==="SFX"?B.match=new RegExp(ne+"$"):B.match=new RegExp("^"+ne)),P!="0"&&(L==="SFX"?B.remove=new RegExp(P+"$"):B.remove=P),N.push(B)}r[R]={type:L,combineable:I==="Y",entries:N},g+=f}else if(L==="COMPOUNDRULE"){for(f=parseInt(C[1],10),v=g+1,x=g+1+f;v<x;v++)o=T[v],m=o.split(/\s+/),this.compoundRules.push(m[1]);g+=f}else L==="REP"?(m=o.split(/\s+/),m.length===3&&this.replacementTable.push([m[1],m[2]])):this.flags[L]=C[1]}return r},_removeAffixComments:function(t){return t.match(/^\s*#/)?"":t},_parseDIC:function(t){t=this._removeDicComments(t);var r=t.split(/\r?\n/),o={};function u(F,Z){o.hasOwnProperty(F)||(o[F]=null),Z.length>0&&(o[F]===null&&(o[F]=[]),o[F].push(Z))}for(var f=1,m=r.length;f<m;f++){var g=r[f];if(g){var v=g.replace(/\s.*$/,""),_=v.split("/",2),x=_[0];if(_.length>1){var T=this.parseRuleCodes(_[1]);(!("NEEDAFFIX"in this.flags)||T.indexOf(this.flags.NEEDAFFIX)===-1)&&u(x,T);for(var C=0,L=T.length;C<L;C++){var R=T[C],I=this.rules[R];if(I)for(var N=this._applyRule(x,I),P=0,W=N.length;P<W;P++){var re=N[P];if(u(re,[]),I.combineable)for(var te=C+1;te<L;te++){var ne=T[te],B=this.rules[ne];if(B&&B.combineable&&I.type!=B.type)for(var Q=this._applyRule(re,B),q=0,ae=Q.length;q<ae;q++){var $=Q[q];u($,[])}}}R in this.compoundRuleCodes&&this.compoundRuleCodes[R].push(x)}}else u(x.trim(),[])}}return o},_removeDicComments:function(t){return t=t.replace(/^\t.*$/mg,""),t},parseRuleCodes:function(t){if(t)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var r=[],o=0,u=t.length;o<u;o+=2)r.push(t.substr(o,2));return r}else return this.flags.FLAG==="num"?t.split(","):this.flags.FLAG==="UTF-8"?Array.from(t):t.split("");else return t.split("");else return[]},_applyRule:function(t,r){for(var o=r.entries,u=[],f=0,m=o.length;f<m;f++){var g=o[f];if(!g.match||t.match(g.match)){var v=t;if(g.remove&&(v=v.replace(g.remove,"")),r.type==="SFX"?v=v+g.add:v=g.add+v,u.push(v),"continuationClasses"in g)for(var _=0,x=g.continuationClasses.length;_<x;_++){var T=this.rules[g.continuationClasses[_]];T&&(u=u.concat(this._applyRule(v,T)))}}}return u},check:function(t){if(!this.loaded)throw"Dictionary not loaded.";if(!t)return!1;var r=t.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(r))return!0;if(r.toUpperCase()===r){var o=r[0]+r.substring(1).toLowerCase();if(this.hasFlag(o,"KEEPCASE"))return!1;if(this.checkExact(o)||this.checkExact(r.toLowerCase()))return!0}var u=r[0].toLowerCase()+r.substring(1);if(u!==r){if(this.hasFlag(u,"KEEPCASE"))return!1;if(this.checkExact(u))return!0}return!1},checkExact:function(t){if(!this.loaded)throw"Dictionary not loaded.";var r=this.dictionaryTable[t],o,u;if(typeof r>"u"){if("COMPOUNDMIN"in this.flags&&t.length>=this.flags.COMPOUNDMIN){for(o=0,u=this.compoundRules.length;o<u;o++)if(t.match(this.compoundRules[o]))return!0}}else{if(r===null)return!0;if(typeof r=="object"){for(o=0,u=r.length;o<u;o++)if(!this.hasFlag(t,"ONLYINCOMPOUND",r[o]))return!0}}return!1},hasFlag:function(t,r,o){if(!this.loaded)throw"Dictionary not loaded.";return!!(r in this.flags&&(typeof o>"u"&&(o=Array.prototype.concat.apply([],this.dictionaryTable[t])),o&&o.indexOf(this.flags[r])!==-1))},alphabet:"",suggest:function(t,r){if(!this.loaded)throw"Dictionary not loaded.";if(r=r||5,this.memoized.hasOwnProperty(t)){var o=this.memoized[t].limit;if(r<=o||this.memoized[t].suggestions.length<o)return this.memoized[t].suggestions.slice(0,r)}if(this.check(t))return[];for(var u=0,f=this.replacementTable.length;u<f;u++){var m=this.replacementTable[u];if(t.indexOf(m[0])!==-1){var g=t.replace(m[0],m[1]);if(this.check(g))return[g]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var v=this.alphabet.split("");v.sort();for(var _={},u=0;u<v.length;u++)_[v[u]]=!0;this.alphabet="";for(var u in _)this.alphabet+=u}var x=this;function T(L,R){var I={},N,P,W,re,te=x.alphabet.length;for(var ne in L)for(N=0,W=ne.length+1;N<W;N++){var B=[ne.substring(0,N),ne.substring(N)];if(B[1]&&(re=B[0]+B[1].substring(1),(!R||x.check(re))&&(re in I?I[re]+=1:I[re]=1)),B[1].length>1&&B[1][1]!==B[1][0]&&(re=B[0]+B[1][1]+B[1][0]+B[1].substring(2),(!R||x.check(re))&&(re in I?I[re]+=1:I[re]=1)),B[1]){var Q=B[1].substring(0,1).toUpperCase()===B[1].substring(0,1)?"uppercase":"lowercase";for(P=0;P<te;P++){var q=x.alphabet[P];Q==="uppercase"&&(q=q.toUpperCase()),q!=B[1].substring(0,1)&&(re=B[0]+q+B[1].substring(1),(!R||x.check(re))&&(re in I?I[re]+=1:I[re]=1))}}if(B[1])for(P=0;P<te;P++){var Q=B[0].substring(-1).toUpperCase()===B[0].substring(-1)&&B[1].substring(0,1).toUpperCase()===B[1].substring(0,1)?"uppercase":"lowercase",q=x.alphabet[P];Q==="uppercase"&&(q=q.toUpperCase()),re=B[0]+q+B[1],(!R||x.check(re))&&(re in I?I[re]+=1:I[re]=1)}}return I}function C(L){var R,I=T((R={},R[L]=!0,R)),N=T(I,!0),P=N;for(var W in I)x.check(W)&&(W in P?P[W]+=I[W]:P[W]=I[W]);var re,te=[];for(re in P)P.hasOwnProperty(re)&&(x.hasFlag(re,"PRIORITYSUGGEST")&&(P[re]+=1e3),te.push([re,P[re]]));function ne(ae,$){var F=ae[1],Z=$[1];return F<Z?-1:F>Z?1:$[0].localeCompare(ae[0])}te.sort(ne).reverse();var B=[],Q="lowercase";L.toUpperCase()===L?Q="uppercase":L.substr(0,1).toUpperCase()+L.substr(1).toLowerCase()===L&&(Q="capitalized");var q=r;for(re=0;re<Math.min(q,te.length);re++)Q==="uppercase"?te[re][0]=te[re][0].toUpperCase():Q==="capitalized"&&(te[re][0]=te[re][0].substr(0,1).toUpperCase()+te[re][0].substr(1)),!x.hasFlag(te[re][0],"NOSUGGEST")&&B.indexOf(te[re][0])===-1?B.push(te[re][0]):q++;return B}return this.memoized[t]={suggestions:C(t),limit:r},this.memoized[t].suggestions}}})(),n.exports=e})(n0)),n0.exports}var r0,XE;function d8(){if(XE)return r0;XE=1;var n=h8();function e(t){if(t=t||{},typeof t.codeMirrorInstance!="function"||typeof t.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),t.codeMirrorInstance.defineMode("spell-checker",function(r){if(!e.aff_loading){e.aff_loading=!0;var o=new XMLHttpRequest;o.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),o.onload=function(){o.readyState===4&&o.status===200&&(e.aff_data=o.responseText,e.num_loaded++,e.num_loaded==2&&(e.typo=new n("en_US",e.aff_data,e.dic_data,{platform:"any"})))},o.send(null)}if(!e.dic_loading){e.dic_loading=!0;var u=new XMLHttpRequest;u.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),u.onload=function(){u.readyState===4&&u.status===200&&(e.dic_data=u.responseText,e.num_loaded++,e.num_loaded==2&&(e.typo=new n("en_US",e.aff_data,e.dic_data,{platform:"any"})))},u.send(null)}var f='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',m={token:function(v){var _=v.peek(),x="";if(f.includes(_))return v.next(),null;for(;(_=v.peek())!=null&&!f.includes(_);)x+=_,v.next();return e.typo&&!e.typo.check(x)?"spell-error":null}},g=t.codeMirrorInstance.getMode(r,r.backdrop||"text/plain");return t.codeMirrorInstance.overlayMode(g,m,!0)})}return e.num_loaded=0,e.aff_loading=!1,e.dic_loading=!1,e.aff_data="",e.dic_data="",e.typo,r0=e,r0}var i0={},ZE;function p8(){return ZE||(ZE=1,(function(n){function e(Ee,we){for(var ie=0;ie<we.length;ie++){var j=we[ie];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(Ee,g(j.key),j)}}function t(Ee,we,ie){return ie&&e(Ee,ie),Object.defineProperty(Ee,"prototype",{writable:!1}),Ee}function r(){return r=Object.assign?Object.assign.bind():function(Ee){for(var we=1;we<arguments.length;we++){var ie=arguments[we];for(var j in ie)Object.prototype.hasOwnProperty.call(ie,j)&&(Ee[j]=ie[j])}return Ee},r.apply(this,arguments)}function o(Ee,we){if(Ee){if(typeof Ee=="string")return u(Ee,we);var ie=Object.prototype.toString.call(Ee).slice(8,-1);if(ie==="Object"&&Ee.constructor&&(ie=Ee.constructor.name),ie==="Map"||ie==="Set")return Array.from(Ee);if(ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie))return u(Ee,we)}}function u(Ee,we){(we==null||we>Ee.length)&&(we=Ee.length);for(var ie=0,j=new Array(we);ie<we;ie++)j[ie]=Ee[ie];return j}function f(Ee,we){var ie=typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(ie)return(ie=ie.call(Ee)).next.bind(ie);if(Array.isArray(Ee)||(ie=o(Ee))||we){ie&&(Ee=ie);var j=0;return function(){return j>=Ee.length?{done:!0}:{done:!1,value:Ee[j++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(Ee,we){if(typeof Ee!="object"||Ee===null)return Ee;var ie=Ee[Symbol.toPrimitive];if(ie!==void 0){var j=ie.call(Ee,we);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ee)}function g(Ee){var we=m(Ee,"string");return typeof we=="symbol"?we:String(we)}function v(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}n.defaults=v();function _(Ee){n.defaults=Ee}var x=/[&<>"']/,T=new RegExp(x.source,"g"),C=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,L=new RegExp(C.source,"g"),R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},I=function(we){return R[we]};function N(Ee,we){if(we){if(x.test(Ee))return Ee.replace(T,I)}else if(C.test(Ee))return Ee.replace(L,I);return Ee}var P=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function W(Ee){return Ee.replace(P,function(we,ie){return ie=ie.toLowerCase(),ie==="colon"?":":ie.charAt(0)==="#"?ie.charAt(1)==="x"?String.fromCharCode(parseInt(ie.substring(2),16)):String.fromCharCode(+ie.substring(1)):""})}var re=/(^|[^\[])\^/g;function te(Ee,we){Ee=typeof Ee=="string"?Ee:Ee.source,we=we||"";var ie={replace:function(G,ve){return ve=ve.source||ve,ve=ve.replace(re,"$1"),Ee=Ee.replace(G,ve),ie},getRegex:function(){return new RegExp(Ee,we)}};return ie}var ne=/[^\w:]/g,B=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Q(Ee,we,ie){if(Ee){var j;try{j=decodeURIComponent(W(ie)).replace(ne,"").toLowerCase()}catch{return null}if(j.indexOf("javascript:")===0||j.indexOf("vbscript:")===0||j.indexOf("data:")===0)return null}we&&!B.test(ie)&&(ie=Z(we,ie));try{ie=encodeURI(ie).replace(/%25/g,"%")}catch{return null}return ie}var q={},ae=/^[^:]+:\/*[^/]*$/,$=/^([^:]+:)[\s\S]*$/,F=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Z(Ee,we){q[" "+Ee]||(ae.test(Ee)?q[" "+Ee]=Ee+"/":q[" "+Ee]=fe(Ee,"/",!0)),Ee=q[" "+Ee];var ie=Ee.indexOf(":")===-1;return we.substring(0,2)==="//"?ie?we:Ee.replace($,"$1")+we:we.charAt(0)==="/"?ie?we:Ee.replace(F,"$1")+we:Ee+we}var U={exec:function(){}};function ee(Ee,we){var ie=Ee.replace(/\|/g,function(ve,D,Y){for(var ce=!1,me=D;--me>=0&&Y[me]==="\\";)ce=!ce;return ce?"|":" |"}),j=ie.split(/ \|/),G=0;if(j[0].trim()||j.shift(),j.length>0&&!j[j.length-1].trim()&&j.pop(),j.length>we)j.splice(we);else for(;j.length<we;)j.push("");for(;G<j.length;G++)j[G]=j[G].trim().replace(/\\\|/g,"|");return j}function fe(Ee,we,ie){var j=Ee.length;if(j===0)return"";for(var G=0;G<j;){var ve=Ee.charAt(j-G-1);if(ve===we&&!ie)G++;else if(ve!==we&&ie)G++;else break}return Ee.slice(0,j-G)}function he(Ee,we){if(Ee.indexOf(we[1])===-1)return-1;for(var ie=Ee.length,j=0,G=0;G<ie;G++)if(Ee[G]==="\\")G++;else if(Ee[G]===we[0])j++;else if(Ee[G]===we[1]&&(j--,j<0))return G;return-1}function Pe(Ee){Ee&&Ee.sanitize&&!Ee.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Fe(Ee,we){if(we<1)return"";for(var ie="";we>1;)we&1&&(ie+=Ee),we>>=1,Ee+=Ee;return ie+Ee}function le(Ee,we,ie,j){var G=we.href,ve=we.title?N(we.title):null,D=Ee[1].replace(/\\([\[\]])/g,"$1");if(Ee[0].charAt(0)!=="!"){j.state.inLink=!0;var Y={type:"link",raw:ie,href:G,title:ve,text:D,tokens:j.inlineTokens(D)};return j.state.inLink=!1,Y}return{type:"image",raw:ie,href:G,title:ve,text:N(D)}}function se(Ee,we){var ie=Ee.match(/^(\s+)(?:```)/);if(ie===null)return we;var j=ie[1];return we.split(`
`).map(function(G){var ve=G.match(/^\s+/);if(ve===null)return G;var D=ve[0];return D.length>=j.length?G.slice(j.length):G}).join(`
`)}var H=(function(){function Ee(ie){this.options=ie||n.defaults}var we=Ee.prototype;return we.space=function(j){var G=this.rules.block.newline.exec(j);if(G&&G[0].length>0)return{type:"space",raw:G[0]}},we.code=function(j){var G=this.rules.block.code.exec(j);if(G){var ve=G[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:G[0],codeBlockStyle:"indented",text:this.options.pedantic?ve:fe(ve,`
`)}}},we.fences=function(j){var G=this.rules.block.fences.exec(j);if(G){var ve=G[0],D=se(ve,G[3]||"");return{type:"code",raw:ve,lang:G[2]?G[2].trim().replace(this.rules.inline._escapes,"$1"):G[2],text:D}}},we.heading=function(j){var G=this.rules.block.heading.exec(j);if(G){var ve=G[2].trim();if(/#$/.test(ve)){var D=fe(ve,"#");(this.options.pedantic||!D||/ $/.test(D))&&(ve=D.trim())}return{type:"heading",raw:G[0],depth:G[1].length,text:ve,tokens:this.lexer.inline(ve)}}},we.hr=function(j){var G=this.rules.block.hr.exec(j);if(G)return{type:"hr",raw:G[0]}},we.blockquote=function(j){var G=this.rules.block.blockquote.exec(j);if(G){var ve=G[0].replace(/^ *>[ \t]?/gm,""),D=this.lexer.state.top;this.lexer.state.top=!0;var Y=this.lexer.blockTokens(ve);return this.lexer.state.top=D,{type:"blockquote",raw:G[0],tokens:Y,text:ve}}},we.list=function(j){var G=this.rules.block.list.exec(j);if(G){var ve,D,Y,ce,me,Se,Ie,xe,Te,Oe,De,ut,vt=G[1].trim(),ft=vt.length>1,at={type:"list",raw:"",ordered:ft,start:ft?+vt.slice(0,-1):"",loose:!1,items:[]};vt=ft?"\\d{1,9}\\"+vt.slice(-1):"\\"+vt,this.options.pedantic&&(vt=ft?vt:"[*+-]");for(var kt=new RegExp("^( {0,3}"+vt+")((?:[	 ][^\\n]*)?(?:\\n|$))");j&&(ut=!1,!(!(G=kt.exec(j))||this.rules.block.hr.test(j)));){if(ve=G[0],j=j.substring(ve.length),xe=G[2].split(`
`,1)[0].replace(/^\t+/,function(or){return" ".repeat(3*or.length)}),Te=j.split(`
`,1)[0],this.options.pedantic?(ce=2,De=xe.trimLeft()):(ce=G[2].search(/[^ ]/),ce=ce>4?1:ce,De=xe.slice(ce),ce+=G[1].length),Se=!1,!xe&&/^ *$/.test(Te)&&(ve+=Te+`
`,j=j.substring(Te.length+1),ut=!0),!ut)for(var Rt=new RegExp("^ {0,"+Math.min(3,ce-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),zt=new RegExp("^ {0,"+Math.min(3,ce-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Nt=new RegExp("^ {0,"+Math.min(3,ce-1)+"}(?:```|~~~)"),Xt=new RegExp("^ {0,"+Math.min(3,ce-1)+"}#");j&&(Oe=j.split(`
`,1)[0],Te=Oe,this.options.pedantic&&(Te=Te.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Nt.test(Te)||Xt.test(Te)||Rt.test(Te)||zt.test(j)));){if(Te.search(/[^ ]/)>=ce||!Te.trim())De+=`
`+Te.slice(ce);else{if(Se||xe.search(/[^ ]/)>=4||Nt.test(xe)||Xt.test(xe)||zt.test(xe))break;De+=`
`+Te}!Se&&!Te.trim()&&(Se=!0),ve+=Oe+`
`,j=j.substring(Oe.length+1),xe=Te.slice(ce)}at.loose||(Ie?at.loose=!0:/\n *\n *$/.test(ve)&&(Ie=!0)),this.options.gfm&&(D=/^\[[ xX]\] /.exec(De),D&&(Y=D[0]!=="[ ] ",De=De.replace(/^\[[ xX]\] +/,""))),at.items.push({type:"list_item",raw:ve,task:!!D,checked:Y,loose:!1,text:De}),at.raw+=ve}at.items[at.items.length-1].raw=ve.trimRight(),at.items[at.items.length-1].text=De.trimRight(),at.raw=at.raw.trimRight();var on=at.items.length;for(me=0;me<on;me++)if(this.lexer.state.top=!1,at.items[me].tokens=this.lexer.blockTokens(at.items[me].text,[]),!at.loose){var $n=at.items[me].tokens.filter(function(or){return or.type==="space"}),Jn=$n.length>0&&$n.some(function(or){return/\n.*\n/.test(or.raw)});at.loose=Jn}if(at.loose)for(me=0;me<on;me++)at.items[me].loose=!0;return at}},we.html=function(j){var G=this.rules.block.html.exec(j);if(G){var ve={type:"html",raw:G[0],pre:!this.options.sanitizer&&(G[1]==="pre"||G[1]==="script"||G[1]==="style"),text:G[0]};if(this.options.sanitize){var D=this.options.sanitizer?this.options.sanitizer(G[0]):N(G[0]);ve.type="paragraph",ve.text=D,ve.tokens=this.lexer.inline(D)}return ve}},we.def=function(j){var G=this.rules.block.def.exec(j);if(G){var ve=G[1].toLowerCase().replace(/\s+/g," "),D=G[2]?G[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",Y=G[3]?G[3].substring(1,G[3].length-1).replace(this.rules.inline._escapes,"$1"):G[3];return{type:"def",tag:ve,raw:G[0],href:D,title:Y}}},we.table=function(j){var G=this.rules.block.table.exec(j);if(G){var ve={type:"table",header:ee(G[1]).map(function(Ie){return{text:Ie}}),align:G[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:G[3]&&G[3].trim()?G[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(ve.header.length===ve.align.length){ve.raw=G[0];var D=ve.align.length,Y,ce,me,Se;for(Y=0;Y<D;Y++)/^ *-+: *$/.test(ve.align[Y])?ve.align[Y]="right":/^ *:-+: *$/.test(ve.align[Y])?ve.align[Y]="center":/^ *:-+ *$/.test(ve.align[Y])?ve.align[Y]="left":ve.align[Y]=null;for(D=ve.rows.length,Y=0;Y<D;Y++)ve.rows[Y]=ee(ve.rows[Y],ve.header.length).map(function(Ie){return{text:Ie}});for(D=ve.header.length,ce=0;ce<D;ce++)ve.header[ce].tokens=this.lexer.inline(ve.header[ce].text);for(D=ve.rows.length,ce=0;ce<D;ce++)for(Se=ve.rows[ce],me=0;me<Se.length;me++)Se[me].tokens=this.lexer.inline(Se[me].text);return ve}}},we.lheading=function(j){var G=this.rules.block.lheading.exec(j);if(G)return{type:"heading",raw:G[0],depth:G[2].charAt(0)==="="?1:2,text:G[1],tokens:this.lexer.inline(G[1])}},we.paragraph=function(j){var G=this.rules.block.paragraph.exec(j);if(G){var ve=G[1].charAt(G[1].length-1)===`
`?G[1].slice(0,-1):G[1];return{type:"paragraph",raw:G[0],text:ve,tokens:this.lexer.inline(ve)}}},we.text=function(j){var G=this.rules.block.text.exec(j);if(G)return{type:"text",raw:G[0],text:G[0],tokens:this.lexer.inline(G[0])}},we.escape=function(j){var G=this.rules.inline.escape.exec(j);if(G)return{type:"escape",raw:G[0],text:N(G[1])}},we.tag=function(j){var G=this.rules.inline.tag.exec(j);if(G)return!this.lexer.state.inLink&&/^<a /i.test(G[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(G[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(G[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(G[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:G[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(G[0]):N(G[0]):G[0]}},we.link=function(j){var G=this.rules.inline.link.exec(j);if(G){var ve=G[2].trim();if(!this.options.pedantic&&/^</.test(ve)){if(!/>$/.test(ve))return;var D=fe(ve.slice(0,-1),"\\");if((ve.length-D.length)%2===0)return}else{var Y=he(G[2],"()");if(Y>-1){var ce=G[0].indexOf("!")===0?5:4,me=ce+G[1].length+Y;G[2]=G[2].substring(0,Y),G[0]=G[0].substring(0,me).trim(),G[3]=""}}var Se=G[2],Ie="";if(this.options.pedantic){var xe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Se);xe&&(Se=xe[1],Ie=xe[3])}else Ie=G[3]?G[3].slice(1,-1):"";return Se=Se.trim(),/^</.test(Se)&&(this.options.pedantic&&!/>$/.test(ve)?Se=Se.slice(1):Se=Se.slice(1,-1)),le(G,{href:Se&&Se.replace(this.rules.inline._escapes,"$1"),title:Ie&&Ie.replace(this.rules.inline._escapes,"$1")},G[0],this.lexer)}},we.reflink=function(j,G){var ve;if((ve=this.rules.inline.reflink.exec(j))||(ve=this.rules.inline.nolink.exec(j))){var D=(ve[2]||ve[1]).replace(/\s+/g," ");if(D=G[D.toLowerCase()],!D){var Y=ve[0].charAt(0);return{type:"text",raw:Y,text:Y}}return le(ve,D,ve[0],this.lexer)}},we.emStrong=function(j,G,ve){ve===void 0&&(ve="");var D=this.rules.inline.emStrong.lDelim.exec(j);if(D&&!(D[3]&&ve.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Y=D[1]||D[2]||"";if(!Y||Y&&(ve===""||this.rules.inline.punctuation.exec(ve))){var ce=D[0].length-1,me,Se,Ie=ce,xe=0,Te=D[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Te.lastIndex=0,G=G.slice(-1*j.length+ce);(D=Te.exec(G))!=null;)if(me=D[1]||D[2]||D[3]||D[4]||D[5]||D[6],!!me){if(Se=me.length,D[3]||D[4]){Ie+=Se;continue}else if((D[5]||D[6])&&ce%3&&!((ce+Se)%3)){xe+=Se;continue}if(Ie-=Se,!(Ie>0)){Se=Math.min(Se,Se+Ie+xe);var Oe=j.slice(0,ce+D.index+(D[0].length-me.length)+Se);if(Math.min(ce,Se)%2){var De=Oe.slice(1,-1);return{type:"em",raw:Oe,text:De,tokens:this.lexer.inlineTokens(De)}}var ut=Oe.slice(2,-2);return{type:"strong",raw:Oe,text:ut,tokens:this.lexer.inlineTokens(ut)}}}}}},we.codespan=function(j){var G=this.rules.inline.code.exec(j);if(G){var ve=G[2].replace(/\n/g," "),D=/[^ ]/.test(ve),Y=/^ /.test(ve)&&/ $/.test(ve);return D&&Y&&(ve=ve.substring(1,ve.length-1)),ve=N(ve,!0),{type:"codespan",raw:G[0],text:ve}}},we.br=function(j){var G=this.rules.inline.br.exec(j);if(G)return{type:"br",raw:G[0]}},we.del=function(j){var G=this.rules.inline.del.exec(j);if(G)return{type:"del",raw:G[0],text:G[2],tokens:this.lexer.inlineTokens(G[2])}},we.autolink=function(j,G){var ve=this.rules.inline.autolink.exec(j);if(ve){var D,Y;return ve[2]==="@"?(D=N(this.options.mangle?G(ve[1]):ve[1]),Y="mailto:"+D):(D=N(ve[1]),Y=D),{type:"link",raw:ve[0],text:D,href:Y,tokens:[{type:"text",raw:D,text:D}]}}},we.url=function(j,G){var ve;if(ve=this.rules.inline.url.exec(j)){var D,Y;if(ve[2]==="@")D=N(this.options.mangle?G(ve[0]):ve[0]),Y="mailto:"+D;else{var ce;do ce=ve[0],ve[0]=this.rules.inline._backpedal.exec(ve[0])[0];while(ce!==ve[0]);D=N(ve[0]),ve[1]==="www."?Y="http://"+ve[0]:Y=ve[0]}return{type:"link",raw:ve[0],text:D,href:Y,tokens:[{type:"text",raw:D,text:D}]}}},we.inlineText=function(j,G){var ve=this.rules.inline.text.exec(j);if(ve){var D;return this.lexer.state.inRawBlock?D=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ve[0]):N(ve[0]):ve[0]:D=N(this.options.smartypants?G(ve[0]):ve[0]),{type:"text",raw:ve[0],text:D}}},Ee})(),A={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:U,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};A._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,A._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,A.def=te(A.def).replace("label",A._label).replace("title",A._title).getRegex(),A.bullet=/(?:[*+-]|\d{1,9}[.)])/,A.listItemStart=te(/^( *)(bull) */).replace("bull",A.bullet).getRegex(),A.list=te(A.list).replace(/bull/g,A.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+A.def.source+")").getRegex(),A._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",A._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,A.html=te(A.html,"i").replace("comment",A._comment).replace("tag",A._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),A.paragraph=te(A._paragraph).replace("hr",A.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",A._tag).getRegex(),A.blockquote=te(A.blockquote).replace("paragraph",A.paragraph).getRegex(),A.normal=r({},A),A.gfm=r({},A.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),A.gfm.table=te(A.gfm.table).replace("hr",A.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",A._tag).getRegex(),A.gfm.paragraph=te(A._paragraph).replace("hr",A.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",A.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",A._tag).getRegex(),A.pedantic=r({},A.normal,{html:te(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",A._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:U,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:te(A.normal._paragraph).replace("hr",A.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",A.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ge={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:U,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:U,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ge._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ge.punctuation=te(ge.punctuation).replace(/punctuation/g,ge._punctuation).getRegex(),ge.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ge.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,ge._comment=te(A._comment).replace("(?:-->|$)","-->").getRegex(),ge.emStrong.lDelim=te(ge.emStrong.lDelim).replace(/punct/g,ge._punctuation).getRegex(),ge.emStrong.rDelimAst=te(ge.emStrong.rDelimAst,"g").replace(/punct/g,ge._punctuation).getRegex(),ge.emStrong.rDelimUnd=te(ge.emStrong.rDelimUnd,"g").replace(/punct/g,ge._punctuation).getRegex(),ge._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ge._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ge._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ge.autolink=te(ge.autolink).replace("scheme",ge._scheme).replace("email",ge._email).getRegex(),ge._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ge.tag=te(ge.tag).replace("comment",ge._comment).replace("attribute",ge._attribute).getRegex(),ge._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ge._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ge._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ge.link=te(ge.link).replace("label",ge._label).replace("href",ge._href).replace("title",ge._title).getRegex(),ge.reflink=te(ge.reflink).replace("label",ge._label).replace("ref",A._label).getRegex(),ge.nolink=te(ge.nolink).replace("ref",A._label).getRegex(),ge.reflinkSearch=te(ge.reflinkSearch,"g").replace("reflink",ge.reflink).replace("nolink",ge.nolink).getRegex(),ge.normal=r({},ge),ge.pedantic=r({},ge.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:te(/^!?\[(label)\]\((.*?)\)/).replace("label",ge._label).getRegex(),reflink:te(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ge._label).getRegex()}),ge.gfm=r({},ge.normal,{escape:te(ge.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ge.gfm.url=te(ge.gfm.url,"i").replace("email",ge.gfm._extended_email).getRegex(),ge.breaks=r({},ge.gfm,{br:te(ge.br).replace("{2,}","*").getRegex(),text:te(ge.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Ue(Ee){return Ee.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function $e(Ee){var we="",ie,j,G=Ee.length;for(ie=0;ie<G;ie++)j=Ee.charCodeAt(ie),Math.random()>.5&&(j="x"+j.toString(16)),we+="&#"+j+";";return we}var gt=(function(){function Ee(ie){this.tokens=[],this.tokens.links=Object.create(null),this.options=ie||n.defaults,this.options.tokenizer=this.options.tokenizer||new H,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var j={block:A.normal,inline:ge.normal};this.options.pedantic?(j.block=A.pedantic,j.inline=ge.pedantic):this.options.gfm&&(j.block=A.gfm,this.options.breaks?j.inline=ge.breaks:j.inline=ge.gfm),this.tokenizer.rules=j}Ee.lex=function(j,G){var ve=new Ee(G);return ve.lex(j)},Ee.lexInline=function(j,G){var ve=new Ee(G);return ve.inlineTokens(j)};var we=Ee.prototype;return we.lex=function(j){j=j.replace(/\r\n|\r/g,`
`),this.blockTokens(j,this.tokens);for(var G;G=this.inlineQueue.shift();)this.inlineTokens(G.src,G.tokens);return this.tokens},we.blockTokens=function(j,G){var ve=this;G===void 0&&(G=[]),this.options.pedantic?j=j.replace(/\t/g,"    ").replace(/^ +$/gm,""):j=j.replace(/^( *)(\t+)/gm,function(Ie,xe,Te){return xe+"    ".repeat(Te.length)});for(var D,Y,ce,me;j;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ie){return(D=Ie.call({lexer:ve},j,G))?(j=j.substring(D.raw.length),G.push(D),!0):!1}))){if(D=this.tokenizer.space(j)){j=j.substring(D.raw.length),D.raw.length===1&&G.length>0?G[G.length-1].raw+=`
`:G.push(D);continue}if(D=this.tokenizer.code(j)){j=j.substring(D.raw.length),Y=G[G.length-1],Y&&(Y.type==="paragraph"||Y.type==="text")?(Y.raw+=`
`+D.raw,Y.text+=`
`+D.text,this.inlineQueue[this.inlineQueue.length-1].src=Y.text):G.push(D);continue}if(D=this.tokenizer.fences(j)){j=j.substring(D.raw.length),G.push(D);continue}if(D=this.tokenizer.heading(j)){j=j.substring(D.raw.length),G.push(D);continue}if(D=this.tokenizer.hr(j)){j=j.substring(D.raw.length),G.push(D);continue}if(D=this.tokenizer.blockquote(j)){j=j.substring(D.raw.length),G.push(D);continue}if(D=this.tokenizer.list(j)){j=j.substring(D.raw.length),G.push(D);continue}if(D=this.tokenizer.html(j)){j=j.substring(D.raw.length),G.push(D);continue}if(D=this.tokenizer.def(j)){j=j.substring(D.raw.length),Y=G[G.length-1],Y&&(Y.type==="paragraph"||Y.type==="text")?(Y.raw+=`
`+D.raw,Y.text+=`
`+D.raw,this.inlineQueue[this.inlineQueue.length-1].src=Y.text):this.tokens.links[D.tag]||(this.tokens.links[D.tag]={href:D.href,title:D.title});continue}if(D=this.tokenizer.table(j)){j=j.substring(D.raw.length),G.push(D);continue}if(D=this.tokenizer.lheading(j)){j=j.substring(D.raw.length),G.push(D);continue}if(ce=j,this.options.extensions&&this.options.extensions.startBlock&&(function(){var Ie=1/0,xe=j.slice(1),Te=void 0;ve.options.extensions.startBlock.forEach(function(Oe){Te=Oe.call({lexer:this},xe),typeof Te=="number"&&Te>=0&&(Ie=Math.min(Ie,Te))}),Ie<1/0&&Ie>=0&&(ce=j.substring(0,Ie+1))})(),this.state.top&&(D=this.tokenizer.paragraph(ce))){Y=G[G.length-1],me&&Y.type==="paragraph"?(Y.raw+=`
`+D.raw,Y.text+=`
`+D.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Y.text):G.push(D),me=ce.length!==j.length,j=j.substring(D.raw.length);continue}if(D=this.tokenizer.text(j)){j=j.substring(D.raw.length),Y=G[G.length-1],Y&&Y.type==="text"?(Y.raw+=`
`+D.raw,Y.text+=`
`+D.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Y.text):G.push(D);continue}if(j){var Se="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(Se);break}else throw new Error(Se)}}return this.state.top=!0,G},we.inline=function(j,G){return G===void 0&&(G=[]),this.inlineQueue.push({src:j,tokens:G}),G},we.inlineTokens=function(j,G){var ve=this;G===void 0&&(G=[]);var D,Y,ce,me=j,Se,Ie,xe;if(this.tokens.links){var Te=Object.keys(this.tokens.links);if(Te.length>0)for(;(Se=this.tokenizer.rules.inline.reflinkSearch.exec(me))!=null;)Te.includes(Se[0].slice(Se[0].lastIndexOf("[")+1,-1))&&(me=me.slice(0,Se.index)+"["+Fe("a",Se[0].length-2)+"]"+me.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Se=this.tokenizer.rules.inline.blockSkip.exec(me))!=null;)me=me.slice(0,Se.index)+"["+Fe("a",Se[0].length-2)+"]"+me.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Se=this.tokenizer.rules.inline.escapedEmSt.exec(me))!=null;)me=me.slice(0,Se.index+Se[0].length-2)+"++"+me.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;j;)if(Ie||(xe=""),Ie=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(De){return(D=De.call({lexer:ve},j,G))?(j=j.substring(D.raw.length),G.push(D),!0):!1}))){if(D=this.tokenizer.escape(j)){j=j.substring(D.raw.length),G.push(D);continue}if(D=this.tokenizer.tag(j)){j=j.substring(D.raw.length),Y=G[G.length-1],Y&&D.type==="text"&&Y.type==="text"?(Y.raw+=D.raw,Y.text+=D.text):G.push(D);continue}if(D=this.tokenizer.link(j)){j=j.substring(D.raw.length),G.push(D);continue}if(D=this.tokenizer.reflink(j,this.tokens.links)){j=j.substring(D.raw.length),Y=G[G.length-1],Y&&D.type==="text"&&Y.type==="text"?(Y.raw+=D.raw,Y.text+=D.text):G.push(D);continue}if(D=this.tokenizer.emStrong(j,me,xe)){j=j.substring(D.raw.length),G.push(D);continue}if(D=this.tokenizer.codespan(j)){j=j.substring(D.raw.length),G.push(D);continue}if(D=this.tokenizer.br(j)){j=j.substring(D.raw.length),G.push(D);continue}if(D=this.tokenizer.del(j)){j=j.substring(D.raw.length),G.push(D);continue}if(D=this.tokenizer.autolink(j,$e)){j=j.substring(D.raw.length),G.push(D);continue}if(!this.state.inLink&&(D=this.tokenizer.url(j,$e))){j=j.substring(D.raw.length),G.push(D);continue}if(ce=j,this.options.extensions&&this.options.extensions.startInline&&(function(){var De=1/0,ut=j.slice(1),vt=void 0;ve.options.extensions.startInline.forEach(function(ft){vt=ft.call({lexer:this},ut),typeof vt=="number"&&vt>=0&&(De=Math.min(De,vt))}),De<1/0&&De>=0&&(ce=j.substring(0,De+1))})(),D=this.tokenizer.inlineText(ce,Ue)){j=j.substring(D.raw.length),D.raw.slice(-1)!=="_"&&(xe=D.raw.slice(-1)),Ie=!0,Y=G[G.length-1],Y&&Y.type==="text"?(Y.raw+=D.raw,Y.text+=D.text):G.push(D);continue}if(j){var Oe="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(Oe);break}else throw new Error(Oe)}}return G},t(Ee,null,[{key:"rules",get:function(){return{block:A,inline:ge}}}]),Ee})(),ht=(function(){function Ee(ie){this.options=ie||n.defaults}var we=Ee.prototype;return we.code=function(j,G,ve){var D=(G||"").match(/\S*/)[0];if(this.options.highlight){var Y=this.options.highlight(j,D);Y!=null&&Y!==j&&(ve=!0,j=Y)}return j=j.replace(/\n$/,"")+`
`,D?'<pre><code class="'+this.options.langPrefix+N(D)+'">'+(ve?j:N(j,!0))+`</code></pre>
`:"<pre><code>"+(ve?j:N(j,!0))+`</code></pre>
`},we.blockquote=function(j){return`<blockquote>
`+j+`</blockquote>
`},we.html=function(j){return j},we.heading=function(j,G,ve,D){if(this.options.headerIds){var Y=this.options.headerPrefix+D.slug(ve);return"<h"+G+' id="'+Y+'">'+j+"</h"+G+`>
`}return"<h"+G+">"+j+"</h"+G+`>
`},we.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},we.list=function(j,G,ve){var D=G?"ol":"ul",Y=G&&ve!==1?' start="'+ve+'"':"";return"<"+D+Y+`>
`+j+"</"+D+`>
`},we.listitem=function(j){return"<li>"+j+`</li>
`},we.checkbox=function(j){return"<input "+(j?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},we.paragraph=function(j){return"<p>"+j+`</p>
`},we.table=function(j,G){return G&&(G="<tbody>"+G+"</tbody>"),`<table>
<thead>
`+j+`</thead>
`+G+`</table>
`},we.tablerow=function(j){return`<tr>
`+j+`</tr>
`},we.tablecell=function(j,G){var ve=G.header?"th":"td",D=G.align?"<"+ve+' align="'+G.align+'">':"<"+ve+">";return D+j+("</"+ve+`>
`)},we.strong=function(j){return"<strong>"+j+"</strong>"},we.em=function(j){return"<em>"+j+"</em>"},we.codespan=function(j){return"<code>"+j+"</code>"},we.br=function(){return this.options.xhtml?"<br/>":"<br>"},we.del=function(j){return"<del>"+j+"</del>"},we.link=function(j,G,ve){if(j=Q(this.options.sanitize,this.options.baseUrl,j),j===null)return ve;var D='<a href="'+j+'"';return G&&(D+=' title="'+G+'"'),D+=">"+ve+"</a>",D},we.image=function(j,G,ve){if(j=Q(this.options.sanitize,this.options.baseUrl,j),j===null)return ve;var D='<img src="'+j+'" alt="'+ve+'"';return G&&(D+=' title="'+G+'"'),D+=this.options.xhtml?"/>":">",D},we.text=function(j){return j},Ee})(),dt=(function(){function Ee(){}var we=Ee.prototype;return we.strong=function(j){return j},we.em=function(j){return j},we.codespan=function(j){return j},we.del=function(j){return j},we.html=function(j){return j},we.text=function(j){return j},we.link=function(j,G,ve){return""+ve},we.image=function(j,G,ve){return""+ve},we.br=function(){return""},Ee})(),At=(function(){function Ee(){this.seen={}}var we=Ee.prototype;return we.serialize=function(j){return j.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},we.getNextSafeSlug=function(j,G){var ve=j,D=0;if(this.seen.hasOwnProperty(ve)){D=this.seen[j];do D++,ve=j+"-"+D;while(this.seen.hasOwnProperty(ve))}return G||(this.seen[j]=D,this.seen[ve]=0),ve},we.slug=function(j,G){G===void 0&&(G={});var ve=this.serialize(j);return this.getNextSafeSlug(ve,G.dryrun)},Ee})(),_t=(function(){function Ee(ie){this.options=ie||n.defaults,this.options.renderer=this.options.renderer||new ht,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new dt,this.slugger=new At}Ee.parse=function(j,G){var ve=new Ee(G);return ve.parse(j)},Ee.parseInline=function(j,G){var ve=new Ee(G);return ve.parseInline(j)};var we=Ee.prototype;return we.parse=function(j,G){G===void 0&&(G=!0);var ve="",D,Y,ce,me,Se,Ie,xe,Te,Oe,De,ut,vt,ft,at,kt,Rt,zt,Nt,Xt,on=j.length;for(D=0;D<on;D++){if(De=j[D],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[De.type]&&(Xt=this.options.extensions.renderers[De.type].call({parser:this},De),Xt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(De.type))){ve+=Xt||"";continue}switch(De.type){case"space":continue;case"hr":{ve+=this.renderer.hr();continue}case"heading":{ve+=this.renderer.heading(this.parseInline(De.tokens),De.depth,W(this.parseInline(De.tokens,this.textRenderer)),this.slugger);continue}case"code":{ve+=this.renderer.code(De.text,De.lang,De.escaped);continue}case"table":{for(Te="",xe="",me=De.header.length,Y=0;Y<me;Y++)xe+=this.renderer.tablecell(this.parseInline(De.header[Y].tokens),{header:!0,align:De.align[Y]});for(Te+=this.renderer.tablerow(xe),Oe="",me=De.rows.length,Y=0;Y<me;Y++){for(Ie=De.rows[Y],xe="",Se=Ie.length,ce=0;ce<Se;ce++)xe+=this.renderer.tablecell(this.parseInline(Ie[ce].tokens),{header:!1,align:De.align[ce]});Oe+=this.renderer.tablerow(xe)}ve+=this.renderer.table(Te,Oe);continue}case"blockquote":{Oe=this.parse(De.tokens),ve+=this.renderer.blockquote(Oe);continue}case"list":{for(ut=De.ordered,vt=De.start,ft=De.loose,me=De.items.length,Oe="",Y=0;Y<me;Y++)kt=De.items[Y],Rt=kt.checked,zt=kt.task,at="",kt.task&&(Nt=this.renderer.checkbox(Rt),ft?kt.tokens.length>0&&kt.tokens[0].type==="paragraph"?(kt.tokens[0].text=Nt+" "+kt.tokens[0].text,kt.tokens[0].tokens&&kt.tokens[0].tokens.length>0&&kt.tokens[0].tokens[0].type==="text"&&(kt.tokens[0].tokens[0].text=Nt+" "+kt.tokens[0].tokens[0].text)):kt.tokens.unshift({type:"text",text:Nt}):at+=Nt),at+=this.parse(kt.tokens,ft),Oe+=this.renderer.listitem(at,zt,Rt);ve+=this.renderer.list(Oe,ut,vt);continue}case"html":{ve+=this.renderer.html(De.text);continue}case"paragraph":{ve+=this.renderer.paragraph(this.parseInline(De.tokens));continue}case"text":{for(Oe=De.tokens?this.parseInline(De.tokens):De.text;D+1<on&&j[D+1].type==="text";)De=j[++D],Oe+=`
`+(De.tokens?this.parseInline(De.tokens):De.text);ve+=G?this.renderer.paragraph(Oe):Oe;continue}default:{var $n='Token with "'+De.type+'" type was not found.';if(this.options.silent){console.error($n);return}else throw new Error($n)}}}return ve},we.parseInline=function(j,G){G=G||this.renderer;var ve="",D,Y,ce,me=j.length;for(D=0;D<me;D++){if(Y=j[D],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Y.type]&&(ce=this.options.extensions.renderers[Y.type].call({parser:this},Y),ce!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Y.type))){ve+=ce||"";continue}switch(Y.type){case"escape":{ve+=G.text(Y.text);break}case"html":{ve+=G.html(Y.text);break}case"link":{ve+=G.link(Y.href,Y.title,this.parseInline(Y.tokens,G));break}case"image":{ve+=G.image(Y.href,Y.title,Y.text);break}case"strong":{ve+=G.strong(this.parseInline(Y.tokens,G));break}case"em":{ve+=G.em(this.parseInline(Y.tokens,G));break}case"codespan":{ve+=G.codespan(Y.text);break}case"br":{ve+=G.br();break}case"del":{ve+=G.del(this.parseInline(Y.tokens,G));break}case"text":{ve+=G.text(Y.text);break}default:{var Se='Token with "'+Y.type+'" type was not found.';if(this.options.silent){console.error(Se);return}else throw new Error(Se)}}}return ve},Ee})(),Pt=(function(){function Ee(ie){this.options=ie||n.defaults}var we=Ee.prototype;return we.preprocess=function(j){return j},we.postprocess=function(j){return j},Ee})();Pt.passThroughHooks=new Set(["preprocess","postprocess"]);function Ht(Ee,we,ie){return function(j){if(j.message+=`
Please report this to https://github.com/markedjs/marked.`,Ee){var G="<p>An error occurred:</p><pre>"+N(j.message+"",!0)+"</pre>";if(we)return Promise.resolve(G);if(ie){ie(null,G);return}return G}if(we)return Promise.reject(j);if(ie){ie(j);return}throw j}}function K(Ee,we){return function(ie,j,G){typeof j=="function"&&(G=j,j=null);var ve=r({},j);j=r({},ze.defaults,ve);var D=Ht(j.silent,j.async,G);if(typeof ie>"u"||ie===null)return D(new Error("marked(): input parameter is undefined or null"));if(typeof ie!="string")return D(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ie)+", string expected"));if(Pe(j),j.hooks&&(j.hooks.options=j),G){var Y=j.highlight,ce;try{j.hooks&&(ie=j.hooks.preprocess(ie)),ce=Ee(ie,j)}catch(Te){return D(Te)}var me=function(Oe){var De;if(!Oe)try{j.walkTokens&&ze.walkTokens(ce,j.walkTokens),De=we(ce,j),j.hooks&&(De=j.hooks.postprocess(De))}catch(ut){Oe=ut}return j.highlight=Y,Oe?D(Oe):G(null,De)};if(!Y||Y.length<3||(delete j.highlight,!ce.length))return me();var Se=0;ze.walkTokens(ce,function(Te){Te.type==="code"&&(Se++,setTimeout(function(){Y(Te.text,Te.lang,function(Oe,De){if(Oe)return me(Oe);De!=null&&De!==Te.text&&(Te.text=De,Te.escaped=!0),Se--,Se===0&&me()})},0))}),Se===0&&me();return}if(j.async)return Promise.resolve(j.hooks?j.hooks.preprocess(ie):ie).then(function(Te){return Ee(Te,j)}).then(function(Te){return j.walkTokens?Promise.all(ze.walkTokens(Te,j.walkTokens)).then(function(){return Te}):Te}).then(function(Te){return we(Te,j)}).then(function(Te){return j.hooks?j.hooks.postprocess(Te):Te}).catch(D);try{j.hooks&&(ie=j.hooks.preprocess(ie));var Ie=Ee(ie,j);j.walkTokens&&ze.walkTokens(Ie,j.walkTokens);var xe=we(Ie,j);return j.hooks&&(xe=j.hooks.postprocess(xe)),xe}catch(Te){return D(Te)}}}function ze(Ee,we,ie){return K(gt.lex,_t.parse)(Ee,we,ie)}ze.options=ze.setOptions=function(Ee){return ze.defaults=r({},ze.defaults,Ee),_(ze.defaults),ze},ze.getDefaults=v,ze.defaults=n.defaults,ze.use=function(){for(var Ee=ze.defaults.extensions||{renderers:{},childTokens:{}},we=arguments.length,ie=new Array(we),j=0;j<we;j++)ie[j]=arguments[j];ie.forEach(function(G){var ve=r({},G);if(ve.async=ze.defaults.async||ve.async||!1,G.extensions&&(G.extensions.forEach(function(Y){if(!Y.name)throw new Error("extension name required");if(Y.renderer){var ce=Ee.renderers[Y.name];ce?Ee.renderers[Y.name]=function(){for(var me=arguments.length,Se=new Array(me),Ie=0;Ie<me;Ie++)Se[Ie]=arguments[Ie];var xe=Y.renderer.apply(this,Se);return xe===!1&&(xe=ce.apply(this,Se)),xe}:Ee.renderers[Y.name]=Y.renderer}if(Y.tokenizer){if(!Y.level||Y.level!=="block"&&Y.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Ee[Y.level]?Ee[Y.level].unshift(Y.tokenizer):Ee[Y.level]=[Y.tokenizer],Y.start&&(Y.level==="block"?Ee.startBlock?Ee.startBlock.push(Y.start):Ee.startBlock=[Y.start]:Y.level==="inline"&&(Ee.startInline?Ee.startInline.push(Y.start):Ee.startInline=[Y.start]))}Y.childTokens&&(Ee.childTokens[Y.name]=Y.childTokens)}),ve.extensions=Ee),G.renderer&&(function(){var Y=ze.defaults.renderer||new ht,ce=function(Ie){var xe=Y[Ie];Y[Ie]=function(){for(var Te=arguments.length,Oe=new Array(Te),De=0;De<Te;De++)Oe[De]=arguments[De];var ut=G.renderer[Ie].apply(Y,Oe);return ut===!1&&(ut=xe.apply(Y,Oe)),ut}};for(var me in G.renderer)ce(me);ve.renderer=Y})(),G.tokenizer&&(function(){var Y=ze.defaults.tokenizer||new H,ce=function(Ie){var xe=Y[Ie];Y[Ie]=function(){for(var Te=arguments.length,Oe=new Array(Te),De=0;De<Te;De++)Oe[De]=arguments[De];var ut=G.tokenizer[Ie].apply(Y,Oe);return ut===!1&&(ut=xe.apply(Y,Oe)),ut}};for(var me in G.tokenizer)ce(me);ve.tokenizer=Y})(),G.hooks&&(function(){var Y=ze.defaults.hooks||new Pt,ce=function(Ie){var xe=Y[Ie];Pt.passThroughHooks.has(Ie)?Y[Ie]=function(Te){if(ze.defaults.async)return Promise.resolve(G.hooks[Ie].call(Y,Te)).then(function(De){return xe.call(Y,De)});var Oe=G.hooks[Ie].call(Y,Te);return xe.call(Y,Oe)}:Y[Ie]=function(){for(var Te=arguments.length,Oe=new Array(Te),De=0;De<Te;De++)Oe[De]=arguments[De];var ut=G.hooks[Ie].apply(Y,Oe);return ut===!1&&(ut=xe.apply(Y,Oe)),ut}};for(var me in G.hooks)ce(me);ve.hooks=Y})(),G.walkTokens){var D=ze.defaults.walkTokens;ve.walkTokens=function(Y){var ce=[];return ce.push(G.walkTokens.call(this,Y)),D&&(ce=ce.concat(D.call(this,Y))),ce}}ze.setOptions(ve)})},ze.walkTokens=function(Ee,we){for(var ie=[],j=function(){var Y=ve.value;switch(ie=ie.concat(we.call(ze,Y)),Y.type){case"table":{for(var ce=f(Y.header),me;!(me=ce()).done;){var Se=me.value;ie=ie.concat(ze.walkTokens(Se.tokens,we))}for(var Ie=f(Y.rows),xe;!(xe=Ie()).done;)for(var Te=xe.value,Oe=f(Te),De;!(De=Oe()).done;){var ut=De.value;ie=ie.concat(ze.walkTokens(ut.tokens,we))}break}case"list":{ie=ie.concat(ze.walkTokens(Y.items,we));break}default:ze.defaults.extensions&&ze.defaults.extensions.childTokens&&ze.defaults.extensions.childTokens[Y.type]?ze.defaults.extensions.childTokens[Y.type].forEach(function(vt){ie=ie.concat(ze.walkTokens(Y[vt],we))}):Y.tokens&&(ie=ie.concat(ze.walkTokens(Y.tokens,we)))}},G=f(Ee),ve;!(ve=G()).done;)j();return ie},ze.parseInline=K(gt.lexInline,_t.parseInline),ze.Parser=_t,ze.parser=_t.parse,ze.Renderer=ht,ze.TextRenderer=dt,ze.Lexer=gt,ze.lexer=gt.lex,ze.Tokenizer=H,ze.Slugger=At,ze.Hooks=Pt,ze.parse=ze;var He=ze.options,be=ze.setOptions,pe=ze.use,ke=ze.walkTokens,Me=ze.parseInline,Xe=ze,Ve=_t.parse,lt=gt.lex;n.Hooks=Pt,n.Lexer=gt,n.Parser=_t,n.Renderer=ht,n.Slugger=At,n.TextRenderer=dt,n.Tokenizer=H,n.getDefaults=v,n.lexer=lt,n.marked=ze,n.options=He,n.parse=Xe,n.parseInline=Me,n.parser=Ve,n.setOptions=be,n.use=pe,n.walkTokens=ke})(i0)),i0}var a0,JE;function m8(){if(JE)return a0;JE=1;var n=Ia();e8(),t8(),n8(),QA(),$A(),i8(),a8(),s8(),o8(),l8(),KA();var e=d8(),t=p8().marked,r=/Mac/.test(navigator.platform),o=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),u={toggleBold:W,toggleItalic:re,drawLink:Fe,toggleHeadingSmaller:Q,toggleHeadingBigger:q,drawImage:le,toggleBlockquote:B,toggleOrderedList:he,toggleUnorderedList:fe,toggleCodeBlock:ne,togglePreview:dt,toggleStrikethrough:te,toggleHeading1:ae,toggleHeading2:$,toggleHeading3:F,toggleHeading4:Z,toggleHeading5:U,toggleHeading6:ee,cleanBlock:Pe,drawTable:ge,drawHorizontalRule:Ue,undo:$e,redo:gt,toggleSideBySide:ht,toggleFullScreen:P},f={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},m=function(D){for(var Y in u)if(u[Y]===D)return Y;return null},g=function(){var D=!1;return(function(Y){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(Y)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(Y.substr(0,4)))&&(D=!0)})(navigator.userAgent||navigator.vendor||window.opera),D};function v(D){for(var Y;(Y=o.exec(D))!==null;){var ce=Y[0];if(ce.indexOf("target=")===-1){var me=ce.replace(/>$/,' target="_blank">');D=D.replace(ce,me)}}return D}function _(D){for(var Y=new DOMParser,ce=Y.parseFromString(D,"text/html"),me=ce.getElementsByTagName("li"),Se=0;Se<me.length;Se++)for(var Ie=me[Se],xe=0;xe<Ie.children.length;xe++){var Te=Ie.children[xe];Te instanceof HTMLInputElement&&Te.type==="checkbox"&&(Ie.style.marginLeft="-1.5em",Ie.style.listStyleType="none")}return ce.documentElement.innerHTML}function x(D){return r?D=D.replace("Ctrl","Cmd"):D=D.replace("Cmd","Ctrl"),D}function T(D,Y,ce,me){var Se=C(D,!1,Y,ce,"button",me);Se.classList.add("easymde-dropdown"),Se.onclick=function(){Se.focus()};var Ie=document.createElement("div");Ie.className="easymde-dropdown-content";for(var xe=0;xe<D.children.length;xe++){var Te=D.children[xe],Oe;typeof Te=="string"&&Te in Xe?Oe=C(Xe[Te],!0,Y,ce,"button",me):Oe=C(Te,!0,Y,ce,"button",me),Oe.addEventListener("click",function(De){De.stopPropagation()},!1),Ie.appendChild(Oe)}return Se.appendChild(Ie),Se}function C(D,Y,ce,me,Se,Ie){D=D||{};var xe=document.createElement(Se);if(D.attributes)for(var Te in D.attributes)Object.prototype.hasOwnProperty.call(D.attributes,Te)&&xe.setAttribute(Te,D.attributes[Te]);var Oe=Ie.options.toolbarButtonClassPrefix?Ie.options.toolbarButtonClassPrefix+"-":"";xe.className=Oe+D.name,xe.setAttribute("type",Se),ce=ce??!0,D.text&&(xe.innerText=D.text),D.name&&D.name in me&&(u[D.name]=D.action),D.title&&ce&&(xe.title=R(D.title,D.action,me),r&&(xe.title=xe.title.replace("Ctrl",""),xe.title=xe.title.replace("Alt",""))),D.title&&xe.setAttribute("aria-label",D.title),D.noDisable&&xe.classList.add("no-disable"),D.noMobile&&xe.classList.add("no-mobile");var De=[];typeof D.className<"u"&&(De=D.className.split(" "));for(var ut=[],vt=0;vt<De.length;vt++){var ft=De[vt];ft.match(/^fa([srlb]|(-[\w-]*)|$)/)?ut.push(ft):xe.classList.add(ft)}if(xe.tabIndex=-1,ut.length>0){for(var at=document.createElement("i"),kt=0;kt<ut.length;kt++){var Rt=ut[kt];at.classList.add(Rt)}xe.appendChild(at)}return typeof D.icon<"u"&&(xe.innerHTML=D.icon),D.action&&Y&&(typeof D.action=="function"?xe.onclick=function(zt){zt.preventDefault(),D.action(Ie)}:typeof D.action=="string"&&(xe.onclick=function(zt){zt.preventDefault(),window.open(D.action,"_blank")})),xe}function L(){var D=document.createElement("i");return D.className="separator",D.innerHTML="|",D}function R(D,Y,ce){var me,Se=D;return Y&&(me=m(Y),ce[me]&&(Se+=" ("+x(ce[me])+")")),Se}function I(D,Y){Y=Y||D.getCursor("start");var ce=D.getTokenAt(Y);if(!ce.type)return{};for(var me=ce.type.split(" "),Se={},Ie,xe,Te=0;Te<me.length;Te++)Ie=me[Te],Ie==="strong"?Se.bold=!0:Ie==="variable-2"?(xe=D.getLine(Y.line),/^\s*\d+\.\s/.test(xe)?Se["ordered-list"]=!0:Se["unordered-list"]=!0):Ie==="atom"?Se.quote=!0:Ie==="em"?Se.italic=!0:Ie==="quote"?Se.quote=!0:Ie==="strikethrough"?Se.strikethrough=!0:Ie==="comment"?Se.code=!0:Ie==="link"&&!Se.image?Se.link=!0:Ie==="image"?Se.image=!0:Ie.match(/^header(-[1-6])?$/)&&(Se[Ie.replace("header","heading")]=!0);return Se}var N="";function P(D){var Y=D.codemirror;Y.setOption("fullScreen",!Y.getOption("fullScreen")),Y.getOption("fullScreen")?(N=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=N;var ce=Y.getWrapperElement(),me=ce.nextSibling;if(me.classList.contains("editor-preview-active-side"))if(D.options.sideBySideFullscreen===!1){var Se=ce.parentNode;Y.getOption("fullScreen")?Se.classList.remove("sided--no-fullscreen"):Se.classList.add("sided--no-fullscreen")}else ht(D);if(D.options.onToggleFullScreen&&D.options.onToggleFullScreen(Y.getOption("fullScreen")||!1),typeof D.options.maxHeight<"u"&&(Y.getOption("fullScreen")?(Y.getScrollerElement().style.removeProperty("height"),me.style.removeProperty("height")):(Y.getScrollerElement().style.height=D.options.maxHeight,D.setPreviewMaxHeight())),D.toolbar_div.classList.toggle("fullscreen"),D.toolbarElements&&D.toolbarElements.fullscreen){var Ie=D.toolbarElements.fullscreen;Ie.classList.toggle("active")}}function W(D){K(D,"bold",D.options.blockStyles.bold)}function re(D){K(D,"italic",D.options.blockStyles.italic)}function te(D){K(D,"strikethrough","~~")}function ne(D){var Y=D.options.blockStyles.code;function ce(tn){if(typeof tn!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof tn+": "+tn;return tn.styles&&tn.styles[2]&&tn.styles[2].indexOf("formatting-code-block")!==-1}function me(tn){return tn.state.base.base||tn.state.base}function Se(tn,_r,Qr,ri,jr){Qr=Qr||tn.getLineHandle(_r),ri=ri||tn.getTokenAt({line:_r,ch:1}),jr=jr||!!Qr.text&&tn.getTokenAt({line:_r,ch:Qr.text.length-1});var Oa=ri.type?ri.type.split(" "):[];return jr&&me(jr).indentedCode?"indented":Oa.indexOf("comment")===-1?!1:me(ri).fencedChars||me(jr).fencedChars||ce(Qr)?"fenced":"single"}function Ie(tn,_r,Qr,ri){var jr=_r.line+1,Oa=Qr.line+1,Mi=_r.line!==Qr.line,fa=ri+`
`,ii=`
`+ri;Mi&&Oa++,Mi&&Qr.ch===0&&(ii=ri+`
`,Oa--),At(tn,!1,[fa,ii]),tn.setSelection({line:jr,ch:0},{line:Oa,ch:0})}var xe=D.codemirror,Te=xe.getCursor("start"),Oe=xe.getCursor("end"),De=xe.getTokenAt({line:Te.line,ch:Te.ch||1}),ut=xe.getLineHandle(Te.line),vt=Se(xe,Te.line,ut,De),ft,at,kt;if(vt==="single"){var Rt=ut.text.slice(0,Te.ch).replace("`",""),zt=ut.text.slice(Te.ch).replace("`","");xe.replaceRange(Rt+zt,{line:Te.line,ch:0},{line:Te.line,ch:99999999999999}),Te.ch--,Te!==Oe&&Oe.ch--,xe.setSelection(Te,Oe),xe.focus()}else if(vt==="fenced")if(Te.line!==Oe.line||Te.ch!==Oe.ch){for(ft=Te.line;ft>=0&&(ut=xe.getLineHandle(ft),!ce(ut));ft--);var Nt=xe.getTokenAt({line:ft,ch:1}),Xt=me(Nt).fencedChars,on,$n,Jn,or;ce(xe.getLineHandle(Te.line))?(on="",$n=Te.line):ce(xe.getLineHandle(Te.line-1))?(on="",$n=Te.line-1):(on=Xt+`
`,$n=Te.line),ce(xe.getLineHandle(Oe.line))?(Jn="",or=Oe.line,Oe.ch===0&&(or+=1)):Oe.ch!==0&&ce(xe.getLineHandle(Oe.line+1))?(Jn="",or=Oe.line+1):(Jn=Xt+`
`,or=Oe.line+1),Oe.ch===0&&(or-=1),xe.operation(function(){xe.replaceRange(Jn,{line:or,ch:0},{line:or+(Jn?0:1),ch:0}),xe.replaceRange(on,{line:$n,ch:0},{line:$n+(on?0:1),ch:0})}),xe.setSelection({line:$n+(on?1:0),ch:0},{line:or+(on?1:-1),ch:0}),xe.focus()}else{var Na=Te.line;if(ce(xe.getLineHandle(Te.line))&&(Se(xe,Te.line+1)==="fenced"?(ft=Te.line,Na=Te.line+1):(at=Te.line,Na=Te.line-1)),ft===void 0)for(ft=Na;ft>=0&&(ut=xe.getLineHandle(ft),!ce(ut));ft--);if(at===void 0)for(kt=xe.lineCount(),at=Na;at<kt&&(ut=xe.getLineHandle(at),!ce(ut));at++);xe.operation(function(){xe.replaceRange("",{line:ft,ch:0},{line:ft+1,ch:0}),xe.replaceRange("",{line:at-1,ch:0},{line:at,ch:0})}),xe.focus()}else if(vt==="indented"){if(Te.line!==Oe.line||Te.ch!==Oe.ch)ft=Te.line,at=Oe.line,Oe.ch===0&&at--;else{for(ft=Te.line;ft>=0;ft--)if(ut=xe.getLineHandle(ft),!ut.text.match(/^\s*$/)&&Se(xe,ft,ut)!=="indented"){ft+=1;break}for(kt=xe.lineCount(),at=Te.line;at<kt;at++)if(ut=xe.getLineHandle(at),!ut.text.match(/^\s*$/)&&Se(xe,at,ut)!=="indented"){at-=1;break}}var Gi=xe.getLineHandle(at+1),Yi=Gi&&xe.getTokenAt({line:at+1,ch:Gi.text.length-1}),js=Yi&&me(Yi).indentedCode;js&&xe.replaceRange(`
`,{line:at+1,ch:0});for(var ti=ft;ti<=at;ti++)xe.indentLine(ti,"subtract");xe.focus()}else{var ni=Te.line===Oe.line&&Te.ch===Oe.ch&&Te.ch===0,er=Te.line!==Oe.line;ni||er?Ie(xe,Te,Oe,Y):At(xe,!1,["`","`"])}}function B(D){Pt(D.codemirror,"quote")}function Q(D){_t(D.codemirror,"smaller")}function q(D){_t(D.codemirror,"bigger")}function ae(D){_t(D.codemirror,void 0,1)}function $(D){_t(D.codemirror,void 0,2)}function F(D){_t(D.codemirror,void 0,3)}function Z(D){_t(D.codemirror,void 0,4)}function U(D){_t(D.codemirror,void 0,5)}function ee(D){_t(D.codemirror,void 0,6)}function fe(D){var Y=D.codemirror,ce="*";["-","+","*"].includes(D.options.unorderedListStyle)&&(ce=D.options.unorderedListStyle),Pt(Y,"unordered-list",ce)}function he(D){Pt(D.codemirror,"ordered-list")}function Pe(D){ze(D.codemirror)}function Fe(D){var Y=D.options,ce="https://";if(Y.promptURLs){var me=prompt(Y.promptTexts.link,ce);if(!me)return!1;ce=se(me)}Ht(D,"link",Y.insertTexts.link,ce)}function le(D){var Y=D.options,ce="https://";if(Y.promptURLs){var me=prompt(Y.promptTexts.image,ce);if(!me)return!1;ce=se(me)}Ht(D,"image",Y.insertTexts.image,ce)}function se(D){return encodeURI(D).replace(/([\\()])/g,"\\$1")}function H(D){D.openBrowseFileWindow()}function A(D,Y){var ce=D.codemirror,me=I(ce),Se=D.options,Ie=Y.substr(Y.lastIndexOf("/")+1),xe=Ie.substring(Ie.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(xe))At(ce,me.image,Se.insertTexts.uploadedImage,Y);else{var Te=Se.insertTexts.link;Te[0]="["+Ie,At(ce,me.link,Te,Y)}D.updateStatusBar("upload-image",D.options.imageTexts.sbOnUploaded.replace("#image_name#",Ie)),setTimeout(function(){D.updateStatusBar("upload-image",D.options.imageTexts.sbInit)},1e3)}function ge(D){var Y=D.codemirror,ce=I(Y),me=D.options;At(Y,ce.table,me.insertTexts.table)}function Ue(D){var Y=D.codemirror,ce=I(Y),me=D.options;At(Y,ce.image,me.insertTexts.horizontalRule)}function $e(D){var Y=D.codemirror;Y.undo(),Y.focus()}function gt(D){var Y=D.codemirror;Y.redo(),Y.focus()}function ht(D){var Y=D.codemirror,ce=Y.getWrapperElement(),me=ce.nextSibling,Se=D.toolbarElements&&D.toolbarElements["side-by-side"],Ie=!1,xe=ce.parentNode;me.classList.contains("editor-preview-active-side")?(D.options.sideBySideFullscreen===!1&&xe.classList.remove("sided--no-fullscreen"),me.classList.remove("editor-preview-active-side"),Se&&Se.classList.remove("active"),ce.classList.remove("CodeMirror-sided")):(setTimeout(function(){Y.getOption("fullScreen")||(D.options.sideBySideFullscreen===!1?xe.classList.add("sided--no-fullscreen"):P(D)),me.classList.add("editor-preview-active-side")},1),Se&&Se.classList.add("active"),ce.classList.add("CodeMirror-sided"),Ie=!0);var Te=ce.lastChild;if(Te.classList.contains("editor-preview-active")){Te.classList.remove("editor-preview-active");var Oe=D.toolbarElements.preview,De=D.toolbar_div;Oe.classList.remove("active"),De.classList.remove("disabled-for-preview")}var ut=function(){var ft=D.options.previewRender(D.value(),me);ft!=null&&(me.innerHTML=ft)};if(Y.sideBySideRenderingFunction||(Y.sideBySideRenderingFunction=ut),Ie){var vt=D.options.previewRender(D.value(),me);vt!=null&&(me.innerHTML=vt),Y.on("update",Y.sideBySideRenderingFunction)}else Y.off("update",Y.sideBySideRenderingFunction);Y.refresh()}function dt(D){var Y=D.codemirror,ce=Y.getWrapperElement(),me=D.toolbar_div,Se=D.options.toolbar?D.toolbarElements.preview:!1,Ie=ce.lastChild,xe=Y.getWrapperElement().nextSibling;if(xe.classList.contains("editor-preview-active-side")&&ht(D),!Ie||!Ie.classList.contains("editor-preview-full")){if(Ie=document.createElement("div"),Ie.className="editor-preview-full",D.options.previewClass)if(Array.isArray(D.options.previewClass))for(var Te=0;Te<D.options.previewClass.length;Te++)Ie.classList.add(D.options.previewClass[Te]);else typeof D.options.previewClass=="string"&&Ie.classList.add(D.options.previewClass);ce.appendChild(Ie)}Ie.classList.contains("editor-preview-active")?(Ie.classList.remove("editor-preview-active"),Se&&(Se.classList.remove("active"),me.classList.remove("disabled-for-preview"))):(setTimeout(function(){Ie.classList.add("editor-preview-active")},1),Se&&(Se.classList.add("active"),me.classList.add("disabled-for-preview")));var Oe=D.options.previewRender(D.value(),Ie);Oe!==null&&(Ie.innerHTML=Oe)}function At(D,Y,ce,me){if(!D.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var Se,Ie=ce[0],xe=ce[1],Te={},Oe={};Object.assign(Te,D.getCursor("start")),Object.assign(Oe,D.getCursor("end")),me&&(Ie=Ie.replace("#url#",me),xe=xe.replace("#url#",me)),Y?(Se=D.getLine(Te.line),Ie=Se.slice(0,Te.ch),xe=Se.slice(Te.ch),D.replaceRange(Ie+xe,{line:Te.line,ch:0})):(Se=D.getSelection(),D.replaceSelection(Ie+Se+xe),Te.ch+=Ie.length,Te!==Oe&&(Oe.ch+=Ie.length)),D.setSelection(Te,Oe),D.focus()}}function _t(D,Y,ce){if(!D.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var me=D.getCursor("start"),Se=D.getCursor("end"),Ie=me.line;Ie<=Se.line;Ie++)(function(xe){var Te=D.getLine(xe),Oe=Te.search(/[^#]/);Y!==void 0?Oe<=0?Y=="bigger"?Te="###### "+Te:Te="# "+Te:Oe==6&&Y=="smaller"?Te=Te.substr(7):Oe==1&&Y=="bigger"?Te=Te.substr(2):Y=="bigger"?Te=Te.substr(1):Te="#"+Te:Oe<=0?Te="#".repeat(ce)+" "+Te:Oe==ce?Te=Te.substr(Oe+1):Te="#".repeat(ce)+" "+Te.substr(Oe+1),D.replaceRange(Te,{line:xe,ch:0},{line:xe,ch:99999999999999})})(Ie);D.focus()}}function Pt(D,Y,ce){if(!D.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var me=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,Se=/^\s*/,Ie=I(D),xe=D.getCursor("start"),Te=D.getCursor("end"),Oe={quote:/^(\s*)>\s+/,"unordered-list":me,"ordered-list":me},De=function(kt,Rt){var zt={quote:">","unordered-list":ce,"ordered-list":"%%i."};return zt[kt].replace("%%i",Rt)},ut=function(kt,Rt){var zt={quote:">","unordered-list":"\\"+ce,"ordered-list":"\\d+."},Nt=new RegExp(zt[kt]);return Rt&&Nt.test(Rt)},vt=function(kt,Rt,zt){var Nt=me.exec(Rt),Xt=De(kt,ft);return Nt!==null?(ut(kt,Nt[2])&&(Xt=""),Rt=Nt[1]+Xt+Nt[3]+Rt.replace(Se,"").replace(Oe[kt],"$1")):zt==!1&&(Rt=Xt+" "+Rt),Rt},ft=1,at=xe.line;at<=Te.line;at++)(function(kt){var Rt=D.getLine(kt);Ie[Y]?Rt=Rt.replace(Oe[Y],"$1"):(Y=="unordered-list"&&(Rt=vt("ordered-list",Rt,!0)),Rt=vt(Y,Rt,!1),ft+=1),D.replaceRange(Rt,{line:kt,ch:0},{line:kt,ch:99999999999999})})(at);D.focus()}}function Ht(D,Y,ce,me){if(!(!D.codemirror||D.isPreviewActive())){var Se=D.codemirror,Ie=I(Se),xe=Ie[Y];if(!xe){At(Se,xe,ce,me);return}var Te=Se.getCursor("start"),Oe=Se.getCursor("end"),De=Se.getLine(Te.line),ut=De.slice(0,Te.ch),vt=De.slice(Te.ch);Y=="link"?ut=ut.replace(/(.*)[^!]\[/,"$1"):Y=="image"&&(ut=ut.replace(/(.*)!\[$/,"$1")),vt=vt.replace(/]\(.*?\)/,""),Se.replaceRange(ut+vt,{line:Te.line,ch:0},{line:Te.line,ch:99999999999999}),Te.ch-=ce[0].length,Te!==Oe&&(Oe.ch-=ce[0].length),Se.setSelection(Te,Oe),Se.focus()}}function K(D,Y,ce,me){if(!(!D.codemirror||D.isPreviewActive())){me=typeof me>"u"?ce:me;var Se=D.codemirror,Ie=I(Se),xe,Te=ce,Oe=me,De=Se.getCursor("start"),ut=Se.getCursor("end");Ie[Y]?(xe=Se.getLine(De.line),Te=xe.slice(0,De.ch),Oe=xe.slice(De.ch),Y=="bold"?(Te=Te.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),Oe=Oe.replace(/(\*\*|__)/,"")):Y=="italic"?(Te=Te.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),Oe=Oe.replace(/(\*|_)/,"")):Y=="strikethrough"&&(Te=Te.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),Oe=Oe.replace(/(\*\*|~~)/,"")),Se.replaceRange(Te+Oe,{line:De.line,ch:0},{line:De.line,ch:99999999999999}),Y=="bold"||Y=="strikethrough"?(De.ch-=2,De!==ut&&(ut.ch-=2)):Y=="italic"&&(De.ch-=1,De!==ut&&(ut.ch-=1))):(xe=Se.getSelection(),Y=="bold"?(xe=xe.split("**").join(""),xe=xe.split("__").join("")):Y=="italic"?(xe=xe.split("*").join(""),xe=xe.split("_").join("")):Y=="strikethrough"&&(xe=xe.split("~~").join("")),Se.replaceSelection(Te+xe+Oe),De.ch+=ce.length,ut.ch=De.ch+xe.length),Se.setSelection(De,ut),Se.focus()}}function ze(D){if(!D.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var Y=D.getCursor("start"),ce=D.getCursor("end"),me,Se=Y.line;Se<=ce.line;Se++)me=D.getLine(Se),me=me.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),D.replaceRange(me,{line:Se,ch:0},{line:Se,ch:99999999999999})}function He(D,Y){if(Math.abs(D)<1024)return""+D+Y[0];var ce=0;do D/=1024,++ce;while(Math.abs(D)>=1024&&ce<Y.length);return""+D.toFixed(1)+Y[ce]}function be(D,Y){for(var ce in Y)Object.prototype.hasOwnProperty.call(Y,ce)&&(Y[ce]instanceof Array?D[ce]=Y[ce].concat(D[ce]instanceof Array?D[ce]:[]):Y[ce]!==null&&typeof Y[ce]=="object"&&Y[ce].constructor===Object?D[ce]=be(D[ce]||{},Y[ce]):D[ce]=Y[ce]);return D}function pe(D){for(var Y=1;Y<arguments.length;Y++)D=be(D,arguments[Y]);return D}function ke(D){var Y=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,ce=D.match(Y),me=0;if(ce===null)return me;for(var Se=0;Se<ce.length;Se++)ce[Se].charCodeAt(0)>=19968?me+=ce[Se].length:me+=1;return me}var Me={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},Xe={bold:{name:"bold",action:W,className:Me.bold,title:"Bold",default:!0},italic:{name:"italic",action:re,className:Me.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:te,className:Me.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:Q,className:Me.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:Q,className:Me["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:q,className:Me["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:ae,className:Me["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:$,className:Me["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:F,className:Me["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:ne,className:Me.code,title:"Code"},quote:{name:"quote",action:B,className:Me.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:fe,className:Me["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:he,className:Me["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:Pe,className:Me["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:Fe,className:Me.link,title:"Create Link",default:!0},image:{name:"image",action:le,className:Me.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:H,className:Me["upload-image"],title:"Import an image"},table:{name:"table",action:ge,className:Me.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:Ue,className:Me["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:dt,className:Me.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:ht,className:Me["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:P,className:Me.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:Me.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:$e,className:Me.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:gt,className:Me.redo,noDisable:!0,title:"Redo"}},Ve={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},lt={link:"URL for the link:",image:"URL of the image:"},Ee={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},we={bold:"**",code:"```",italic:"*"},ie={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},j={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function G(D){D=D||{},D.parent=this;var Y=!0;if(D.autoDownloadFontAwesome===!1&&(Y=!1),D.autoDownloadFontAwesome!==!0)for(var ce=document.styleSheets,me=0;me<ce.length;me++)ce[me].href&&ce[me].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(Y=!1);if(Y){var Se=document.createElement("link");Se.rel="stylesheet",Se.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(Se)}if(D.element)this.element=D.element;else if(D.element===null){console.log("EasyMDE: Error. No element was found.");return}if(D.toolbar===void 0){D.toolbar=[];for(var Ie in Xe)Object.prototype.hasOwnProperty.call(Xe,Ie)&&(Ie.indexOf("separator-")!=-1&&D.toolbar.push("|"),(Xe[Ie].default===!0||D.showIcons&&D.showIcons.constructor===Array&&D.showIcons.indexOf(Ie)!=-1)&&D.toolbar.push(Ie))}if(Object.prototype.hasOwnProperty.call(D,"previewClass")||(D.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(D,"status")||(D.status=["autosave","lines","words","cursor"],D.uploadImage&&D.status.unshift("upload-image")),D.previewRender||(D.previewRender=function(Te){return this.parent.markdown(Te)}),D.parsingConfig=pe({highlightFormatting:!0},D.parsingConfig||{}),D.insertTexts=pe({},Ve,D.insertTexts||{}),D.promptTexts=pe({},lt,D.promptTexts||{}),D.blockStyles=pe({},we,D.blockStyles||{}),D.autosave!=null&&(D.autosave.timeFormat=pe({},Ee,D.autosave.timeFormat||{})),D.iconClassMap=pe({},Me,D.iconClassMap||{}),D.shortcuts=pe({},f,D.shortcuts||{}),D.maxHeight=D.maxHeight||void 0,D.direction=D.direction||"ltr",typeof D.maxHeight<"u"?D.minHeight=D.maxHeight:D.minHeight=D.minHeight||"300px",D.errorCallback=D.errorCallback||function(Te){alert(Te)},D.uploadImage=D.uploadImage||!1,D.imageMaxSize=D.imageMaxSize||2097152,D.imageAccept=D.imageAccept||"image/png, image/jpeg, image/gif, image/avif",D.imageTexts=pe({},ie,D.imageTexts||{}),D.errorMessages=pe({},j,D.errorMessages||{}),D.imagePathAbsolute=D.imagePathAbsolute||!1,D.imageCSRFName=D.imageCSRFName||"csrfmiddlewaretoken",D.imageCSRFHeader=D.imageCSRFHeader||!1,D.imageInputName=D.imageInputName||"image",D.autosave!=null&&D.autosave.unique_id!=null&&D.autosave.unique_id!=""&&(D.autosave.uniqueId=D.autosave.unique_id),D.overlayMode&&D.overlayMode.combine===void 0&&(D.overlayMode.combine=!0),this.options=D,this.render(),D.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(D.initialValue),D.uploadImage){var xe=this;this.codemirror.on("dragenter",function(Te,Oe){xe.updateStatusBar("upload-image",xe.options.imageTexts.sbOnDragEnter),Oe.stopPropagation(),Oe.preventDefault()}),this.codemirror.on("dragend",function(Te,Oe){xe.updateStatusBar("upload-image",xe.options.imageTexts.sbInit),Oe.stopPropagation(),Oe.preventDefault()}),this.codemirror.on("dragleave",function(Te,Oe){xe.updateStatusBar("upload-image",xe.options.imageTexts.sbInit),Oe.stopPropagation(),Oe.preventDefault()}),this.codemirror.on("dragover",function(Te,Oe){xe.updateStatusBar("upload-image",xe.options.imageTexts.sbOnDragEnter),Oe.stopPropagation(),Oe.preventDefault()}),this.codemirror.on("drop",function(Te,Oe){Oe.stopPropagation(),Oe.preventDefault(),D.imageUploadFunction?xe.uploadImagesUsingCustomFunction(D.imageUploadFunction,Oe.dataTransfer.files):xe.uploadImages(Oe.dataTransfer.files)}),this.codemirror.on("paste",function(Te,Oe){D.imageUploadFunction?xe.uploadImagesUsingCustomFunction(D.imageUploadFunction,Oe.clipboardData.files):xe.uploadImages(Oe.clipboardData.files)})}}G.prototype.uploadImages=function(D,Y,ce){if(D.length!==0){for(var me=[],Se=0;Se<D.length;Se++)me.push(D[Se].name),this.uploadImage(D[Se],Y,ce);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",me.join(", ")))}},G.prototype.uploadImagesUsingCustomFunction=function(D,Y){if(Y.length!==0){for(var ce=[],me=0;me<Y.length;me++)ce.push(Y[me].name),this.uploadImageUsingCustomFunction(D,Y[me]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",ce.join(", ")))}},G.prototype.updateStatusBar=function(D,Y){if(this.gui.statusbar){var ce=this.gui.statusbar.getElementsByClassName(D);ce.length===1?this.gui.statusbar.getElementsByClassName(D)[0].textContent=Y:ce.length===0?console.log("EasyMDE: status bar item "+D+" was not found."):console.log("EasyMDE: Several status bar items named "+D+" was found.")}},G.prototype.markdown=function(D){if(t){var Y;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?Y=this.options.renderingConfig.markedOptions:Y={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?Y.breaks=!1:Y.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var ce=this.options.renderingConfig.hljs||window.hljs;ce&&(Y.highlight=function(Se,Ie){return Ie&&ce.getLanguage(Ie)?ce.highlight(Ie,Se).value:ce.highlightAuto(Se).value})}t.use(Y);var me=t.parse(D);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(me=this.options.renderingConfig.sanitizerFunction.call(this,me)),me=v(me),me=_(me),me}},G.prototype.render=function(D){if(D||(D=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===D)return;this.element=D;var Y=this.options,ce=this,me={};for(var Se in Y.shortcuts)Y.shortcuts[Se]!==null&&u[Se]!==null&&(function(zt){me[x(Y.shortcuts[zt])]=function(){var Nt=u[zt];typeof Nt=="function"?Nt(ce):typeof Nt=="string"&&window.open(Nt,"_blank")}})(Se);me.Enter="newlineAndIndentContinueMarkdownList",me.Tab="tabAndIndentMarkdownList",me["Shift-Tab"]="shiftTabAndUnindentMarkdownList",me.Esc=function(zt){zt.getOption("fullScreen")&&P(ce)},this.documentOnKeyDown=function(zt){zt=zt||window.event,zt.keyCode==27&&ce.codemirror.getOption("fullScreen")&&P(ce)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var Ie,xe;Y.overlayMode?(n.defineMode("overlay-mode",function(zt){return n.overlayMode(n.getMode(zt,Y.spellChecker!==!1?"spell-checker":"gfm"),Y.overlayMode.mode,Y.overlayMode.combine)}),Ie="overlay-mode",xe=Y.parsingConfig,xe.gitHubSpice=!1):(Ie=Y.parsingConfig,Ie.name="gfm",Ie.gitHubSpice=!1),Y.spellChecker!==!1&&(Ie="spell-checker",xe=Y.parsingConfig,xe.name="gfm",xe.gitHubSpice=!1,typeof Y.spellChecker=="function"?Y.spellChecker({codeMirrorInstance:n}):e({codeMirrorInstance:n}));function Te(zt,Nt,Xt){return{addNew:!1}}if(this.codemirror=n.fromTextArea(D,{mode:Ie,backdrop:xe,theme:Y.theme!=null?Y.theme:"easymde",tabSize:Y.tabSize!=null?Y.tabSize:2,indentUnit:Y.tabSize!=null?Y.tabSize:2,indentWithTabs:Y.indentWithTabs!==!1,lineNumbers:Y.lineNumbers===!0,autofocus:Y.autofocus===!0,extraKeys:me,direction:Y.direction,lineWrapping:Y.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:Y.placeholder||D.getAttribute("placeholder")||"",styleSelectedText:Y.styleSelectedText!=null?Y.styleSelectedText:!g(),scrollbarStyle:Y.scrollbarStyle!=null?Y.scrollbarStyle:"native",configureMouse:Te,inputStyle:Y.inputStyle!=null?Y.inputStyle:g()?"contenteditable":"textarea",spellcheck:Y.nativeSpellcheck!=null?Y.nativeSpellcheck:!0,autoRefresh:Y.autoRefresh!=null?Y.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=Y.minHeight,typeof Y.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=Y.maxHeight),Y.forceSync===!0){var Oe=this.codemirror;Oe.on("change",function(){Oe.save()})}this.gui={};var De=document.createElement("div");De.classList.add("EasyMDEContainer"),De.setAttribute("role","application");var ut=this.codemirror.getWrapperElement();ut.parentNode.insertBefore(De,ut),De.appendChild(ut),Y.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),Y.status!==!1&&(this.gui.statusbar=this.createStatusbar()),Y.autosave!=null&&Y.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(ce._autosave_timeout),ce._autosave_timeout=setTimeout(function(){ce.autosave()},ce.options.autosave.submit_delay||ce.options.autosave.delay||1e3)}));function vt(zt,Nt){var Xt,on=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return zt<on?Xt=Nt+"px":Xt=Nt/zt*100+"%",Xt}var ft=this;function at(zt,Nt){var Xt=new URL(Nt.url,document.baseURI).href;zt.setAttribute("data-img-src",Xt),zt.setAttribute("style","--bg-image:url("+Xt+");--width:"+Nt.naturalWidth+"px;--height:"+vt(Nt.naturalWidth,Nt.naturalHeight)),ft.codemirror.setSize()}function kt(){Y.previewImagesInEditor&&De.querySelectorAll(".cm-image-marker").forEach(function(zt){var Nt=zt.parentElement;if(Nt.innerText.match(/^!\[.*?\]\(.*\)/g)&&!Nt.hasAttribute("data-img-src")){var Xt=Nt.innerText.match(/!\[.*?\]\((.*?)\)/);if(window.EMDEimagesCache||(window.EMDEimagesCache={}),Xt&&Xt.length>=2){var on=Xt[1];if(Y.imagesPreviewHandler){var $n=Y.imagesPreviewHandler(Xt[1]);typeof $n=="string"&&(on=$n)}if(window.EMDEimagesCache[on])at(Nt,window.EMDEimagesCache[on]);else{window.EMDEimagesCache[on]={};var Jn=document.createElement("img");Jn.onload=function(){window.EMDEimagesCache[on]={naturalWidth:Jn.naturalWidth,naturalHeight:Jn.naturalHeight,url:on},at(Nt,window.EMDEimagesCache[on])},Jn.src=on}}}})}this.codemirror.on("update",function(){kt()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(Y.autofocus===!0||D.autofocus)&&this.codemirror.focus();var Rt=this.codemirror;setTimeout((function(){Rt.refresh()}).bind(Rt),0)},G.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function ve(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}return G.prototype.autosave=function(){if(ve()){var D=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(D.element.form!=null&&D.element.form!=null&&D.element.form.addEventListener("submit",function(){clearTimeout(D.autosaveTimeoutId),D.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+D.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var Y=D.value();Y!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,Y):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var ce=document.getElementById("autosaved");if(ce!=null&&ce!=null&&ce!=""){var me=new Date,Se=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(me),Ie=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;ce.innerHTML=Ie+Se}}else console.log("EasyMDE: localStorage not available, cannot autosave")},G.prototype.clearAutosavedValue=function(){if(ve()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},G.prototype.openBrowseFileWindow=function(D,Y){var ce=this,me=this.gui.toolbar.getElementsByClassName("imageInput")[0];me.click();function Se(Ie){ce.options.imageUploadFunction?ce.uploadImagesUsingCustomFunction(ce.options.imageUploadFunction,Ie.target.files):ce.uploadImages(Ie.target.files,D,Y),me.removeEventListener("change",Se)}me.addEventListener("change",Se)},G.prototype.uploadImage=function(D,Y,ce){var me=this;Y=Y||function(De){A(me,De)};function Se(Oe){me.updateStatusBar("upload-image",Oe),setTimeout(function(){me.updateStatusBar("upload-image",me.options.imageTexts.sbInit)},1e4),ce&&typeof ce=="function"&&ce(Oe),me.options.errorCallback(Oe)}function Ie(Oe){var De=me.options.imageTexts.sizeUnits.split(",");return Oe.replace("#image_name#",D.name).replace("#image_size#",He(D.size,De)).replace("#image_max_size#",He(me.options.imageMaxSize,De))}if(D.size>this.options.imageMaxSize){Se(Ie(this.options.errorMessages.fileTooLarge));return}var xe=new FormData;xe.append("image",D),me.options.imageCSRFToken&&!me.options.imageCSRFHeader&&xe.append(me.options.imageCSRFName,me.options.imageCSRFToken);var Te=new XMLHttpRequest;Te.upload.onprogress=function(Oe){if(Oe.lengthComputable){var De=""+Math.round(Oe.loaded*100/Oe.total);me.updateStatusBar("upload-image",me.options.imageTexts.sbProgress.replace("#file_name#",D.name).replace("#progress#",De))}},Te.open("POST",this.options.imageUploadEndpoint),me.options.imageCSRFToken&&me.options.imageCSRFHeader&&Te.setRequestHeader(me.options.imageCSRFName,me.options.imageCSRFToken),Te.onload=function(){try{var Oe=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),Se(Ie(me.options.errorMessages.importError));return}this.status===200&&Oe&&!Oe.error&&Oe.data&&Oe.data.filePath?Y((me.options.imagePathAbsolute?"":window.location.origin+"/")+Oe.data.filePath):Oe.error&&Oe.error in me.options.errorMessages?Se(Ie(me.options.errorMessages[Oe.error])):Oe.error?Se(Ie(Oe.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),Se(Ie(me.options.errorMessages.importError)))},Te.onerror=function(Oe){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+Oe.target.status+" ("+Oe.target.statusText+")"),Se(me.options.errorMessages.importError)},Te.send(xe)},G.prototype.uploadImageUsingCustomFunction=function(D,Y){var ce=this;function me(xe){A(ce,xe)}function Se(xe){var Te=Ie(xe);ce.updateStatusBar("upload-image",Te),setTimeout(function(){ce.updateStatusBar("upload-image",ce.options.imageTexts.sbInit)},1e4),ce.options.errorCallback(Te)}function Ie(xe){var Te=ce.options.imageTexts.sizeUnits.split(",");return xe.replace("#image_name#",Y.name).replace("#image_size#",He(Y.size,Te)).replace("#image_max_size#",He(ce.options.imageMaxSize,Te))}D.apply(this,[Y,me,Se])},G.prototype.setPreviewMaxHeight=function(){var D=this.codemirror,Y=D.getWrapperElement(),ce=Y.nextSibling,me=parseInt(window.getComputedStyle(Y).paddingTop),Se=parseInt(window.getComputedStyle(Y).borderTopWidth),Ie=parseInt(this.options.maxHeight),xe=Ie+me*2+Se*2,Te=xe.toString()+"px";ce.style.height=Te},G.prototype.createSideBySide=function(){var D=this.codemirror,Y=D.getWrapperElement(),ce=Y.nextSibling;if(!ce||!ce.classList.contains("editor-preview-side")){if(ce=document.createElement("div"),ce.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var me=0;me<this.options.previewClass.length;me++)ce.classList.add(this.options.previewClass[me]);else typeof this.options.previewClass=="string"&&ce.classList.add(this.options.previewClass);Y.parentNode.insertBefore(ce,Y.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return ce;var Se=!1,Ie=!1;return D.on("scroll",function(xe){if(Se){Se=!1;return}Ie=!0;var Te=xe.getScrollInfo().height-xe.getScrollInfo().clientHeight,Oe=parseFloat(xe.getScrollInfo().top)/Te,De=(ce.scrollHeight-ce.clientHeight)*Oe;ce.scrollTop=De}),ce.onscroll=function(){if(Ie){Ie=!1;return}Se=!0;var xe=ce.scrollHeight-ce.clientHeight,Te=parseFloat(ce.scrollTop)/xe,Oe=(D.getScrollInfo().height-D.getScrollInfo().clientHeight)*Te;D.scrollTo(0,Oe)},ce},G.prototype.createToolbar=function(D){if(D=D||this.options.toolbar,!(!D||D.length===0)){var Y;for(Y=0;Y<D.length;Y++)Xe[D[Y]]!=null&&(D[Y]=Xe[D[Y]]);var ce=document.createElement("div");ce.className="editor-toolbar",ce.setAttribute("role","toolbar");var me=this,Se={};for(me.toolbar=D,Y=0;Y<D.length;Y++)if(!(D[Y].name=="guide"&&me.options.toolbarGuideIcon===!1)&&!(me.options.hideIcons&&me.options.hideIcons.indexOf(D[Y].name)!=-1)&&!((D[Y].name=="fullscreen"||D[Y].name=="side-by-side")&&g())){if(D[Y]==="|"){for(var Ie=!1,xe=Y+1;xe<D.length;xe++)D[xe]!=="|"&&(!me.options.hideIcons||me.options.hideIcons.indexOf(D[xe].name)==-1)&&(Ie=!0);if(!Ie)continue}(function(De){var ut;if(De==="|"?ut=L():De.children?ut=T(De,me.options.toolbarTips,me.options.shortcuts,me):ut=C(De,!0,me.options.toolbarTips,me.options.shortcuts,"button",me),Se[De.name||De]=ut,ce.appendChild(ut),De.name==="upload-image"){var vt=document.createElement("input");vt.className="imageInput",vt.type="file",vt.multiple=!0,vt.name=me.options.imageInputName,vt.accept=me.options.imageAccept,vt.style.display="none",vt.style.opacity=0,ce.appendChild(vt)}})(D[Y])}me.toolbar_div=ce,me.toolbarElements=Se;var Te=this.codemirror;Te.on("cursorActivity",function(){var De=I(Te);for(var ut in Se)(function(vt){var ft=Se[vt];De[vt]?ft.classList.add("active"):vt!="fullscreen"&&vt!="side-by-side"&&ft.classList.remove("active")})(ut)});var Oe=Te.getWrapperElement();return Oe.parentNode.insertBefore(ce,Oe),ce}},G.prototype.createStatusbar=function(D){D=D||this.options.status;var Y=this.options,ce=this.codemirror;if(!(!D||D.length===0)){var me=[],Se,Ie,xe,Te;for(Se=0;Se<D.length;Se++)if(Ie=void 0,xe=void 0,Te=void 0,typeof D[Se]=="object")me.push({className:D[Se].className,defaultValue:D[Se].defaultValue,onUpdate:D[Se].onUpdate,onActivity:D[Se].onActivity});else{var Oe=D[Se];Oe==="words"?(Te=function(at){at.innerHTML=ke(ce.getValue())},Ie=function(at){at.innerHTML=ke(ce.getValue())}):Oe==="lines"?(Te=function(at){at.innerHTML=ce.lineCount()},Ie=function(at){at.innerHTML=ce.lineCount()}):Oe==="cursor"?(Te=function(at){at.innerHTML="1:1"},xe=function(at){var kt=ce.getCursor(),Rt=kt.line+1,zt=kt.ch+1;at.innerHTML=Rt+":"+zt}):Oe==="autosave"?Te=function(at){Y.autosave!=null&&Y.autosave.enabled===!0&&at.setAttribute("id","autosaved")}:Oe==="upload-image"&&(Te=function(at){at.innerHTML=Y.imageTexts.sbInit}),me.push({className:Oe,defaultValue:Te,onUpdate:Ie,onActivity:xe})}var De=document.createElement("div");for(De.className="editor-statusbar",Se=0;Se<me.length;Se++){var ut=me[Se],vt=document.createElement("span");vt.className=ut.className,typeof ut.defaultValue=="function"&&ut.defaultValue(vt),typeof ut.onUpdate=="function"&&this.codemirror.on("update",(function(at,kt){return function(){kt.onUpdate(at)}})(vt,ut)),typeof ut.onActivity=="function"&&this.codemirror.on("cursorActivity",(function(at,kt){return function(){kt.onActivity(at)}})(vt,ut)),De.appendChild(vt)}var ft=this.codemirror.getWrapperElement();return ft.parentNode.insertBefore(De,ft.nextSibling),De}},G.prototype.value=function(D){var Y=this.codemirror;if(D===void 0)return Y.getValue();if(Y.getDoc().setValue(D),this.isPreviewActive()){var ce=Y.getWrapperElement(),me=ce.lastChild,Se=this.options.previewRender(D,me);Se!==null&&(me.innerHTML=Se)}return this},G.toggleBold=W,G.toggleItalic=re,G.toggleStrikethrough=te,G.toggleBlockquote=B,G.toggleHeadingSmaller=Q,G.toggleHeadingBigger=q,G.toggleHeading1=ae,G.toggleHeading2=$,G.toggleHeading3=F,G.toggleHeading4=Z,G.toggleHeading5=U,G.toggleHeading6=ee,G.toggleCodeBlock=ne,G.toggleUnorderedList=fe,G.toggleOrderedList=he,G.cleanBlock=Pe,G.drawLink=Fe,G.drawImage=le,G.drawUploadedImage=H,G.drawTable=ge,G.drawHorizontalRule=Ue,G.undo=$e,G.redo=gt,G.togglePreview=dt,G.toggleSideBySide=ht,G.toggleFullScreen=P,G.prototype.toggleBold=function(){W(this)},G.prototype.toggleItalic=function(){re(this)},G.prototype.toggleStrikethrough=function(){te(this)},G.prototype.toggleBlockquote=function(){B(this)},G.prototype.toggleHeadingSmaller=function(){Q(this)},G.prototype.toggleHeadingBigger=function(){q(this)},G.prototype.toggleHeading1=function(){ae(this)},G.prototype.toggleHeading2=function(){$(this)},G.prototype.toggleHeading3=function(){F(this)},G.prototype.toggleHeading4=function(){Z(this)},G.prototype.toggleHeading5=function(){U(this)},G.prototype.toggleHeading6=function(){ee(this)},G.prototype.toggleCodeBlock=function(){ne(this)},G.prototype.toggleUnorderedList=function(){fe(this)},G.prototype.toggleOrderedList=function(){he(this)},G.prototype.cleanBlock=function(){Pe(this)},G.prototype.drawLink=function(){Fe(this)},G.prototype.drawImage=function(){le(this)},G.prototype.drawUploadedImage=function(){H(this)},G.prototype.drawTable=function(){ge(this)},G.prototype.drawHorizontalRule=function(){Ue(this)},G.prototype.undo=function(){$e(this)},G.prototype.redo=function(){gt(this)},G.prototype.togglePreview=function(){dt(this)},G.prototype.toggleSideBySide=function(){ht(this)},G.prototype.toggleFullScreen=function(){P(this)},G.prototype.isPreviewActive=function(){var D=this.codemirror,Y=D.getWrapperElement(),ce=Y.lastChild;return ce.classList.contains("editor-preview-active")},G.prototype.isSideBySideActive=function(){var D=this.codemirror,Y=D.getWrapperElement(),ce=Y.nextSibling;return ce.classList.contains("editor-preview-active-side")},G.prototype.isFullscreenActive=function(){var D=this.codemirror;return D.getOption("fullScreen")},G.prototype.getState=function(){var D=this.codemirror;return I(D)},G.prototype.toTextArea=function(){var D=this.codemirror,Y=D.getWrapperElement(),ce=Y.parentNode;ce&&(this.gui.toolbar&&ce.removeChild(this.gui.toolbar),this.gui.statusbar&&ce.removeChild(this.gui.statusbar),this.gui.sideBySide&&ce.removeChild(this.gui.sideBySide)),ce.parentNode.insertBefore(Y,ce),ce.remove(),D.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},a0=G,a0}var g8=m8();const y8=Bc(g8);var v8=0,b8=()=>`simplemde-editor-${++v8}`,_8=({options:n,id:e,currentValueRef:t,textRef:r})=>{const[o,u]=Ae.useState(null),f=Ae.useCallback((v,_,x)=>{const T=n?.imageUploadFunction;T&&T(v,L=>{_(L)},x)},[n?.imageUploadFunction]),m=Ae.useRef(o);m.current=o,Ae.useEffect(()=>{let v;if(r){const _={element:r,initialValue:t.current},x=n?.imageUploadFunction?f:void 0;v=new y8(Object.assign({},_,n,{imageUploadFunction:x})),u(v)}return()=>{v?.toTextArea(),v?.cleanup()}},[r,t,e,f,n]);const g=Ae.useMemo(()=>o?.codemirror,[o?.codemirror]);return{editor:o,codemirror:g}},XA=rg.forwardRef((n,e)=>{const{events:t,value:r,options:o,children:u,extraKeys:f,getLineAndCursor:m,getMdeInstance:g,getCodemirrorInstance:v,onChange:_,id:x,placeholder:T,textareaProps:C,...L}=n,R=Ae.useMemo(()=>x??b8(),[x]),I=Ae.useRef(null),N=Ae.useRef(!0),P=Ae.useRef(r);P.current=r;const[W,re]=Ae.useState(null),{editor:te,codemirror:ne}=_8({options:o,id:R,currentValueRef:P,textRef:W});Ae.useEffect(()=>{N.current&&te?.value(r??""),N.current=!0},[te,r]);const B=Ae.useCallback((ae,$)=>{te?.value()!==P.current&&(N.current=!1,_?.(te?.value()??"",$))},[te,_]);Ae.useEffect(()=>{o?.autofocus&&(ne?.focus(),ne?.setCursor(ne?.lineCount(),0))},[ne,o?.autofocus]);const Q=Ae.useCallback(()=>{ne&&m?.(ne.getDoc().getCursor())},[ne,m]);Ae.useEffect(()=>{Q()},[Q]),Ae.useEffect(()=>{te&&g?.(te)},[te,g]),Ae.useEffect(()=>{ne&&v?.(ne)},[ne,v,g]),Ae.useEffect(()=>{f&&ne&&ne.setOption("extraKeys",Object.assign({},ne.getOption("extraKeys"),f))},[ne,f]),Ae.useEffect(()=>{var ae;const $=(ae=I.current)==null?void 0:ae.getElementsByClassName("editor-toolbarNode")[0],F=ne&&B;return F?($?.addEventListener("click",F),()=>{$?.removeEventListener("click",F)}):()=>{}},[ne,B]),Ae.useEffect(()=>(ne?.on("change",B),ne?.on("cursorActivity",Q),()=>{ne?.off("change",B),ne?.off("cursorActivity",Q)}),[ne,Q,B]);const q=Ae.useRef(t);return Ae.useEffect(()=>(t!==q.current&&q.current&&Object.entries(q.current).forEach(([$,F])=>{F&&ne?.off($,F)}),t&&Object.entries(t).forEach(([$,F])=>{F&&ne?.on($,F)}),q.current=t,()=>{t&&Object.entries(t).forEach(([$,F])=>{F&&ne?.off($,F)})}),[ne,t]),rg.createElement("div",{id:`${R}-wrapper`,...L,ref:ae=>{typeof e=="function"?e(ae):e&&(e.current=ae),I.current=ae}},rg.createElement("textarea",{...C,id:R,placeholder:T,ref:re,style:{display:"none"}}))});XA.displayName="SimpleMdeReact";var w8=XA;function x8(){const{currentUser:n}=vl(),{success:e,error:t}=Z4(),{openBackup:r}=$C(),{date:o}=q2(),u=Uc(),[f,m]=Ae.useState(""),[g,v]=Ae.useState(""),[_,x]=Ae.useState(!0),[T,C]=Ae.useState(!1),[L,R]=Ae.useState(!1),[I,N]=Ae.useState(!1),P=Ae.useMemo(()=>{try{return Ta(Zf(o),"EEEE, d MMMM yyyy")}catch{return o}},[o]),W=Ae.useMemo(()=>f?I?f:f.replace(/(?:\*\*)?\+\+.*?\+\+(?:\*\*)?/g,"").trim():"",[f,I]);Ae.useEffect(()=>{async function q(){if(x(!0),!!n)try{const ae=_p(os,"users",n.uid,"entries",o),$=await iM(ae);if($.exists()){const F=$.data();m(F.content||""),v(F.title||""),C(!1)}else C(!0),m(""),v("")}catch(ae){console.error("Error fetching entry:",ae)}finally{x(!1)}}q()},[o,n]),Ae.useEffect(()=>{if(!f)return;const q=f.match(/(?:\*\*)?\+\+(.*?)\+\+(?:\*\*)?/);if(q&&q[1]){const ae=q[1].split(" - ");if(ae.length>=2){const $=ae.slice(1).join(" - ").trim();$!==g&&v($)}else ae.length===1&&ae[0].trim()!==g&&v(ae[0].trim())}},[f]);async function re(){if(n){R(!0);try{const q=_p(os,"users",n.uid,"entries",o),ae=f.trim(),$=g.trim(),F=f.split(`
`)[0].replace("#","").trim();!ae&&!$?await sM(q):await aM(q,{date:Zf(o),title:$||F,content:f,updatedAt:oC()},{merge:!0}),C(!1),e("Entry saved successfully");const Z=Zf(o);oA(Z)===0&&setTimeout(()=>{r("It's Sunday! Great time to reflect and download a backup of your entries.")},1500)}catch(q){console.error("Error saving entry:",q),q.code==="resource-exhausted"?t("Storage quota exceeded. Please check your plan."):q.code==="permission-denied"?t("You do not have permission to save this entry."):q.code==="unavailable"?t("Network unavailable. Please check your connection."):t("Failed to save entry. Please try again.")}finally{R(!1)}}}const te=async()=>{try{const q=`${P} - ${g} - ${W}`;await navigator.clipboard.writeText(q),e("Entry copied to clipboard")}catch(q){console.error("Failed to copy:",q),t("Failed to copy to clipboard")}},ne=Ae.useMemo(()=>({autofocus:!0,spellChecker:!1,status:!1,placeholder:"Capture the moment...",toolbar:["bold","italic","heading","|","quote","unordered-list","ordered-list","|","link","image","|","fullscreen","side-by-side"]}),[]),B=()=>{const q=Zf(o),ae=jg(q,-1),$=Ta(ae,"yyyy-MM-dd");u(`/entry/${$}`)},Q=()=>{const q=Zf(o),ae=jg(q,1),$=Ta(ae,"yyyy-MM-dd");u(`/entry/${$}`)};return _?ye.jsxs("div",{className:"glass-card p-8 flex flex-col items-center justify-center min-h-[400px] text-text-muted animate-pulse",children:[ye.jsx(V4,{className:"w-12 h-12 mb-4 opacity-50"}),ye.jsx("p",{children:"Summoning your memories..."})]}):ye.jsxs("div",{className:"h-full flex flex-col animation-fade-in",children:[ye.jsxs("div",{className:"glass-card p-4 mb-6 sticky top-0 z-20 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[ye.jsxs("div",{className:"flex items-center w-full sm:w-auto overflow-hidden",children:[ye.jsx("button",{onClick:()=>u("/"),className:"glass-button p-2 text-text-muted hover:text-white md:hidden mr-2 shrink-0",title:"Back to Calendar",children:ye.jsx(b4,{className:"w-5 h-5"})}),!T&&ye.jsx("button",{onClick:B,className:"glass-button p-2 text-text-muted hover:text-white mr-2 shrink-0 hidden sm:flex",title:"Previous Day",children:ye.jsx(O0,{className:"w-5 h-5"})}),ye.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[ye.jsxs("div",{className:"flex items-center text-primary text-sm font-bold mb-1 uppercase tracking-wider",children:[ye.jsx(xy,{className:"w-3 h-3 mr-1 shrink-0"}),o]}),ye.jsx("h2",{className:"text-xl sm:text-2xl font-serif font-bold text-white truncate max-w-[200px] sm:max-w-md",children:P}),g&&!T&&ye.jsx("p",{className:"text-secondary font-medium opacity-90 break-words",children:g})]}),!T&&ye.jsx("button",{onClick:Q,className:"glass-button p-2 text-text-muted hover:text-white ml-2 shrink-0 hidden sm:flex",title:"Next Day",children:ye.jsx(M0,{className:"w-5 h-5"})})]}),ye.jsxs("div",{className:"flex space-x-2 w-full sm:w-auto justify-end shrink-0",children:[!T&&ye.jsxs("div",{className:"flex sm:hidden mr-auto",children:[ye.jsx("button",{onClick:B,className:"glass-button p-2 text-text-muted hover:text-white mr-2",title:"Previous Day",children:ye.jsx(O0,{className:"w-5 h-5"})}),ye.jsx("button",{onClick:Q,className:"glass-button p-2 text-text-muted hover:text-white",title:"Next Day",children:ye.jsx(M0,{className:"w-5 h-5"})})]}),T?ye.jsxs(ye.Fragment,{children:[ye.jsxs("button",{onClick:()=>C(!1),className:"glass-button px-4 py-2 text-text hover:bg-white/10 flex items-center justify-center",disabled:L,children:[ye.jsx(Ey,{className:"w-4 h-4 mr-2"}),"Cancel"]}),ye.jsxs("button",{onClick:re,className:"px-6 py-2 rounded-lg bg-gradient-to-r from-primary to-secondary text-white font-bold shadow-lg shadow-primary/30 hover:shadow-primary/50 hover:scale-105 transition-all duration-200 flex items-center justify-center",disabled:L,children:[ye.jsx(q4,{className:"w-4 h-4 mr-2"}),L?"Saving...":"Save"]})]}):ye.jsxs(ye.Fragment,{children:[ye.jsx("div",{className:"flex items-center mr-2",children:ye.jsxs("label",{className:"flex items-center space-x-2 text-xs text-text-muted cursor-pointer hover:text-white transition-colors group",children:[ye.jsxs("div",{className:"relative",children:[ye.jsx("input",{type:"checkbox",checked:I,onChange:q=>N(q.target.checked),className:"sr-only peer"}),ye.jsx("div",{className:"w-9 h-5 bg-white/10 border border-white/10 rounded-full peer-checked:bg-primary/30 peer-checked:border-primary/50 transition-all duration-300"}),ye.jsx("div",{className:"absolute left-0.5 top-0.5 w-4 h-4 bg-text-muted rounded-full transition-all duration-300 peer-checked:translate-x-4 peer-checked:bg-primary peer-checked:shadow-[0_0_8px_rgba(139,92,246,0.6)]"})]}),ye.jsx("span",{className:"hidden sm:inline group-hover:text-white transition-colors",children:"Raw Header"})]})}),ye.jsxs("button",{onClick:te,className:"glass-button px-5 py-2 text-primary hover:text-white hover:bg-primary/20 hover:border-primary/30 flex items-center justify-center mr-2",title:"Copy to Clipboard",children:[ye.jsx(k4,{className:"w-4 h-4 mr-2"}),ye.jsx("span",{className:"hidden sm:inline",children:"Copy"})]}),ye.jsxs("button",{onClick:()=>C(!0),className:"glass-button px-5 py-2 text-primary hover:text-white hover:bg-primary/20 hover:border-primary/30 flex items-center justify-center",children:[ye.jsx(Rx,{className:"w-4 h-4 mr-2"}),"Edit Entry"]})]})]})]}),ye.jsx("div",{className:`glass-card flex-1 p-6 md:p-8 overflow-hidden flex flex-col relative ${T?"ring-2 ring-primary/30":""}`,children:T?ye.jsxs("div",{className:"h-full flex flex-col",children:[ye.jsx("input",{type:"text",value:g,onChange:q=>v(q.target.value),placeholder:"Give this day a title...",className:"w-full bg-transparent text-2xl font-serif font-bold text-white border-none focus:ring-0 placeholder-white/20 mb-6 p-0"}),ye.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar -mr-4 pr-4",children:ye.jsx(w8,{value:f,onChange:m,options:ne,className:"prose-dark"})})]}):ye.jsx("div",{className:"h-full overflow-y-auto custom-scrollbar -mr-4 pr-4",children:ye.jsx("div",{className:"markdown-content prose prose-invert max-w-none",children:W?ye.jsx(KB,{children:W}):ye.jsxs("div",{className:"flex flex-col items-center justify-center h-[40vh] text-text-muted opacity-60",children:[ye.jsx(Rx,{className:"w-12 h-12 mb-4 opacity-30"}),ye.jsx("p",{className:"text-lg",children:"This page is empty."}),ye.jsx("p",{className:"text-sm",children:"Click Edit to start writing."})]})})})})]})}function E8({children:n}){const{currentUser:e}=vl();return e?n:ye.jsx(iD,{to:"/login"})}function S8(){return ye.jsx(X4,{children:ye.jsx("div",{className:"text-text font-body",children:ye.jsx(J4,{children:ye.jsxs(sD,{children:[ye.jsx(Gd,{path:"/login",element:ye.jsx(e6,{})}),ye.jsx(Gd,{path:"/",element:ye.jsx(E8,{children:ye.jsx(IP,{})}),children:ye.jsx(Gd,{path:"/",element:ye.jsx(NP,{}),children:ye.jsx(Gd,{path:"entry/:date",element:ye.jsx(x8,{})})})})]})})})})}a2.createRoot(document.getElementById("root")).render(ye.jsx(rg.StrictMode,{children:ye.jsx(RD,{basename:"/pages/journal-pwa",children:ye.jsx(c4,{children:ye.jsx(S8,{})})})}));
